"use strict";(self.webpackChunkAngularProject=self.webpackChunkAngularProject||[]).push([[179],{2011:(Ke,me,P)=>{P.d(me,{Dh:()=>ee,GT:()=>q,cc:()=>fe,hO:()=>ne,on:()=>O,pX:()=>ie,xv:()=>te});var u=P(4650),H=P(9260),N=P(263);Ke=P.hmd(Ke);const X=["ngOnDestroy"],ie=(Te,he,ce,Ue={})=>new Proxy(Te,{get:(at,Nt)=>ce.runOutsideAngular(()=>{var xt;if(Te[Nt])return!(null===(xt=Ue?.spy)||void 0===xt)&&xt.get&&Ue.spy.get(Nt,Te[Nt]),Te[Nt];if(X.indexOf(Nt)>-1)return()=>{};const qe=he.toPromise().then(ve=>{const we=ve&&ve[Nt];return"function"==typeof we?we.bind(ve):we&&we.then?we.then(Pe=>ce.run(()=>Pe)):ce.run(()=>we)});return new Proxy(()=>{},{get:(ve,we)=>qe[we],apply:(ve,we,Pe)=>qe.then(Ne=>{var ct;const Fe=Ne&&Ne(...Pe);return!(null===(ct=Ue?.spy)||void 0===ct)&&ct.apply&&Ue.spy.apply(Nt,Pe,Fe),Fe})})})}),q=(Te,he)=>{he.forEach(ce=>{Object.getOwnPropertyNames(ce.prototype||ce).forEach(Ue=>{Object.defineProperty(Te.prototype,Ue,Object.getOwnPropertyDescriptor(ce.prototype||ce,Ue))})})};class ge{constructor(he){return he}}const ee=new u.OlP("angularfire2.app.options"),te=new u.OlP("angularfire2.app.name");function O(Te,he,ce){const at="object"==typeof ce&&ce||{};at.name=at.name||"string"==typeof ce&&ce||"[DEFAULT]";const xt=H.Z.apps.filter(qe=>qe&&qe.name===at.name)[0]||he.runOutsideAngular(()=>H.Z.initializeApp(Te,at));try{JSON.stringify(Te)!==JSON.stringify(xt.options)&&V("error",`${xt.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(xt)}const V=(Te,...he)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Te](...he)},U={provide:ge,useFactory:O,deps:[ee,u.R0b,[new u.FiY,te]]};let ne=(()=>{class Te{constructor(ce){H.Z.registerVersion("angularfire",N.q4.full,"core"),H.Z.registerVersion("angularfire",N.q4.full,"app-compat"),H.Z.registerVersion("angular",u.q4F.full,ce.toString())}static initializeApp(ce,Ue){return{ngModule:Te,providers:[{provide:ee,useValue:ce},{provide:te,useValue:Ue}]}}}return Te.\u0275fac=function(ce){return new(ce||Te)(u.LFG(u.Lbi))},Te.\u0275mod=u.oAB({type:Te}),Te.\u0275inj=u.cJS({providers:[U]}),Te})();function fe(Te,he,ce,Ue,at){const[,Nt,xt]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===Te)||[];if(Nt)return function He(Te,he){try{return Te.toString()===he.toString()}catch{return Te===he}}(at,xt)||(ae("error",`${he} was already initialized on the ${ce} Firebase App with different settings.${Ie?" You may need to reload as Firebase is not HMR aware.":""}`),ae("warn",{is:at,was:xt})),Nt;{const qe=Ue();return globalThis.\u0275AngularfireInstanceCache.push([Te,qe,at]),qe}}const Ie=!!Ke.hot,ae=(Te,...he)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Te](...he)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(Ke,me,P)=>{P.d(me,{q4:()=>ba,iC:()=>To,fc:()=>Ll,HU:()=>xe,vb:()=>wd,JM:()=>Da});var u=P(4650),H=P(259),N=P(5861),X=P(9681),ie=P(2090),q=P(4859),ge=P(1877),ee=P(8766);const te="@firebase/installations",O="0.6.0",U=`w:${O}`,ne="FIS_v2",he=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ce(b){return b instanceof ie.ZR&&b.code.includes("request-failed")}function Ue({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function at(b){return{token:b.token,requestStatus:2,expiresIn:Ne(b.expiresIn),creationTime:Date.now()}}function Nt(b,I){return xt.apply(this,arguments)}function xt(){return(xt=(0,N.Z)(function*(b,I){const $=(yield I.json()).error;return he.create("request-failed",{requestName:b,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function qe({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function ve(b,{refreshToken:I}){const M=qe(b);return M.append("Authorization",function ct(b){return`${ne} ${b}`}(I)),M}function we(b){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,N.Z)(function*(b){const I=yield b();return I.status>=500&&I.status<600?b():I})).apply(this,arguments)}function Ne(b){return Number(b.replace("s","000"))}function Fe(b,I){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,N.Z)(function*({appConfig:b,heartbeatServiceProvider:I},{fid:M}){const $=Ue(b),Q=qe(b),se=I.getImmediate({optional:!0});if(se){const Ze=yield se.getHeartbeatsHeader();Ze&&Q.append("x-firebase-client",Ze)}const je={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:ne,appId:b.appId,sdkVersion:U})},Qe=yield we(()=>fetch($,je));if(Qe.ok){const Ze=yield Qe.json();return{fid:Ze.fid||M,registrationStatus:2,refreshToken:Ze.refreshToken,authToken:at(Ze.authToken)}}throw yield Nt("Create Installation",Qe)})).apply(this,arguments)}function pr(b){return new Promise(I=>{setTimeout(I,b)})}const Ri=/^[cdef][\w-]{21}$/;function qi(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const M=function Jt(b){return function xn(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Ri.test(M)?M:""}catch{return""}}function lt(b){return`${b.appName}!${b.appId}`}const Wn=new Map;function ni(b,I){const M=lt(b);Zr(M,I),function sr(b,I){const M=function Wt(){return!Vt&&"BroadcastChannel"in self&&(Vt=new BroadcastChannel("[Firebase] FID Change"),Vt.onmessage=b=>{Zr(b.data.key,b.data.fid)}),Vt}();M&&M.postMessage({key:b,fid:I}),function ri(){0===Wn.size&&Vt&&(Vt.close(),Vt=null)}()}(M,I)}function Zr(b,I){const M=Wn.get(b);if(M)for(const $ of M)$(I)}let Vt=null;const De="firebase-installations-store";let un=null;function Tn(){return un||(un=(0,ee.X3)("firebase-installations-database",1,{upgrade:(b,I)=>{0===I&&b.createObjectStore(De)}})),un}function Bt(b,I){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,N.Z)(function*(b,I){const M=lt(b),Q=(yield Tn()).transaction(De,"readwrite"),se=Q.objectStore(De),Ee=yield se.get(M);return yield se.put(I,M),yield Q.done,(!Ee||Ee.fid!==I.fid)&&ni(b,I.fid),I})).apply(this,arguments)}function Be(b){return or.apply(this,arguments)}function or(){return(or=(0,N.Z)(function*(b){const I=lt(b),$=(yield Tn()).transaction(De,"readwrite");yield $.objectStore(De).delete(I),yield $.done})).apply(this,arguments)}function zn(b,I){return cn.apply(this,arguments)}function cn(){return(cn=(0,N.Z)(function*(b,I){const M=lt(b),Q=(yield Tn()).transaction(De,"readwrite"),se=Q.objectStore(De),Ee=yield se.get(M),je=I(Ee);return void 0===je?yield se.delete(M):yield se.put(je,M),yield Q.done,je&&(!Ee||Ee.fid!==je.fid)&&ni(b,je.fid),je})).apply(this,arguments)}function fn(b){return xr.apply(this,arguments)}function xr(){return(xr=(0,N.Z)(function*(b){let I;const M=yield zn(b.appConfig,$=>{const Q=ht($),se=Ye(b,Q);return I=se.registrationPromise,se.installationEntry});return""===M.fid?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}})).apply(this,arguments)}function ht(b){return At(b||{fid:qi(),registrationStatus:0})}function Ye(b,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(he.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},$=function nt(b,I){return Sn.apply(this,arguments)}(b,M);return{installationEntry:M,registrationPromise:$}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Ln(b)}:{installationEntry:I}}function Sn(){return(Sn=(0,N.Z)(function*(b,I){try{const M=yield Fe(b,I);return Bt(b.appConfig,M)}catch(M){throw ce(M)&&409===M.customData.serverCode?yield Be(b.appConfig):yield Bt(b.appConfig,{fid:I.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Ln(b){return nn.apply(this,arguments)}function nn(){return(nn=(0,N.Z)(function*(b){let I=yield Ot(b.appConfig);for(;1===I.registrationStatus;)yield pr(100),I=yield Ot(b.appConfig);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:$}=yield fn(b);return $||M}return I})).apply(this,arguments)}function Ot(b){return zn(b,I=>{if(!I)throw he.create("installation-not-found");return At(I)})}function At(b){return function ii(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function vt(b,I){return gr.apply(this,arguments)}function gr(){return(gr=(0,N.Z)(function*({appConfig:b,heartbeatServiceProvider:I},M){const $=ft(b,M),Q=ve(b,M),se=I.getImmediate({optional:!0});if(se){const Ze=yield se.getHeartbeatsHeader();Ze&&Q.append("x-firebase-client",Ze)}const je={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:U,appId:b.appId}})},Qe=yield we(()=>fetch($,je));if(Qe.ok)return at(yield Qe.json());throw yield Nt("Generate Auth Token",Qe)})).apply(this,arguments)}function ft(b,{fid:I}){return`${Ue(b)}/${I}/authTokens:generate`}function Un(b){return pn.apply(this,arguments)}function pn(){return(pn=(0,N.Z)(function*(b,I=!1){let M;const $=yield zn(b.appConfig,se=>{if(!bt(se))throw he.create("not-registered");const Ee=se.authToken;if(!I&&z(Ee))return se;if(1===Ee.requestStatus)return M=Ae(b,I),se;{if(!navigator.onLine)throw he.create("app-offline");const je=Y(se);return M=ut(b,je),je}});return M?yield M:$.authToken})).apply(this,arguments)}function Ae(b,I){return pe.apply(this,arguments)}function pe(){return(pe=(0,N.Z)(function*(b,I){let M=yield Ve(b.appConfig);for(;1===M.authToken.requestStatus;)yield pr(100),M=yield Ve(b.appConfig);const $=M.authToken;return 0===$.requestStatus?Un(b,I):$})).apply(this,arguments)}function Ve(b){return zn(b,I=>{if(!bt(I))throw he.create("not-registered");return function j(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ut(b,I){return _t.apply(this,arguments)}function _t(){return(_t=(0,N.Z)(function*(b,I){try{const M=yield vt(b,I),$=Object.assign(Object.assign({},I),{authToken:M});return yield Bt(b.appConfig,$),M}catch(M){if(!ce(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const $=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Bt(b.appConfig,$)}else yield Be(b.appConfig);throw M}})).apply(this,arguments)}function bt(b){return void 0!==b&&2===b.registrationStatus}function z(b){return 2===b.requestStatus&&!function G(b){const I=Date.now();return I<b.creationTime||b.creationTime+b.expiresIn<I+36e5}(b)}function Y(b){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:I})}function B(){return(B=(0,N.Z)(function*(b){const I=b,{installationEntry:M,registrationPromise:$}=yield fn(I);return $?$.catch(console.error):Un(I).catch(console.error),M.fid})).apply(this,arguments)}function _e(){return(_e=(0,N.Z)(function*(b,I=!1){const M=b;return yield We(M),(yield Un(M,I)).token})).apply(this,arguments)}function We(b){return Re.apply(this,arguments)}function Re(){return(Re=(0,N.Z)(function*(b){const{registrationPromise:I}=yield fn(b);I&&(yield I)})).apply(this,arguments)}function al(b){return he.create("missing-app-config-values",{valueName:b})}const ll="installations",Yi=b=>{const I=b.getProvider("app").getImmediate(),M=function Ki(b){if(!b||!b.options)throw al("App Configuration");if(!b.name)throw al("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!b.options[M])throw al(M);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(I);return{app:I,appConfig:M,heartbeatServiceProvider:(0,X._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},no=b=>{const I=b.getProvider("app").getImmediate(),M=(0,X._getProvider)(I,ll).getImmediate();return{getId:()=>function k(b){return B.apply(this,arguments)}(M),getToken:Q=>function oe(b){return _e.apply(this,arguments)}(M,Q)}};(function pi(){(0,X._registerComponent)(new q.wA(ll,Yi,"PUBLIC")),(0,X._registerComponent)(new q.wA("installations-internal",no,"PRIVATE"))})(),(0,X.registerVersion)(te,O),(0,X.registerVersion)(te,O,"esm2017");const si="@firebase/remote-config",An=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vs{constructor(I,M,$,Q){this.client=I,this.storage=M,this.storageCache=$,this.logger=Q}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-M,Q=$<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var M=this;return(0,N.Z)(function*(){const[$,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(I.cacheMaxAgeMillis,$))return Q;I.eTag=Q&&Q.eTag;const se=yield M.client.fetch(I),Ee=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Ee.push(M.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Ee),se})()}}function mi(b=navigator){return b.languages&&b.languages[0]||b.language}class so{constructor(I,M,$,Q,se,Ee){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=$,this.projectId=Q,this.apiKey=se,this.appId=Ee}fetch(I){var M=this;return(0,N.Z)(function*(){const[$,Q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ee=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Qe={sdk_version:M.sdkVersion,app_instance_id:$,app_instance_id_token:Q,app_id:M.appId,language_code:mi()},Ze={method:"POST",headers:je,body:JSON.stringify(Qe)},wt=fetch(Ee,Ze),it=new Promise((Xe,Nn)=>{I.signal.addEventListener(()=>{const an=new Error("The operation was aborted.");an.name="AbortError",Nn(an)})});let wn;try{yield Promise.race([wt,it]),wn=yield wt}catch(Xe){let Nn="fetch-client-network";throw"AbortError"===Xe?.name&&(Nn="fetch-timeout"),An.create(Nn,{originalErrorMessage:Xe?.message})}let In=wn.status;const bi=wn.headers.get("ETag")||void 0;let Nr,Ui;if(200===wn.status){let Xe;try{Xe=yield wn.json()}catch(Nn){throw An.create("fetch-client-parse",{originalErrorMessage:Nn?.message})}Nr=Xe.entries,Ui=Xe.state}if("INSTANCE_STATE_UNSPECIFIED"===Ui?In=500:"NO_CHANGE"===Ui?In=304:("NO_TEMPLATE"===Ui||"EMPTY_CONFIG"===Ui)&&(Nr={}),304!==In&&200!==In)throw An.create("fetch-status",{httpStatus:In});return{status:In,eTag:bi,config:Nr}})()}}class od{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,N.Z)(function*(){const $=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,$)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:$}){var Q=this;return(0,N.Z)(function*(){yield function Or(b,I){return new Promise((M,$)=>{const Q=Math.max(I-Date.now(),0),se=setTimeout(M,Q);b.addEventListener(()=>{clearTimeout(se),$(An.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const se=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),se}catch(se){if(!function Ft(b){if(!(b instanceof ie.ZR&&b.customData))return!1;const I=Number(b.customData.httpStatus);return 429===I||500===I||503===I||504===I}(se))throw se;const Ee={throttleEndTimeMillis:Date.now()+(0,ie.$s)($),backoffCount:$+1};return yield Q.storage.setThrottleMetadata(Ee),Q.attemptFetch(I,Ee)}})()}}class Es{constructor(I,M,$,Q,se){this.app=I,this._client=M,this._storageCache=$,this._storage=Q,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qi(b,I){const M=b.target.error||void 0;return An.create(I,{originalErrorMessage:M&&M?.message})}const yr="app_namespace_store";class Sr{constructor(I,M,$,Q=function qn(){return new Promise((b,I)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=$=>{I(Qi($,"storage-open"))},M.onsuccess=$=>{b($.target.result)},M.onupgradeneeded=$=>{0===$.oldVersion&&$.target.result.createObjectStore(yr,{keyPath:"compositeKey"})}}catch(M){I(An.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=I,this.appName=M,this.namespace=$,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,N.Z)(function*(){const $=yield M.openDbPromise;return new Promise((Q,se)=>{const je=$.transaction([yr],"readonly").objectStore(yr),Qe=M.createCompositeKey(I);try{const Ze=je.get(Qe);Ze.onerror=wt=>{se(Qi(wt,"storage-get"))},Ze.onsuccess=wt=>{const it=wt.target.result;Q(it?it.value:void 0)}}catch(Ze){se(An.create("storage-get",{originalErrorMessage:Ze?.message}))}})})()}set(I,M){var $=this;return(0,N.Z)(function*(){const Q=yield $.openDbPromise;return new Promise((se,Ee)=>{const Qe=Q.transaction([yr],"readwrite").objectStore(yr),Ze=$.createCompositeKey(I);try{const wt=Qe.put({compositeKey:Ze,value:M});wt.onerror=it=>{Ee(Qi(it,"storage-set"))},wt.onsuccess=()=>{se()}}catch(wt){Ee(An.create("storage-set",{originalErrorMessage:wt?.message}))}})})()}delete(I){var M=this;return(0,N.Z)(function*(){const $=yield M.openDbPromise;return new Promise((Q,se)=>{const je=$.transaction([yr],"readwrite").objectStore(yr),Qe=M.createCompositeKey(I);try{const Ze=je.delete(Qe);Ze.onerror=wt=>{se(Qi(wt,"storage-delete"))},Ze.onsuccess=()=>{Q()}}catch(Ze){se(An.create("storage-delete",{originalErrorMessage:Ze?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class cl{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const M=I.storage.getLastFetchStatus(),$=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),se=yield M;se&&(I.lastFetchStatus=se);const Ee=yield $;Ee&&(I.lastSuccessfulFetchTimestampMillis=Ee);const je=yield Q;je&&(I.activeConfig=je)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function ad(){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,N.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Ji(){(0,X._registerComponent)(new q.wA("remote-config",function b(I,{instanceIdentifier:M}){const $=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw An.create("registration-window");if(!(0,ie.hl)())throw An.create("indexed-db-unavailable");const{projectId:se,apiKey:Ee,appId:je}=$.options;if(!se)throw An.create("registration-project-id");if(!Ee)throw An.create("registration-api-key");if(!je)throw An.create("registration-app-id");const Qe=new Sr(je,$.name,M=M||"firebase"),Ze=new cl(Qe),wt=new ge.Yd(si);wt.logLevel=ge.in.ERROR;const it=new so(Q,X.SDK_VERSION,M,se,Ee,je),wn=new od(it,Qe),In=new vs(wn,Qe,Ze,wt),bi=new Es($,In,Ze,Qe,wt);return function rn(b){const I=(0,ie.m9)(b);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(bi),bi},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(si,"0.4.0"),(0,X.registerVersion)(si,"0.4.0","esm2017")}();const ld="/firebase-messaging-sw.js",hl="/firebase-cloud-messaging-push-scope",Au="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ud="google.c.a.c_id",Ru="google.c.a.c_l",Cs="google.c.a.ts",oi="google.c.a.e";var ea=(()=>{return(b=ea||(ea={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",ea;var b})();function Bn(b){const I=new Uint8Array(b);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cd(b){const M=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(M),Q=new Uint8Array($.length);for(let se=0;se<$.length;++se)Q[se]=$.charCodeAt(se);return Q}const ta="fcm_token_details_db",ao="fcm_token_object_Store";function dd(b){return na.apply(this,arguments)}function na(){return na=(0,N.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(ta))return null;let I=null;return(yield(0,ee.X3)(ta,5,{upgrade:($=(0,N.Z)(function*(Q,se,Ee,je){var Qe;if(se<2||!Q.objectStoreNames.contains(ao))return;const Ze=je.objectStore(ao),wt=yield Ze.index("fcmSenderId").get(b);if(yield Ze.clear(),wt)if(2===se){const it=wt;if(!it.auth||!it.p256dh||!it.endpoint)return;I={token:it.fcmToken,createTime:null!==(Qe=it.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:it.auth,p256dh:it.p256dh,endpoint:it.endpoint,swScope:it.swScope,vapidKey:"string"==typeof it.vapidKey?it.vapidKey:Bn(it.vapidKey)}}}else if(3===se){const it=wt;I={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:Bn(it.auth),p256dh:Bn(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:Bn(it.vapidKey)}}}else if(4===se){const it=wt;I={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:Bn(it.auth),p256dh:Bn(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:Bn(it.vapidKey)}}}}),function(se,Ee,je,Qe){return $.apply(this,arguments)})})).close(),yield(0,ee.Lj)(ta),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),tg(I)?I:null;var $}),na.apply(this,arguments)}function tg(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:I}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Ar="firebase-messaging-store";let lo=null;function uo(){return lo||(lo=(0,ee.X3)("firebase-messaging-database",1,{upgrade:(b,I)=>{0===I&&b.createObjectStore(Ar)}})),lo}function bs(b){return hd.apply(this,arguments)}function hd(){return(hd=(0,N.Z)(function*(b){const I=fl(b),$=yield(yield uo()).transaction(Ar).objectStore(Ar).get(I);if($)return $;{const Q=yield dd(b.appConfig.senderId);if(Q)return yield ws(b,Q),Q}})).apply(this,arguments)}function ws(b,I){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,N.Z)(function*(b,I){const M=fl(b),Q=(yield uo()).transaction(Ar,"readwrite");return yield Q.objectStore(Ar).put(I,M),yield Q.done,I})).apply(this,arguments)}function xi(b){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,N.Z)(function*(b){const I=fl(b),$=(yield uo()).transaction(Ar,"readwrite");yield $.objectStore(Ar).delete(I),yield $.done})).apply(this,arguments)}function fl({appConfig:b}){return b.appId}const kn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pl(b,I){return en.apply(this,arguments)}function en(){return(en=(0,N.Z)(function*(b,I){const M=yield Mn(b),$=ku(I),Q={method:"POST",headers:M,body:JSON.stringify($)};let se;try{se=yield(yield fetch(Is(b.appConfig),Q)).json()}catch(Ee){throw kn.create("token-subscribe-failed",{errorInfo:Ee?.toString()})}if(se.error)throw kn.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw kn.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function ra(b,I){return _i.apply(this,arguments)}function _i(){return(_i=(0,N.Z)(function*(b,I){const M=yield Mn(b),$=ku(I.subscriptionOptions),Q={method:"PATCH",headers:M,body:JSON.stringify($)};let se;try{se=yield(yield fetch(`${Is(b.appConfig)}/${I.token}`,Q)).json()}catch(Ee){throw kn.create("token-update-failed",{errorInfo:Ee?.toString()})}if(se.error)throw kn.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw kn.create("token-update-no-token");return se.token})).apply(this,arguments)}function vr(b,I){return gl.apply(this,arguments)}function gl(){return(gl=(0,N.Z)(function*(b,I){const $={method:"DELETE",headers:yield Mn(b)};try{const se=yield(yield fetch(`${Is(b.appConfig)}/${I}`,$)).json();if(se.error)throw kn.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(Q){throw kn.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function Is({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Mn(b){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,N.Z)(function*({appConfig:b,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ku({p256dh:b,auth:I,endpoint:M,vapidKey:$}){const Q={web:{endpoint:M,auth:I,p256dh:b}};return $!==Au&&(Q.web.applicationPubKey=$),Q}const co=6048e5;function ia(b){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,N.Z)(function*(b){const I=yield _l(b.swRegistration,b.vapidKey),M={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:I.endpoint,auth:Bn(I.getKey("auth")),p256dh:Bn(I.getKey("p256dh"))},$=yield bs(b.firebaseDependencies);if($){if(oa($.subscriptionOptions,M))return Date.now()>=$.createTime+co?gt(b,{token:$.token,createTime:Date.now(),subscriptionOptions:M}):$.token;try{yield vr(b.firebaseDependencies,$.token)}catch(Q){console.warn(Q)}return ml(b.firebaseDependencies,M)}return ml(b.firebaseDependencies,M)})).apply(this,arguments)}function sa(b){return ho.apply(this,arguments)}function ho(){return(ho=(0,N.Z)(function*(b){const I=yield bs(b.firebaseDependencies);I&&(yield vr(b.firebaseDependencies,I.token),yield xi(b.firebaseDependencies));const M=yield b.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function gt(b,I){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,N.Z)(function*(b,I){try{const M=yield ra(b.firebaseDependencies,I),$=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield ws(b.firebaseDependencies,$),M}catch(M){throw yield sa(b),M}})).apply(this,arguments)}function ml(b,I){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,N.Z)(function*(b,I){const $={token:yield pl(b,I),createTime:Date.now(),subscriptionOptions:I};return yield ws(b,$),$.token})).apply(this,arguments)}function _l(b,I){return yl.apply(this,arguments)}function yl(){return(yl=(0,N.Z)(function*(b,I){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cd(I)})})).apply(this,arguments)}function oa(b,I){return I.vapidKey===b.vapidKey&&I.endpoint===b.endpoint&&I.auth===b.auth&&I.p256dh===b.p256dh}function mn(b){const I={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function Nu(b,I){if(!I.notification)return;b.notification={};const M=I.notification.title;M&&(b.notification.title=M);const $=I.notification.body;$&&(b.notification.body=$);const Q=I.notification.image;Q&&(b.notification.image=Q);const se=I.notification.icon;se&&(b.notification.icon=se)}(I,b),function ye(b,I){I.data&&(b.data=I.data)}(I,b),function Mt(b,I){var M,$,Q,se,Ee;if(!(I.fcmOptions||null!==(M=I.notification)&&void 0!==M&&M.click_action))return;b.fcmOptions={};const je=null!==(Q=null===($=I.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==Q?Q:null===(se=I.notification)||void 0===se?void 0:se.click_action;je&&(b.fcmOptions.link=je);const Qe=null===(Ee=I.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;Qe&&(b.fcmOptions.analyticsLabel=Qe)}(I,b),I}function Pu(b){return"object"==typeof b&&!!b&&ud in b}function aa(b,I){const M=[];for(let $=0;$<b.length;$++)M.push(b.charAt($)),$<I.length&&M.push(I.charAt($));return M.join("")}function Ss(b){return kn.create("missing-app-config-values",{valueName:b})}aa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),aa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class la{constructor(I,M,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function jn(b){if(!b||!b.options)throw Ss("App Configuration Object");if(!b.name)throw Ss("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=b;for(const $ of I)if(!M[$])throw Ss($);return{appName:b.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:M,analyticsProvider:$}}_delete(){return Promise.resolve()}}function Lr(b){return ua.apply(this,arguments)}function ua(){return(ua=(0,N.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(ld,{scope:hl}),b.swRegistration.update().catch(()=>{})}catch(I){throw kn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function As(b,I){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,N.Z)(function*(b,I){if(!I&&!b.swRegistration&&(yield Lr(b)),I||!b.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");b.swRegistration=I}})).apply(this,arguments)}function xu(b,I){return yi.apply(this,arguments)}function yi(){return(yi=(0,N.Z)(function*(b,I){I?b.vapidKey=I:b.vapidKey||(b.vapidKey=Au)})).apply(this,arguments)}function Ur(){return(Ur=(0,N.Z)(function*(b,I){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield xu(b,I?.vapidKey),yield As(b,I?.serviceWorkerRegistration),ia(b)})).apply(this,arguments)}function fd(b,I,M){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,N.Z)(function*(b,I,M){const $=ai(I);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:M[ud],message_name:M[Ru],message_time:M[Cs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ai(b){switch(b){case ea.NOTIFICATION_CLICKED:return"notification_open";case ea.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ca(){return(ca=(0,N.Z)(function*(b,I){const M=I.data;if(!M.isFirebaseMessaging)return;b.onMessageHandler&&M.messageType===ea.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(mn(M)):b.onMessageHandler.next(mn(M)));const $=M.data;Pu($)&&"1"===$[oi]&&(yield fd(b,M.messageType,$))})).apply(this,arguments)}const da="@firebase/messaging",ha=b=>{const I=new la(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Ou(b,I){return ca.apply(this,arguments)}(I,M)),I},Fu=b=>{const I=b.getProvider("messaging").getImmediate();return{getToken:$=>function Cn(b,I){return Ur.apply(this,arguments)}(I,$)}};function Cl(){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,N.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function El(){(0,X._registerComponent)(new q.wA("messaging",ha,"PUBLIC")),(0,X._registerComponent)(new q.wA("messaging-internal",Fu,"PRIVATE")),(0,X.registerVersion)(da,"0.12.0"),(0,X.registerVersion)(da,"0.12.0","esm2017")}();const pa="analytics",Yn="firebase_id",Uh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wl="https://www.googletagmanager.com/gtag/js",Qn=new ge.Yd("@firebase/analytics");function Il(b){return Promise.all(b.map(I=>I.catch(M=>M)))}function Vh(b,I){const M=document.createElement("script");M.src=`${wl}?l=${b}&id=${I}`,M.async=!0,document.head.appendChild(M)}function Xi(b,I,M,$,Q,se){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,N.Z)(function*(b,I,M,$,Q,se){const Ee=$[Q];try{if(Ee)yield I[Ee];else{const Qe=(yield Il(M)).find(Ze=>Ze.measurementId===Q);Qe&&(yield I[Qe.appId])}}catch(je){Qn.error(je)}b("config",Q,se)})).apply(this,arguments)}function ga(b,I,M,$,Q){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,N.Z)(function*(b,I,M,$,Q){try{let se=[];if(Q&&Q.send_to){let Ee=Q.send_to;Array.isArray(Ee)||(Ee=[Ee]);const je=yield Il(M);for(const Qe of Ee){const Ze=je.find(it=>it.measurementId===Qe),wt=Ze&&I[Ze.appId];if(!wt){se=[];break}se.push(wt)}}0===se.length&&(se=Object.values(I)),yield Promise.all(se),b("event",$,Q||{})}catch(se){Qn.error(se)}})).apply(this,arguments)}function Ns(b){const I=window.document.getElementsByTagName("script");for(const M of Object.values(I))if(M.src&&M.src.includes(wl)&&M.src.includes(b))return M;return null}const Rr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Sl=new class Tl{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function _d(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Al(b){return ju.apply(this,arguments)}function ju(){return(ju=(0,N.Z)(function*(b){var I;const{appId:M,apiKey:$}=b,Q={method:"GET",headers:_d($)},se=Uh.replace("{app-id}",M),Ee=yield fetch(se,Q);if(200!==Ee.status&&304!==Ee.status){let je="";try{const Qe=yield Ee.json();null!==(I=Qe.error)&&void 0!==I&&I.message&&(je=Qe.error.message)}catch{}throw Rr.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:je})}return Ee.json()})).apply(this,arguments)}function ma(b){return go.apply(this,arguments)}function go(){return(go=(0,N.Z)(function*(b,I=Sl,M){const{appId:$,apiKey:Q,measurementId:se}=b.options;if(!$)throw Rr.create("no-app-id");if(!Q){if(se)return{measurementId:se,appId:$};throw Rr.create("no-api-key")}const Ee=I.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new ya;return setTimeout((0,N.Z)(function*(){je.abort()}),void 0!==M?M:6e4),Ps({appId:$,apiKey:Q,measurementId:se},Ee,je,I)})).apply(this,arguments)}function Ps(b,I,M){return Er.apply(this,arguments)}function Er(){return(Er=(0,N.Z)(function*(b,{throttleEndTimeMillis:I,backoffCount:M},$,Q=Sl){var se;const{appId:Ee,measurementId:je}=b;try{yield _a($,I)}catch(Qe){if(je)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Qe?.message}]`),{appId:Ee,measurementId:je};throw Qe}try{const Qe=yield Al(b);return Q.deleteThrottleMetadata(Ee),Qe}catch(Qe){const Ze=Qe;if(!Hu(Ze)){if(Q.deleteThrottleMetadata(Ee),je)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Ze?.message}]`),{appId:Ee,measurementId:je};throw Qe}const wt=503===Number(null===(se=Ze?.customData)||void 0===se?void 0:se.httpStatus)?(0,ie.$s)(M,Q.intervalMillis,30):(0,ie.$s)(M,Q.intervalMillis),it={throttleEndTimeMillis:Date.now()+wt,backoffCount:M+1};return Q.setThrottleMetadata(Ee,it),Qn.debug(`Calling attemptFetch again in ${wt} millis`),Ps(b,it,$,Q)}})).apply(this,arguments)}function _a(b,I){return new Promise((M,$)=>{const Q=Math.max(I-Date.now(),0),se=setTimeout(M,Q);b.addEventListener(()=>{clearTimeout(se),$(Rr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Hu(b){if(!(b instanceof ie.ZR&&b.customData))return!1;const I=Number(b.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ya{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Ml,es;function Fi(){return(Fi=(0,N.Z)(function*(b,I,M,$,Q){if(Q&&Q.global)b("event",M,$);else{const se=yield I;b("event",M,Object.assign(Object.assign({},$),{send_to:se}))}})).apply(this,arguments)}function Gu(b){es=b}function Fs(b){Ml=b}function Rl(){return yo.apply(this,arguments)}function yo(){return(yo=(0,N.Z)(function*(){if(!(0,ie.hl)())return Qn.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(b){return Qn.warn(Rr.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function kl(){return(kl=(0,N.Z)(function*(b,I,M,$,Q,se,Ee){var je;const Qe=ma(b);Qe.then(In=>{M[In.measurementId]=In.appId,b.options.measurementId&&In.measurementId!==b.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${In.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(In=>Qn.error(In)),I.push(Qe);const Ze=Rl().then(In=>{if(In)return $.getId()}),[wt,it]=yield Promise.all([Qe,Ze]);Ns(se)||Vh(se,wt.measurementId),es&&(Q("consent","default",es),Gu(void 0)),Q("js",new Date);const wn=null!==(je=Ee?.config)&&void 0!==je?je:{};return wn.origin="firebase",wn.update=!0,null!=it&&(wn[Yn]=it),Q("config",wt.measurementId,wn),Ml&&(Q("set",Ml),Fs(void 0)),wt.measurementId})).apply(this,arguments)}class _n{constructor(I){this.app=I}_delete(){return delete vi[this.app.options.appId],Promise.resolve()}}let vi={},Ea=[];const Eo={};let Pl,Hr,jr="dataLayer",Ei=!1;function Ls(b,I,M){!function xl(){const b=[];if((0,ie.ru)()&&b.push("This is a browser extension environment."),(0,ie.zI)()||b.push("Cookies are not available."),b.length>0){const I=b.map(($,Q)=>`(${Q+1}) ${$}`).join(" "),M=Rr.create("invalid-analytics-context",{errorInfo:I});Qn.warn(M.message)}}();const $=b.options.appId;if(!$)throw Rr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Rr.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vi[$])throw Rr.create("already-exists",{id:$});if(!Ei){!function md(b){let I=[];Array.isArray(window[b])?I=window[b]:window[b]=I}(jr);const{wrappedGtag:se,gtagCore:Ee}=function Bu(b,I,M,$,Q){let se=function(...Ee){window[$].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(se=window[Q]),window[Q]=function Dl(b,I,M,$){function se(){return(se=(0,N.Z)(function*(Ee,je,Qe){try{"event"===Ee?yield ga(b,I,M,je,Qe):"config"===Ee?yield Xi(b,I,M,$,je,Qe):"consent"===Ee?b("consent","update",Qe):b("set",je)}catch(Ze){Qn.error(Ze)}})).apply(this,arguments)}return function Q(Ee,je,Qe){return se.apply(this,arguments)}}(se,b,I,M),{gtagCore:se,wrappedGtag:window[Q]}}(vi,Ea,Eo,jr,"gtag");Hr=se,Pl=Ee,Ei=!0}return vi[$]=function vo(b,I,M,$,Q,se,Ee){return kl.apply(this,arguments)}(b,Ea,Eo,I,Pl,jr,M),new _n(b)}function Co(){return li.apply(this,arguments)}function li(){return(li=(0,N.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const jt="@firebase/analytics";!function Ed(){(0,X._registerComponent)(new q.wA(pa,(I,{options:M})=>Ls(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,X._registerComponent)(new q.wA("analytics-internal",function b(I){try{const M=I.getProvider(pa).getImmediate();return{logEvent:($,Q,se)=>function ns(b,I,M,$){b=(0,ie.m9)(b),function xs(b,I,M,$,Q){return Fi.apply(this,arguments)}(Hr,vi[b.app.options.appId],I,M,$).catch(Q=>Qn.error(Q))}(M,$,Q,se)}}catch(M){throw Rr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,X.registerVersion)(jt,"0.9.0"),(0,X.registerVersion)(jt,"0.9.0","esm2017")}();var ig=P(341),Cd=P(353),sg=P(2868),Zu=P(2102),jh=P(8915);const ba=new u.GfV("7.5.0"),bd="__angularfire_symbol__analyticsIsSupportedValue",wa="__angularfire_symbol__analyticsIsSupported",bn="__angularfire_symbol__remoteConfigIsSupportedValue",wo="__angularfire_symbol__remoteConfigIsSupported",Vs="__angularfire_symbol__messagingIsSupportedValue",Ia="__angularfire_symbol__messagingIsSupported";function Da(b,I,M){if(I){if(1===I.length)return I[0];const se=I.filter(Ee=>Ee.app===M);if(1===se.length)return se[0]}return M.container.getProvider(b).getImmediate({optional:!0})}globalThis[wa]||(globalThis[wa]=Co().then(b=>globalThis[bd]=b).catch(()=>globalThis[bd]=!1)),globalThis[Ia]||(globalThis[Ia]=Cl().then(b=>globalThis[Vs]=b).catch(()=>globalThis[Vs]=!1)),globalThis[wo]||(globalThis[wo]=ad().then(b=>globalThis[bn]=b).catch(()=>globalThis[bn]=!1));const wd=(b,I)=>{const M=I?[I]:(0,H.C6)(),$=[];return M.forEach(Q=>{Q.container.getProvider(b).instances.forEach(Ee=>{$.includes(Ee)||$.push(Ee)})}),$};function Do(){}class Id{constructor(I,M=ig.N){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,$){const Q=this.zone;return this.delegate.schedule(function(Ee){Q.runGuarded(()=>{I.apply(this,[Ee])})},M,$)}}class on{constructor(I){this.zone=I,this.task=null}call(I,M){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Do,{},Do,Do)),M.pipe((0,sg.b)({next:$,complete:$,error:$})).subscribe(I).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xe=(()=>{class b{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Id(Zone.current)),this.insideAngular=M.run(()=>new Id(Zone.current,Cd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(M){return new(M||b)(u.LFG(u.R0b))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Jn(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Ll(b){return b.pipe((0,Zu.QV)(Jn().outsideAngular))}function To(b){return Jn(),function Bs(b){return function(M){return(M=M.lift(new on(b.ngZone))).pipe((0,jh.R)(b.outsideAngular),(0,Zu.QV)(b.insideAngular))}}(Jn())(b)}},661:(Ke,me,P)=>{P.d(me,{$:()=>ua,A:()=>qi,B:()=>Wn,G:()=>io,H:()=>Ft,J:()=>Bn,L:()=>Rt,M:()=>ws,N:()=>fl,P:()=>I,Q:()=>Fr,R:()=>Id,T:()=>kn,U:()=>Oi,V:()=>_i,W:()=>vr,X:()=>ku,Y:()=>ye,Z:()=>Pu,_:()=>jn,a:()=>Fs,a0:()=>Cn,a1:()=>fd,a2:()=>ai,a3:()=>ca,a4:()=>vl,a5:()=>Fu,a6:()=>Cl,a7:()=>Lu,a8:()=>fa,a9:()=>pd,aA:()=>dn,aB:()=>Md,aC:()=>Sd,aD:()=>js,aE:()=>sn,aI:()=>vo,aL:()=>en,aa:()=>gd,ab:()=>pa,ac:()=>ks,af:()=>Qn,ag:()=>Vh,ah:()=>md,ak:()=>ho,al:()=>Bh,an:()=>Hu,ao:()=>va,ap:()=>Tn,aq:()=>gn,ar:()=>Kt,as:()=>Vt,at:()=>xd,au:()=>wi,av:()=>ki,aw:()=>Wt,ax:()=>De,ay:()=>Qu,az:()=>Xt,b:()=>es,c:()=>wt,d:()=>bi,e:()=>wn,f:()=>Hs,g:()=>X_,h:()=>$r,i:()=>jt,j:()=>ey,k:()=>$l,l:()=>Xn,m:()=>Ao,n:()=>gg,o:()=>xn,r:()=>Ul,s:()=>Jn,u:()=>Dd});var u=P(5861),H=P(2090),N=P(9681),X=P(1877);function ee(_,h){var g={};for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&h.indexOf(y)<0&&(g[y]=_[y]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(y=Object.getOwnPropertySymbols(_);T<y.length;T++)h.indexOf(y[T])<0&&Object.prototype.propertyIsEnumerable.call(_,y[T])&&(g[y[T]]=_[y[T]])}return g}var Zt=P(4859);const xn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},qi={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Wn=function Jt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ni=function lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fn=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zr=new X.Yd("@firebase/auth");function sr(_,...h){Zr.logLevel<=X.in.ERROR&&Zr.error(`Auth (${N.SDK_VERSION}): ${_}`,...h)}function Vt(_,...h){throw Tr(_,...h)}function Wt(_,...h){return Tr(_,...h)}function ri(_,h,g){const y=Object.assign(Object.assign({},ni()),{[h]:g});return new H.LL("auth","Firebase",y).create(h,{appName:_.name})}function Dr(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Vt(_,"argument-error"),ri(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tr(_,...h){if("string"!=typeof _){const g=h[0],y=[...h.slice(1)];return y[0]&&(y[0].appName=_.name),_._errorFactory.create(g,...y)}return Fn.create(_,...h)}function De(_,h,...g){if(!_)throw Tr(h,...g)}function un(_){const h="INTERNAL ASSERTION FAILED: "+_;throw sr(h),new Error(h)}function Tn(_,h){_||un(h)}const Bt=new Map;function Xt(_){Tn(_ instanceof Function,"Expected a class definition");let h=Bt.get(_);return h?(Tn(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,Bt.set(_,h),h)}function zn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function cn(){return"http:"===fn()||"https:"===fn()}function fn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ye{constructor(h,g){this.shortDelay=h,this.longDelay=g,Tn(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function xr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cn()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nt(_,h){Tn(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Sn{static initialize(h,g,y){this.fetchImpl=h,g&&(this.headersImpl=g),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new Ye(3e4,6e4);function Ot(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function At(_,h,g,y){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(_,h,g,y,T={}){return vt(_,T,(0,u.Z)(function*(){let A={},Z={};y&&("GET"===h?Z=y:A={body:JSON.stringify(y)});const le=(0,H.xO)(Object.assign({key:_.config.apiKey},Z)).slice(1),ke=yield _._getAdditionalHeaders();return ke["Content-Type"]="application/json",_.languageCode&&(ke["X-Firebase-Locale"]=_.languageCode),Sn.fetch()(pn(_,_.config.apiHost,g,le),Object.assign({method:h,headers:ke,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function vt(_,h,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(_,h,g){_._canInitEmulator=!1;const y=Object.assign(Object.assign({},Ln),h);try{const T=new Ae(_),A=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const Z=yield A.json();if("needConfirmation"in Z)throw pe(_,"account-exists-with-different-credential",Z);if(A.ok&&!("errorMessage"in Z))return Z;{const le=A.ok?Z.errorMessage:Z.error.message,[ke,Se]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw pe(_,"credential-already-in-use",Z);if("EMAIL_EXISTS"===ke)throw pe(_,"email-already-in-use",Z);if("USER_DISABLED"===ke)throw pe(_,"user-disabled",Z);const et=y[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(Se)throw ri(_,et,Se);Vt(_,et)}}catch(T){if(T instanceof H.ZR)throw T;Vt(_,"network-request-failed")}})).apply(this,arguments)}function ft(_,h,g,y){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(_,h,g,y,T={}){const A=yield At(_,h,g,y,T);return"mfaPendingCredential"in A&&Vt(_,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function pn(_,h,g,y){const T=`${h}${g}?${y}`;return _.config.emulator?nt(_.config,T):`${_.config.apiScheme}://${T}`}class Ae{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,y)=>{this.timer=setTimeout(()=>y(Wt(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pe(_,h,g){const y={appName:_.name};g.email&&(y.email=g.email),g.phoneNumber&&(y.phoneNumber=g.phoneNumber);const T=Wt(_,h,y);return T.customData._tokenResponse=g,T}function ut(){return(ut=(0,u.Z)(function*(_,h){return At(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function _t(_,h){return bt.apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(_,h){return At(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function z(_,h){return G.apply(this,arguments)}function G(){return(G=(0,u.Z)(function*(_,h){return At(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Y(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function B(){return(B=(0,u.Z)(function*(_,h=!1){const g=(0,H.m9)(_),y=yield g.getIdToken(h),T=_e(y);De(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const A="object"==typeof T.firebase?T.firebase:void 0,Z=A?.sign_in_provider;return{claims:T,token:y,authTime:Y(oe(T.auth_time)),issuedAtTime:Y(oe(T.iat)),expirationTime:Y(oe(T.exp)),signInProvider:Z||null,signInSecondFactor:A?.sign_in_second_factor||null}})).apply(this,arguments)}function oe(_){return 1e3*Number(_)}function _e(_){const[h,g,y]=_.split(".");if(void 0===h||void 0===g||void 0===y)return sr("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,H.tV)(g);return T?JSON.parse(T):(sr("Failed to decode base64 JWT payload"),null)}catch(T){return sr("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Re(_,h){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(y){throw y instanceof H.ZR&&Je(y)&&_.auth.currentUser===_&&(yield _.auth.signOut()),y}})).apply(this,arguments)}function Je({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class qt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const y=this.getInterval(h);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),y)}iteration(){var h=this;return(0,u.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class Rn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Y(this.lastLoginAt),this.creationTime=Y(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rt(_){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(_){var h;const g=_.auth,y=yield _.getIdToken(),T=yield Re(_,z(g,{idToken:y}));De(T?.users.length,g,"internal-error");const A=T.users[0];_._notifyReloadListener(A);const Z=null!==(h=A.providerUserInfo)&&void 0!==h&&h.length?ll(A.providerUserInfo):[],le=al(_.providerData,Z),et=!!_.isAnonymous&&!(_.email&&A.passwordHash||le?.length),Ut={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:le,metadata:new Rn(A.createdAt,A.lastLoginAt),isAnonymous:et};Object.assign(_,Ut)})).apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(_){const h=(0,H.m9)(_);yield rt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function al(_,h){return[..._.filter(y=>!h.some(T=>T.providerId===y.providerId)),...h]}function ll(_){return _.map(h=>{var{providerId:g}=h,y=ee(h,["providerId"]);return{providerId:g,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function Yi(){return(Yi=(0,u.Z)(function*(_,h){const g=yield vt(_,{},(0,u.Z)(function*(){const y=(0,H.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:A}=_.config,Z=pn(_,T,"/v1/token",`key=${A}`),le=yield _._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",Sn.fetch()(Z,{method:"POST",headers:le,body:y})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){De(h.idToken,"internal-error"),De(typeof h.idToken<"u","internal-error"),De(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function We(_){const h=_e(_);return De(h,"internal-error"),De(typeof h.exp<"u","internal-error"),De(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var y=this;return(0,u.Z)(function*(){return De(!y.accessToken||y.refreshToken,h,"user-token-expired"),g||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(h,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var y=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:A,expiresIn:Z}=yield function Tu(_,h){return Yi.apply(this,arguments)}(h,g);y.updateTokensAndExpiration(T,A,Number(Z))})()}updateTokensAndExpiration(h,g,y){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(h,g){const{refreshToken:y,accessToken:T,expirationTime:A}=g,Z=new no;return y&&(De("string"==typeof y,"internal-error",{appName:h}),Z.refreshToken=y),T&&(De("string"==typeof T,"internal-error",{appName:h}),Z.accessToken=T),A&&(De("number"==typeof A,"internal-error",{appName:h}),Z.expirationTime=A),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return un("not implemented")}}function pi(_,h){De("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class si{constructor(h){var{uid:g,auth:y,stsTokenManager:T}=h,A=ee(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=y,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new Rn(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,u.Z)(function*(){const y=yield Re(g,g.stsTokenManager.getToken(g.auth,h));return De(y,g.auth,"internal-error"),g.accessToken!==y&&(g.accessToken=y,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),y})()}getIdTokenResult(h){return function k(_){return B.apply(this,arguments)}(this,h)}reload(){return function ol(_){return Ki.apply(this,arguments)}(this)}_assign(h){this!==h&&(De(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new si(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var y=this;return(0,u.Z)(function*(){let T=!1;h.idToken&&h.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(h),T=!0),g&&(yield rt(y)),yield y.auth._persistUserIfCurrent(y),T&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var h=this;return(0,u.Z)(function*(){const g=yield h.getIdToken();return yield Re(h,function Ve(_,h){return ut.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var y,T,A,Z,le,ke,Se,et;const Ut=null!==(y=g.displayName)&&void 0!==y?y:void 0,zt=null!==(T=g.email)&&void 0!==T?T:void 0,nr=null!==(A=g.phoneNumber)&&void 0!==A?A:void 0,Gs=null!==(Z=g.photoURL)&&void 0!==Z?Z:void 0,Wl=null!==(le=g.tenantId)&&void 0!==le?le:void 0,nc=null!==(ke=g._redirectEventId)&&void 0!==ke?ke:void 0,Ld=null!==(Se=g.createdAt)&&void 0!==Se?Se:void 0,Ra=null!==(et=g.lastLoginAt)&&void 0!==et?et:void 0,{uid:No,emailVerified:zl,isAnonymous:Ii,providerData:ka,stsTokenManager:Ud}=g;De(No&&Ud,h,"internal-error");const Vd=no.fromJSON(this.name,Ud);De("string"==typeof No,h,"internal-error"),pi(Ut,h.name),pi(zt,h.name),De("boolean"==typeof zl,h,"internal-error"),De("boolean"==typeof Ii,h,"internal-error"),pi(nr,h.name),pi(Gs,h.name),pi(Wl,h.name),pi(nc,h.name),pi(Ld,h.name),pi(Ra,h.name);const Zl=new si({uid:No,auth:h,email:zt,emailVerified:zl,displayName:Ut,isAnonymous:Ii,photoURL:Gs,phoneNumber:nr,tenantId:Wl,stsTokenManager:Vd,createdAt:Ld,lastLoginAt:Ra});return ka&&Array.isArray(ka)&&(Zl.providerData=ka.map(ql=>Object.assign({},ql))),nc&&(Zl._redirectEventId=nc),Zl}static _fromIdTokenResponse(h,g,y=!1){return(0,u.Z)(function*(){const T=new no;T.updateFromServerResponse(g);const A=new si({uid:g.localId,auth:h,stsTokenManager:T,isAnonymous:y});return yield rt(A),A})()}}const Rt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,y){var T=this;return(0,u.Z)(function*(){T.storage[g]=y})()}_get(g){var y=this;return(0,u.Z)(function*(){const T=y.storage[g];return void 0===T?null:T})()}_remove(g){var y=this;return(0,u.Z)(function*(){delete y.storage[g]})()}_addListener(g,y){}_removeListener(g,y){}}return _.type="NONE",_})();function dn(_,h,g){return`firebase:${_}:${h}:${g}`}class En{constructor(h,g,y){this.persistence=h,this.auth=g,this.userKey=y;const{config:T,name:A}=this.auth;this.fullUserKey=dn(this.userKey,T.apiKey,A),this.fullPersistenceKey=dn("persistence",T.apiKey,A),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,u.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?si._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,u.Z)(function*(){if(g.persistence===h)return;const y=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,y?g.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,y="authUser"){return(0,u.Z)(function*(){if(!g.length)return new En(Xt(Rt),h,y);const T=(yield Promise.all(g.map(function(){var Se=(0,u.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return Se.apply(this,arguments)}}()))).filter(Se=>Se);let A=T[0]||Xt(Rt);const Z=dn(y,h.config.apiKey,h.name);let le=null;for(const Se of g)try{const et=yield Se._get(Z);if(et){const Ut=si._fromJSON(h,et);Se!==A&&(le=Ut),A=Se;break}}catch{}const ke=T.filter(Se=>Se._shouldAllowMigration);return A._shouldAllowMigration&&ke.length?(A=ke[0],le&&(yield A._set(Z,le.toJSON())),yield Promise.all(g.map(function(){var Se=(0,u.Z)(function*(et){if(et!==A)try{yield et._remove(Z)}catch{}});return function(et){return Se.apply(this,arguments)}}())),new En(A,h,y)):new En(A,h,y)})()}}function An(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(mt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(mr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(_r(h))return"Blackberry";if(gi(h))return"Webos";if(qr(h))return"Safari";if((h.includes("chrome/")||Le(h))&&!h.includes("edge/"))return"Chrome";if(Kt(h))return"Android";{const y=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function mr(_=(0,H.z$)()){return/firefox\//i.test(_)}function qr(_=(0,H.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Le(_=(0,H.z$)()){return/crios\//i.test(_)}function mt(_=(0,H.z$)()){return/iemobile/i.test(_)}function Kt(_=(0,H.z$)()){return/android/i.test(_)}function _r(_=(0,H.z$)()){return/blackberry/i.test(_)}function gi(_=(0,H.z$)()){return/webos/i.test(_)}function gn(_=(0,H.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ki(_=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function Ni(_=(0,H.z$)()){return gn(_)||Kt(_)||gi(_)||_r(_)||/windows phone/i.test(_)||mt(_)}function ro(_,h=[]){let g;switch(_){case"Browser":g=An((0,H.z$)());break;case"Worker":g=`${An((0,H.z$)())}-${_}`;break;default:g=_}const y=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${N.SDK_VERSION}/${y}`}class Jo{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const y=A=>new Promise((Z,le)=>{try{Z(h(A))}catch(ke){le(ke)}});y.onAbort=g,this.queue.push(y);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===h)return;const y=[];try{for(const T of g.queue)yield T(h),T.onAbort&&y.push(T.onAbort)}catch(T){y.reverse();for(const A of y)try{A()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class sd{constructor(h,g,y){this.app=h,this.heartbeatServiceProvider=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vn(this),this.idTokenSubscription=new Vn(this),this.beforeStateQueue=new Jo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(h,g){var y=this;return g&&(this._popupRedirectResolver=Xt(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,A;if(!y._deleted&&(y.persistenceManager=yield En.create(y,h),!y._deleted)){if(null!==(T=y._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(g),y.lastNotifiedUid=(null===(A=y.currentUser)||void 0===A?void 0:A.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,u.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,u.Z)(function*(){var y;const T=yield g.assertedPersistence.getCurrentUser();let A=T,Z=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const le=null===(y=g.redirectUser)||void 0===y?void 0:y._redirectEventId,ke=A?._redirectEventId,Se=yield g.tryRedirectSignIn(h);(!le||le===ke)&&Se?.user&&(A=Se.user,Z=!0)}if(!A)return g.directlySetCurrentUser(null);if(!A._redirectEventId){if(Z)try{yield g.beforeStateQueue.runMiddleware(A)}catch(le){A=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(le))}return A?g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)}return De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(h){var g=this;return(0,u.Z)(function*(){let y=null;try{y=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,u.Z)(function*(){try{yield rt(h)}catch(y){if("auth/network-request-failed"!==y?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ht(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,u.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,u.Z)(function*(){const y=h?(0,H.m9)(h):null;return y&&De(y.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(y&&y._clone(g))})()}_updateCurrentUser(h,g=!1){var y=this;return(0,u.Z)(function*(){if(!y._deleted)return h&&De(y.tenantId===h.tenantId,y,"tenant-id-mismatch"),g||(yield y.beforeStateQueue.runMiddleware(h)),y.queue((0,u.Z)(function*(){yield y.directlySetCurrentUser(h),y.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,u.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Xt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new H.LL("auth","Firebase",h())}onAuthStateChanged(h,g,y){return this.registerStateListener(this.authStateSubscription,h,g,y)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,y){return this.registerStateListener(this.idTokenSubscription,h,g,y)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var y=this;return(0,u.Z)(function*(){const T=yield y.getOrInitRedirectPersistenceManager(g);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const y=h&&Xt(h)||g._popupRedirectResolver;De(y,g,"argument-error"),g.redirectPersistenceManager=yield En.create(g,[Xt(y._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,u.Z)(function*(){var y,T;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(y=g._currentUser)||void 0===y?void 0:y._redirectEventId)===h?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,u.Z)(function*(){if(h===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,y,T){if(this._deleted)return()=>{};const A="function"==typeof g?g:g.next.bind(g),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return De(Z,this,"internal-error"),Z.then(()=>A(this.currentUser)),"function"==typeof g?h.addObserver(g,y,T):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=ro(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,u.Z)(function*(){var g;const y={"X-Client-Version":h.clientVersion};h.app.options.appId&&(y["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(y["X-Firebase-Client"]=T),y})()}}function sn(_){return(0,H.m9)(_)}class Vn{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,H.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function io(_,h,g){const y=sn(_);De(y._canInitEmulator,y,"emulator-config-failed"),De(/^https?:\/\//.test(h),y,"invalid-emulator-scheme");const T=!!g?.disableWarnings,A=vs(h),{host:Z,port:le}=function mi(_){const h=vs(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const y=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(y);if(T){const A=T[1];return{host:A,port:so(y.substr(A.length+1))}}{const[A,Z]=y.split(":");return{host:A,port:so(Z)}}}(h);y.config.emulator={url:`${A}//${Z}${null===le?"":`:${le}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:Z,port:le,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Or(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function vs(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function so(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class Ft{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return un("not implemented")}_getIdTokenResponse(h){return un("not implemented")}_linkToIdToken(h,g){return un("not implemented")}_getReauthenticationResolver(h){return un("not implemented")}}function od(_,h){return oo.apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(_,h){return At(_,"POST","/v1/accounts:resetPassword",Ot(_,h))})).apply(this,arguments)}function ul(_,h){return Es.apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(_,h){return At(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qi(_,h){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(_,h){return At(_,"POST","/v1/accounts:update",Ot(_,h))})).apply(this,arguments)}function Su(){return(Su=(0,u.Z)(function*(_,h){return ft(_,"POST","/v1/accounts:signInWithPassword",Ot(_,h))})).apply(this,arguments)}function qn(_,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,u.Z)(function*(_,h){return At(_,"POST","/v1/accounts:sendOobCode",Ot(_,h))})).apply(this,arguments)}function cl(_,h){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(_,h){return qn(_,h)})).apply(this,arguments)}function dl(_,h){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(_,h){return qn(_,h)})).apply(this,arguments)}function ad(_,h){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(_,h){return qn(_,h)})).apply(this,arguments)}function ld(_,h){return hl.apply(this,arguments)}function hl(){return(hl=(0,u.Z)(function*(_,h){return qn(_,h)})).apply(this,arguments)}function Mu(){return(Mu=(0,u.Z)(function*(_,h){return ft(_,"POST","/v1/accounts:signInWithEmailLink",Ot(_,h))})).apply(this,arguments)}function Ru(){return(Ru=(0,u.Z)(function*(_,h){return ft(_,"POST","/v1/accounts:signInWithEmailLink",Ot(_,h))})).apply(this,arguments)}class Cs extends Ft{constructor(h,g,y,T=null){super("password",y),this._email=h,this._password=g,this._tenantId=T}static _fromEmailAndPassword(h,g){return new Cs(h,g,"password")}static _fromEmailAndCode(h,g,y=null){return new Cs(h,g,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function ar(_,h){return Su.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Au(_,h){return Mu.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Vt(h,"internal-error")}})()}_linkToIdToken(h,g){var y=this;return(0,u.Z)(function*(){switch(y.signInMethod){case"password":return ul(h,{idToken:g,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function ud(_,h){return Ru.apply(this,arguments)}(h,{idToken:g,email:y._email,oobCode:y._password});default:Vt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function oi(_,h){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,u.Z)(function*(_,h){return ft(_,"POST","/v1/accounts:signInWithIdp",Ot(_,h))})).apply(this,arguments)}class Bn extends Ft{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Bn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Vt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:y,signInMethod:T}=g,A=ee(g,["providerId","signInMethod"]);if(!y||!T)return null;const Z=new Bn(y,T);return Z.idToken=A.idToken||void 0,Z.accessToken=A.accessToken||void 0,Z.secret=A.secret,Z.nonce=A.nonce,Z.pendingToken=A.pendingToken||null,Z}_getIdTokenResponse(h){return oi(h,this.buildRequest())}_linkToIdToken(h,g){const y=this.buildRequest();return y.idToken=g,oi(h,y)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,oi(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,H.xO)(g)}return h}}function cd(_,h){return ta.apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(_,h){return At(_,"POST","/v1/accounts:sendVerificationCode",Ot(_,h))})).apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(_,h){return ft(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,h))})).apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(_,h){const g=yield ft(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,h));if(g.temporaryProof)throw pe(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const tg={USER_NOT_FOUND:"user-not-found"};function Pi(){return(Pi=(0,u.Z)(function*(_,h){return ft(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),tg)})).apply(this,arguments)}class Ar extends Ft{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Ar({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Ar({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Fh(_,h){return ao.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function dd(_,h){return na.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function ng(_,h){return Pi.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:y,verificationCode:T}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:y,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:y,phoneNumber:T,temporaryProof:A}=h;return y||g||T||A?new Ar({verificationId:g,verificationCode:y,phoneNumber:T,temporaryProof:A}):null}}class bs{constructor(h){var g,y,T,A,Z,le;const ke=(0,H.zd)((0,H.pd)(h)),Se=null!==(g=ke.apiKey)&&void 0!==g?g:null,et=null!==(y=ke.oobCode)&&void 0!==y?y:null,Ut=function lo(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=ke.mode)&&void 0!==T?T:null);De(Se&&et&&Ut,"argument-error"),this.apiKey=Se,this.operation=Ut,this.code=et,this.continueUrl=null!==(A=ke.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(Z=ke.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(le=ke.tenantId)&&void 0!==le?le:null}static parseLink(h){const g=function uo(_){const h=(0,H.zd)((0,H.pd)(_)).link,g=h?(0,H.zd)((0,H.pd)(h)).deep_link_id:null,y=(0,H.zd)((0,H.pd)(_)).deep_link_id;return(y?(0,H.zd)((0,H.pd)(y)).link:null)||y||g||h||_}(h);try{return new bs(g)}catch{return null}}}let ws=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,y){return Cs._fromEmailAndPassword(g,y)}static credentialWithLink(g,y){const T=bs.parseLink(y);return De(T,"argument-error"),Cs._fromEmailAndCode(g,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Kr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class xi extends Kr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Oi extends xi{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return De("providerId"in g&&"signInMethod"in g,"argument-error"),Bn._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return De(h.idToken||h.accessToken,"argument-error"),Bn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Oi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Oi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:y,oauthTokenSecret:T,pendingToken:A,nonce:Z,providerId:le}=h;if(!y&&!T&&!g&&!A||!le)return null;try{return new Oi(le)._credential({idToken:g,accessToken:y,nonce:Z,pendingToken:A})}catch{return null}}}let fl=(()=>{class _ extends xi{constructor(){super("facebook.com")}static credential(g){return Bn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Fr=(()=>{class _ extends xi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,y){return Bn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:T}=g;if(!y&&!T)return null;try{return _.credential(y,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),kn=(()=>{class _ extends xi{constructor(){super("github.com")}static credential(g){return Bn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class en extends Ft{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return oi(h,this.buildRequest())}_linkToIdToken(h,g){const y=this.buildRequest();return y.idToken=g,oi(h,y)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,oi(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:y,signInMethod:T,pendingToken:A}=g;return y&&T&&A&&y===T?new en(y,A):null}static _create(h,g){return new en(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _i extends Kr{constructor(h){De(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return _i.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return _i.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=en.fromJSON(h);return De(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:y}=h;if(!g||!y)return null;try{return en._create(y,g)}catch{return null}}}let vr=(()=>{class _ extends xi{constructor(){super("twitter.com")}static credential(g,y){return Bn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:y,oauthTokenSecret:T}=g;if(!y||!T)return null;try{return _.credential(y,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function gl(_,h){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(_,h){return ft(_,"POST","/v1/accounts:signUp",Ot(_,h))})).apply(this,arguments)}class Mn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,y,T=!1){return(0,u.Z)(function*(){const A=yield si._fromIdTokenResponse(h,y,T),Z=Kn(y);return new Mn({user:A,providerId:Z,_tokenResponse:y,operationType:g})})()}static _forOperation(h,g,y){return(0,u.Z)(function*(){yield h._updateTokensIfNecessary(y,!0);const T=Kn(y);return new Mn({user:h,providerId:T,_tokenResponse:y,operationType:g})})()}}function Kn(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ku(_){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(_){var h;const g=sn(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Mn({user:g.currentUser,providerId:null,operationType:"signIn"});const y=yield gl(g,{returnSecureToken:!0}),T=yield Mn._fromIdTokenResponse(g,"signIn",y,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class ia extends H.ZR{constructor(h,g,y,T){var A;super(g.code,g.message),this.operationType=y,this.user=T,Object.setPrototypeOf(this,ia.prototype),this.customData={appName:h.name,tenantId:null!==(A=h.tenantId)&&void 0!==A?A:void 0,_serverResponse:g.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(h,g,y,T){return new ia(h,g,y,T)}}function Yr(_,h,g,y){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?ia._fromErrorAndOperation(_,A,h,y):A})}function sa(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function ho(_,h){return gt.apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*(_,h){const g=(0,H.m9)(_);yield Ts(!0,g,h);const{providerUserInfo:y}=yield _t(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),T=sa(y||[]);return g.providerData=g.providerData.filter(A=>T.has(A.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ds(_,h){return ml.apply(this,arguments)}function ml(){return(ml=(0,u.Z)(function*(_,h,g=!1){const y=yield Re(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return Mn._forOperation(_,"link",y)})).apply(this,arguments)}function Ts(_,h,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(_,h,g){yield rt(h);const T=!1===_?"provider-already-linked":"no-such-provider";De(sa(h.providerData).has(g)===_,h.auth,T)})).apply(this,arguments)}function yl(_,h){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(_,h,g=!1){const{auth:y}=_,T="reauthenticate";try{const A=yield Re(_,Yr(y,T,h,_),g);De(A.idToken,y,"internal-error");const Z=_e(A.idToken);De(Z,y,"internal-error");const{sub:le}=Z;return De(_.uid===le,y,"user-mismatch"),Mn._forOperation(_,T,A)}catch(A){throw"auth/user-not-found"===A?.code&&Vt(y,"user-mismatch"),A}})).apply(this,arguments)}function mn(_,h){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,u.Z)(function*(_,h,g=!1){const y="signIn",T=yield Yr(_,y,h),A=yield Mn._fromIdTokenResponse(_,y,T);return g||(yield _._updateCurrentUser(A.user)),A})).apply(this,arguments)}function ye(_,h){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(_,h){return mn(sn(_),h)})).apply(this,arguments)}function Pu(_,h){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(_,h){const g=(0,H.m9)(_);return yield Ts(!1,g,h.providerId),Ds(g,h)})).apply(this,arguments)}function jn(_,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(_,h){return yl((0,H.m9)(_),h)})).apply(this,arguments)}function la(_,h){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(_,h){return ft(_,"POST","/v1/accounts:signInWithCustomToken",Ot(_,h))})).apply(this,arguments)}function ua(_,h){return As.apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(_,h){const g=sn(_),y=yield la(g,{token:h,returnSecureToken:!0}),T=yield Mn._fromIdTokenResponse(g,"signIn",y);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ms{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?xu._fromServerResponse(h,g):Vt(h,"internal-error")}}class xu extends Ms{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new xu(g)}}function yi(_,h,g){var y;De((null===(y=g.url)||void 0===y?void 0:y.length)>0,_,"invalid-continue-uri"),De(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Cn(_,h,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(_,h,g){const y=(0,H.m9)(_),T={requestType:"PASSWORD_RESET",email:h};g&&yi(y,T,g),yield dl(y,T)})).apply(this,arguments)}function fd(_,h,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(_,h,g){yield od((0,H.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function ai(_,h){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,u.Z)(function*(_,h){yield Qi((0,H.m9)(_),{oobCode:h})})).apply(this,arguments)}function ca(_,h){return da.apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(_,h){const g=(0,H.m9)(_),y=yield od(g,{oobCode:h}),T=y.requestType;switch(De(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(y.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(y.mfaInfo,g,"internal-error");default:De(y.email,g,"internal-error")}let A=null;return y.mfaInfo&&(A=Ms._fromServerResponse(sn(g),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:A},operation:T}})).apply(this,arguments)}function vl(_,h){return ha.apply(this,arguments)}function ha(){return(ha=(0,u.Z)(function*(_,h){const{data:g}=yield ca((0,H.m9)(_),h);return g.email})).apply(this,arguments)}function Fu(_,h,g){return El.apply(this,arguments)}function El(){return(El=(0,u.Z)(function*(_,h,g){const y=sn(_),T=yield gl(y,{returnSecureToken:!0,email:h,password:g}),A=yield Mn._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}function Cl(_,h,g){return ye((0,H.m9)(_),ws.credential(h,g))}function Lu(_,h,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,u.Z)(function*(_,h,g){const y=(0,H.m9)(_),T={requestType:"EMAIL_SIGNIN",email:h};De(g.handleCodeInApp,y,"argument-error"),g&&yi(y,T,g),yield ad(y,T)})).apply(this,arguments)}function fa(_,h){return"EMAIL_SIGNIN"===bs.parseLink(h)?.operation}function pd(_,h,g){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,u.Z)(function*(_,h,g){const y=(0,H.m9)(_),T=ws.credentialWithLink(h,g||zn());return De(T._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),ye(y,T)})).apply(this,arguments)}function Lh(_,h){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(_,h){return At(_,"POST","/v1/accounts:createAuthUri",Ot(_,h))})).apply(this,arguments)}function gd(_,h){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,u.Z)(function*(_,h){const y={identifier:h,continueUri:cn()?zn():"http://localhost"},{signinMethods:T}=yield Lh((0,H.m9)(_),y);return T||[]})).apply(this,arguments)}function pa(_,h){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(_,h){const g=(0,H.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&yi(g.auth,T,h);const{email:A}=yield cl(g.auth,T);A!==_.email&&(yield _.reload())})).apply(this,arguments)}function ks(_,h,g){return tn.apply(this,arguments)}function tn(){return(tn=(0,u.Z)(function*(_,h,g){const y=(0,H.m9)(_),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&yi(y.auth,A,g);const{email:Z}=yield ld(y.auth,A);Z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Uh(_,h){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(_,h){return At(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qn(_,h){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const y=(0,H.m9)(_),A={idToken:yield y.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Z=yield Re(y,Uh(y.auth,A));y.displayName=Z.displayName||null,y.photoURL=Z.photoUrl||null;const le=y.providerData.find(({providerId:ke})=>"password"===ke);le&&(le.displayName=y.displayName,le.photoURL=y.photoURL),yield y._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Vh(_,h){return Xi((0,H.m9)(_),h,null)}function md(_,h){return Xi((0,H.m9)(_),null,h)}function Xi(_,h,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(_,h,g){const{auth:y}=_,A={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(A.email=h),g&&(A.password=g);const Z=yield Re(_,ul(y,A));yield _._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Mr{constructor(h,g,y={}){this.isNewUser=h,this.providerId=g,this.profile=y}}class Dl extends Mr{constructor(h,g,y,T){super(h,g,y),this.username=T}}class Bu extends Mr{constructor(h,g){super(h,"facebook.com",g)}}class Ns extends Dl{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class fo extends Mr{constructor(h,g){super(h,"google.com",g)}}class Rr extends Dl{constructor(h,g,y){super(h,"twitter.com",g,y)}}function Bh(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ga(_){var h,g;if(!_)return null;const{providerId:y}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},A=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!y&&_?.idToken){const Z=null===(g=null===(h=_e(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Z)return new Mr(A,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!y)return null;switch(y){case"facebook.com":return new Bu(A,T);case"github.com":return new Ns(A,T);case"google.com":return new fo(A,T);case"twitter.com":return new Rr(A,T,_.screenName||null);case"custom":case"anonymous":return new Mr(A,null);default:return new Mr(A,y,T)}}(g)}class Er{constructor(h,g,y){this.type=h,this.credential=g,this.auth=y}static _fromIdtoken(h,g){return new Er("enroll",h,g)}static _fromMfaPendingCredential(h){return new Er("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,y;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Er._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(y=h.multiFactorSession)&&void 0!==y&&y.idToken)return Er._fromIdtoken(h.multiFactorSession.idToken)}return null}}class _a{constructor(h,g,y){this.session=h,this.hints=g,this.signInResolver=y}static _fromError(h,g){const y=sn(h),T=g.customData._serverResponse,A=(T.mfaInfo||[]).map(le=>Ms._fromServerResponse(y,le));De(T.mfaPendingCredential,y,"internal-error");const Z=Er._fromMfaPendingCredential(T.mfaPendingCredential);return new _a(Z,A,function(){var le=(0,u.Z)(function*(ke){const Se=yield ke._process(y,Z);delete T.mfaInfo,delete T.mfaPendingCredential;const et=Object.assign(Object.assign({},T),{idToken:Se.idToken,refreshToken:Se.refreshToken});switch(g.operationType){case"signIn":const Ut=yield Mn._fromIdTokenResponse(y,g.operationType,et);return yield y._updateCurrentUser(Ut.user),Ut;case"reauthenticate":return De(g.user,y,"internal-error"),Mn._forOperation(g.user,g.operationType,et);default:Vt(y,"internal-error")}});return function(ke){return le.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,u.Z)(function*(){return g.signInResolver(h)})()}}function Hu(_,h){var g;const y=(0,H.m9)(_),T=h;return De(h.customData.operationType,y,"argument-error"),De(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,y,"argument-error"),_a._fromError(y,T)}function ya(_,h){return At(_,"POST","/v2/accounts/mfaEnrollment:start",Ot(_,h))}class Fi{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(y=>Ms._fromServerResponse(h.auth,y)))})}static _fromUser(h){return new Fi(h)}getSession(){var h=this;return(0,u.Z)(function*(){return Er._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var y=this;return(0,u.Z)(function*(){const T=h,A=yield y.getSession(),Z=yield Re(y.user,T._process(y.user.auth,A,g));return yield y.user._updateTokensIfNecessary(Z),y.user.reload()})()}unenroll(h){var g=this;return(0,u.Z)(function*(){const y="string"==typeof h?h:h.uid,T=yield g.user.getIdToken(),A=yield Re(g.user,function xs(_,h){return At(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(_,h))}(g.user.auth,{idToken:T,mfaEnrollmentId:y}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Z})=>Z!==y),yield g.user._updateTokensIfNecessary(A);try{yield g.user.reload()}catch(Z){if("auth/user-token-expired"!==Z?.code)throw Z}})()}}const Li=new WeakMap;function va(_){const h=(0,H.m9)(_);return Li.has(h)||Li.set(h,Fi._fromUser(h)),Li.get(h)}const mo="__sak";class Os{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(mo,"1"),this.storage.removeItem(mo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const es=(()=>{class _ extends Os{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,y)=>this.onStorageEvent(g,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $u(){const _=(0,H.z$)();return qr(_)||gn(_)}()&&function Et(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ni(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const y of Object.keys(this.listeners)){const T=this.storage.getItem(y),A=this.localCache[y];T!==A&&g(y,A,T)}}onStorageEvent(g,y=!1){if(!g.key)return void this.forAllChangedKeys((le,ke,Se)=>{this.notifyListeners(le,Se)});const T=g.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(T);if(g.newValue!==le)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!y)return}const A=()=>{const le=this.storage.getItem(T);!y&&this.localCache[T]===le||this.notifyListeners(T,le)},Z=this.storage.getItem(T);!function Qo(){return(0,H.w1)()&&10===document.documentMode}()||Z===g.newValue||g.newValue===g.oldValue?A():setTimeout(A,10)}notifyListeners(g,y){this.localCache[g]=y;const T=this.listeners[g];if(T)for(const A of Array.from(T))A(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,y,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:y,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,y){var T=()=>super._set,A=this;return(0,u.Z)(function*(){yield T().call(A,g,y),A.localCache[g]=JSON.stringify(y)})()}_get(g){var y=()=>super._get,T=this;return(0,u.Z)(function*(){const A=yield y().call(T,g);return T.localCache[g]=JSON.stringify(A),A})()}_remove(g){var y=()=>super._remove,T=this;return(0,u.Z)(function*(){yield y().call(T,g),delete T.localCache[g]})()}}return _.type="LOCAL",_})(),Fs=(()=>{class _ extends Os{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,y){}_removeListener(g,y){}}return _.type="SESSION",_})();let yo=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const y=this.receivers.find(A=>A.isListeningto(g));if(y)return y;const T=new _(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var y=this;return(0,u.Z)(function*(){const T=g,{eventId:A,eventType:Z,data:le}=T.data,ke=y.handlersMap[Z];if(!ke?.size)return;T.ports[0].postMessage({status:"ack",eventId:A,eventType:Z});const Se=Array.from(ke).map(function(){var Ut=(0,u.Z)(function*(zt){return zt(T.origin,le)});return function(zt){return Ut.apply(this,arguments)}}()),et=yield function Rl(_){return Promise.all(_.map(function(){var h=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(y){return{fulfilled:!1,reason:y}}});return function(g){return h.apply(this,arguments)}}()))}(Se);T.ports[0].postMessage({status:"done",eventId:A,eventType:Z,response:et})})()}_subscribe(g,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(y)}_unsubscribe(g,y){this.handlersMap[g]&&y&&this.handlersMap[g].delete(y),(!y||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function vo(_="",h=10){let g="";for(let y=0;y<h;y++)g+=Math.floor(10*Math.random());return _+g}class kl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,y=50){var T=this;return(0,u.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let Z,le;return new Promise((ke,Se)=>{const et=vo("",20);A.port1.start();const Ut=setTimeout(()=>{Se(new Error("unsupported_event"))},y);le={messageChannel:A,onMessage(zt){const nr=zt;if(nr.data.eventId===et)switch(nr.data.status){case"ack":clearTimeout(Ut),Z=setTimeout(()=>{Se(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),ke(nr.data.response);break;default:clearTimeout(Ut),clearTimeout(Z),Se(new Error("invalid_response"))}}},T.handlers.add(le),A.port1.addEventListener("message",le.onMessage),T.target.postMessage({eventType:h,eventId:et,data:g},[A.port2])}).finally(()=>{le&&T.removeMessageHandler(le)})})()}}function _n(){return window}function Ea(){return typeof _n().WorkerGlobalScope<"u"&&"function"==typeof _n().importScripts}function jr(){return(jr=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hr="firebaseLocalStorageDb",Ca="firebaseLocalStorage",xl="fbase_key";class Ls{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ol(_,h){return _.transaction([Ca],h?"readwrite":"readonly").objectStore(Ca)}function Co(){const _=indexedDB.open(Hr,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const y=_.result;try{y.createObjectStore(Ca,{keyPath:xl})}catch(T){g(T)}}),_.addEventListener("success",(0,u.Z)(function*(){const y=_.result;y.objectStoreNames.contains(Ca)?h(y):(y.close(),yield function vd(){const _=indexedDB.deleteDatabase(Hr);return new Ls(_).toPromise()}(),h(yield Co()))}))})}function li(_,h,g){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(_,h,g){const y=Ol(_,!0).put({[xl]:h,value:g});return new Ls(y).toPromise()})).apply(this,arguments)}function Wu(){return(Wu=(0,u.Z)(function*(_,h){const g=Ol(_,!1).get(h),y=yield new Ls(g).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function zu(_,h){const g=Ol(_,!0).delete(h);return new Ls(g).toPromise()}const jt=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Co()),g.db})()}_withRetries(g){var y=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const A=yield y._openDb();return yield g(A)}catch(A){if(T++>3)throw A;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Ea()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=yo._getInstance(function Pl(){return Ea()?self:null}()),g.receiver._subscribe("keyChanged",function(){var y=(0,u.Z)(function*(T,A){return{keyProcessed:(yield g._poll()).includes(A.key)}});return function(T,A){return y.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var y=(0,u.Z)(function*(T,A){return["keyChanged"]});return function(T,A){return y.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var y,T;if(g.activeServiceWorker=yield function Eo(){return jr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new kl(g.activeServiceWorker);const A=yield g.sender._send("ping",{},800);A&&null!==(y=A[0])&&void 0!==y&&y.fulfilled&&null!==(T=A[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var y=this;return(0,u.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Nl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:g},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Co();return yield li(g,mo,"1"),yield zu(g,mo),!0}catch{}return!1})()}_withPendingWrite(g){var y=this;return(0,u.Z)(function*(){y.pendingWrites++;try{yield g()}finally{y.pendingWrites--}})()}_set(g,y){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(A=>li(A,g,y)),T.localCache[g]=y,T.notifyServiceWorker(g)}))})()}_get(g){var y=this;return(0,u.Z)(function*(){const T=yield y._withRetries(A=>function bo(_,h){return Wu.apply(this,arguments)}(A,g));return y.localCache[g]=T,T})()}_remove(g){var y=this;return(0,u.Z)(function*(){return y._withPendingWrite((0,u.Z)(function*(){return yield y._withRetries(T=>zu(T,g)),delete y.localCache[g],y.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const y=yield g._withRetries(Z=>{const le=Ol(Z,!1).getAll();return new Ls(le).toPromise()});if(!y)return[];if(0!==g.pendingWrites)return[];const T=[],A=new Set;for(const{fbase_key:Z,value:le}of y)A.add(Z),JSON.stringify(g.localCache[Z])!==JSON.stringify(le)&&(g.notifyListeners(Z,le),T.push(Z));for(const Z of Object.keys(g.localCache))g.localCache[Z]&&!A.has(Z)&&(g.notifyListeners(Z,null),T.push(Z));return T})()}notifyListeners(g,y){this.localCache[g]=y;const T=this.listeners[g];if(T)for(const A of Array.from(T))A(y)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Fl(_,h){return At(_,"POST","/v2/accounts/mfaSignIn:start",Ot(_,h))}function Cd(){return(Cd=(0,u.Z)(function*(_){return(yield At(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zu(_){return new Promise((h,g)=>{const y=document.createElement("script");y.setAttribute("src",_),y.onload=h,y.onerror=T=>{const A=Wt("internal-error");A.customData=T,g(A)},y.type="text/javascript",y.charset="UTF-8",function sg(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(y)})}function jh(_){return`__${_}${Math.floor(1e6*Math.random())}`}const wa=1e12;class bn{constructor(h){this.auth=h,this.counter=wa,this._widgets=new Map}render(h,g){const y=this.counter;return this._widgets.set(y,new wo(h,this.auth.name,g||{})),this.counter++,y}reset(h){var g;const y=h||wa;null===(g=this._widgets.get(y))||void 0===g||g.delete(),this._widgets.delete(y)}getResponse(h){var g;return(null===(g=this._widgets.get(h||wa))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,u.Z)(function*(){var y;return null===(y=g._widgets.get(h||wa))||void 0===y||y.execute(),""})()}}class wo{constructor(h,g,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;De(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vs(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_;y++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ia=jh("rcb"),kr=new Ye(3e4,6e4);class Hh{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=_n().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return De(function qu(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(_n().grecaptcha):new Promise((y,T)=>{const A=_n().setTimeout(()=>{T(Wt(h,"network-request-failed"))},kr.get());_n()[Ia]=()=>{_n().clearTimeout(A),delete _n()[Ia];const le=_n().grecaptcha;if(!le)return void T(Wt(h,"internal-error"));const ke=le.render;le.render=(Se,et)=>{const Ut=ke(Se,et);return this.counter++,Ut},this.hostLanguage=g,y(le)},Zu(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Ia,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(A),T(Wt(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=_n().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Da{load(h){return(0,u.Z)(function*(){return new bn(h)})()}clearedOneInstance(){}}const wd="recaptcha",Do={theme:"light",type:"image"};class Id{constructor(h,g=Object.assign({},Do),y){this.parameters=g,this.type=wd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sn(y),this.isInvisible="invisible"===this.parameters.size,De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;De(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Da:new Hh,this.validateStartingState()}verify(){var h=this;return(0,u.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),y=h.getAssertedRecaptcha();return y.getResponse(g)||new Promise(A=>{const Z=le=>{le&&(h.tokenChangeListeners.delete(Z),A(le))};h.tokenChangeListeners.add(Z),h.isInvisible&&y.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(y=>y(g)),"function"==typeof h)h(g);else if("string"==typeof h){const y=_n()[h];"function"==typeof y&&y(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,u.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const y=document.createElement("div");g.appendChild(y),g=y}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,u.Z)(function*(){De(cn()&&!Ea(),h.auth,"internal-error"),yield function on(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function ig(_){return Cd.apply(this,arguments)}(h.auth);De(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xe{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Ar._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Jn(_,h,g){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(_,h,g){const y=sn(_),T=yield Bs(y,h,(0,H.m9)(g));return new xe(T,A=>ye(y,A))})).apply(this,arguments)}function Xn(_,h,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(_,h,g){const y=(0,H.m9)(_);yield Ts(!1,y,"phone");const T=yield Bs(y.auth,h,(0,H.m9)(g));return new xe(T,A=>Pu(y,A))})).apply(this,arguments)}function Ul(_,h,g){return To.apply(this,arguments)}function To(){return(To=(0,u.Z)(function*(_,h,g){const y=(0,H.m9)(_),T=yield Bs(y.auth,h,(0,H.m9)(g));return new xe(T,A=>jn(y,A))})).apply(this,arguments)}function Bs(_,h,g){return er.apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(_,h,g){var y;const T=yield g.verify();try{let A;if(De("string"==typeof T,_,"argument-error"),De(g.type===wd,_,"argument-error"),A="string"==typeof h?{phoneNumber:h}:h,"session"in A){const Z=A.session;if("phoneNumber"in A)return De("enroll"===Z.type,_,"internal-error"),(yield ya(_,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{De("signin"===Z.type,_,"internal-error");const le=(null===(y=A.multiFactorHint)||void 0===y?void 0:y.uid)||A.multiFactorUid;return De(le,_,"missing-multi-factor-info"),(yield Fl(_,{mfaPendingCredential:Z.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield cd(_,{phoneNumber:A.phoneNumber,recaptchaToken:T});return Z}}finally{g._reset()}})).apply(this,arguments)}function Dd(_,h){return b.apply(this,arguments)}function b(){return(b=(0,u.Z)(function*(_,h){yield Ds((0,H.m9)(_),h)})).apply(this,arguments)}let I=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=sn(g)}verifyPhoneNumber(g,y){return Bs(this.auth,g,(0,H.m9)(y))}static credential(g,y){return Ar._fromVerification(g,y)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:y,temporaryProof:T}=g;return y&&T?Ar._fromTokenResponse(y,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function M(_,h){return h?Xt(h):(De(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class $ extends Ft{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return oi(h,this._buildIdpRequest())}_linkToIdToken(h,g){return oi(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return oi(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Q(_){return mn(_.auth,new $(_),_.bypassAuthState)}function se(_){const{auth:h,user:g}=_;return De(g,h,"internal-error"),yl(g,new $(_),_.bypassAuthState)}function Ee(_){return je.apply(this,arguments)}function je(){return(je=(0,u.Z)(function*(_){const{auth:h,user:g}=_;return De(g,h,"internal-error"),Ds(g,new $(_),_.bypassAuthState)})).apply(this,arguments)}class Qe{constructor(h,g,y,T,A=!1){this.auth=h,this.resolver=y,this.user=T,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,u.Z)(function*(y,T){h.pendingPromise={resolve:y,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(A){h.reject(A)}});return function(y,T){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,u.Z)(function*(){const{urlResponse:y,sessionId:T,postBody:A,tenantId:Z,error:le,type:ke}=h;if(le)return void g.reject(le);const Se={auth:g.auth,requestUri:y,sessionId:T,tenantId:Z||void 0,postBody:A||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ke)(Se))}catch(et){g.reject(et)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Q;case"linkViaPopup":case"linkViaRedirect":return Ee;case"reauthViaPopup":case"reauthViaRedirect":return se;default:Vt(this.auth,"internal-error")}}resolve(h){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ze=new Ye(2e3,1e4);function wt(_,h,g){return it.apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(_,h,g){const y=sn(_);Dr(_,h,Kr);const T=M(y,g);return new Ui(y,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function wn(_,h,g){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(_,h,g){const y=(0,H.m9)(_);Dr(y.auth,h,Kr);const T=M(y.auth,g);return new Ui(y.auth,"reauthViaPopup",h,T,y).executeNotNull()})).apply(this,arguments)}function bi(_,h,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(_,h,g){const y=(0,H.m9)(_);Dr(y.auth,h,Kr);const T=M(y.auth,g);return new Ui(y.auth,"linkViaPopup",h,T,y).executeNotNull()})).apply(this,arguments)}let Ui=(()=>{class _ extends Qe{constructor(g,y,T,A,Z){super(g,y,A,Z),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const y=yield g.execute();return De(y,g.auth,"internal-error"),y})()}onExecution(){var g=this;return(0,u.Z)(function*(){Tn(1===g.filter.length,"Popup operations only handle one event");const y=vo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],y),g.authWindow.associatedEvent=y,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Wt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var y,T;this.pollId=null!==(T=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Wt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Ze.get())};g()}}return _.currentPopupAction=null,_})();const Nn=new Map;class an extends Qe{constructor(h,g,y=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,y),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,u.Z)(function*(){let y=Nn.get(g.auth._key());if(!y){try{const A=(yield function J_(_,h){return Td.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;y=()=>Promise.resolve(A)}catch(T){y=()=>Promise.reject(T)}Nn.set(g.auth._key(),y)}return g.bypassAuthState||Nn.set(g.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,y=this;return(0,u.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(y,h);if("unknown"!==h.type){if(h.eventId){const T=yield y.auth._redirectUserForId(h.eventId);if(T)return y.user=T,g().call(y,h);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Td(){return(Td=(0,u.Z)(function*(_,h){const g=Ad(h),y=Gh(_);if(!(yield y._isAvailable()))return!1;const T="true"===(yield y._get(g));return yield y._remove(g),T})).apply(this,arguments)}function $h(_,h){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,u.Z)(function*(_,h){return Gh(_)._set(Ad(h),"true")})).apply(this,arguments)}function js(){Nn.clear()}function Sd(_,h){Nn.set(_._key(),h)}function Gh(_){return Xt(_._redirectPersistence)}function Ad(_){return dn("pendingRedirect",_.config.apiKey,_.name)}function Hs(_,h,g){return function Wh(_,h,g){return zh.apply(this,arguments)}(_,h,g)}function zh(){return(zh=(0,u.Z)(function*(_,h,g){const y=sn(_);Dr(_,h,Kr);const T=M(y,g);return yield $h(T,y),T._openRedirect(y,h,"signInViaRedirect")})).apply(this,arguments)}function $r(_,h,g){return function Yu(_,h,g){return Vl.apply(this,arguments)}(_,h,g)}function Vl(){return(Vl=(0,u.Z)(function*(_,h,g){const y=(0,H.m9)(_);Dr(y.auth,h,Kr);const T=M(y.auth,g);yield $h(T,y.auth);const A=yield So(y);return T._openRedirect(y.auth,h,"reauthViaRedirect",A)})).apply(this,arguments)}function X_(_,h,g){return function og(_,h,g){return Bl.apply(this,arguments)}(_,h,g)}function Bl(){return(Bl=(0,u.Z)(function*(_,h,g){const y=(0,H.m9)(_);Dr(y.auth,h,Kr);const T=M(y.auth,g);yield Ts(!1,y,h.providerId),yield $h(T,y.auth);const A=yield So(y);return T._openRedirect(y.auth,h,"linkViaRedirect",A)})).apply(this,arguments)}function ey(_,h){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,u.Z)(function*(_,h){return yield sn(_)._initializationPromise,Md(_,h,!1)})).apply(this,arguments)}function Md(_,h){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,u.Z)(function*(_,h,g=!1){const y=sn(_),T=M(y,h),Z=yield new an(y,T,g).execute();return Z&&!g&&(delete Z.user._redirectEventId,yield y._persistUserIfCurrent(Z.user),yield y._setRedirectUser(null,h)),Z})).apply(this,arguments)}function So(_){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(_){const h=vo(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Qu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(h,y)&&(g=!0,this.sendToConsumer(h,y),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function qh(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ta(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var y;if(h.error&&!Ta(h)){const T=(null===(y=h.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";g.onError(Wt(this.auth,T))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const y=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&y}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rd(h))}saveEventToCache(h){this.cachedEventUids.add(Rd(h)),this.lastProcessedEventTime=Date.now()}}function Rd(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Ta({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function wi(_){return jl.apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(_,h={}){return At(_,"GET","/v1/projects",h)})).apply(this,arguments)}const ag=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lg=/^https?/;function Hl(){return(Hl=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield wi(_);for(const g of h)try{if(ug(g))return}catch{}Vt(_,"unauthorized-domain")})).apply(this,arguments)}function ug(_){const h=zn(),{protocol:g,hostname:y}=new URL(h);if(_.startsWith("chrome-extension://")){const Z=new URL(_);return""===Z.hostname&&""===y?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Z.hostname===y}if(!lg.test(g))return!1;if(ag.test(_))return y===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(y)}const cg=new Ye(3e4,6e4);function Kh(){const _=_n().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ju=null;function Qh(_){return Ju=Ju||function Yh(_){return new Promise((h,g)=>{var y,T,A;function Z(){Kh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Kh(),g(Wt(_,"network-request-failed"))},timeout:cg.get()})}if(null!==(T=null===(y=_n().gapi)||void 0===y?void 0:y.iframes)&&void 0!==T&&T.Iframe)h(gapi.iframes.getContext());else{if(null===(A=_n().gapi)||void 0===A||!A.load){const le=jh("iframefcb");return _n()[le]=()=>{gapi.load?Z():g(Wt(_,"network-request-failed"))},Zu(`https://apis.google.com/js/api.js?onload=${le}`).catch(ke=>g(ke))}Z()}}).catch(h=>{throw Ju=null,h})}(_),Ju}const ur=new Ye(5e3,15e3),Xu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rs(_){const h=_.config;De(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?nt(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,y={apiKey:h.apiKey,appName:_.name,v:N.SDK_VERSION},T=tt.get(_.config.apiHost);T&&(y.eid=T);const A=_._getFrameworks();return A.length&&(y.fw=A.join(",")),`${g}?${(0,H.xO)(y).slice(1)}`}function is(){return is=(0,u.Z)(function*(_){const h=yield Qh(_),g=_n().gapi;return De(g,_,"internal-error"),h.open({where:document.body,url:rs(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xu,dontclear:!0},y=>new Promise(function(){var T=(0,u.Z)(function*(A,Z){yield y.restyle({setHideOnLeave:!1});const le=Wt(_,"network-request-failed"),ke=_n().setTimeout(()=>{Z(le)},ur.get());function Se(){_n().clearTimeout(ke),A(y)}y.ping(Se).then(Se,()=>{Z(le)})});return function(A,Z){return T.apply(this,arguments)}}()))}),is.apply(this,arguments)}const dg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ec{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xd(_,h,g,y,T,A){De(_.config.authDomain,_,"auth-domain-config-required"),De(_.config.apiKey,_,"invalid-api-key");const Z={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:y,v:N.SDK_VERSION,eventId:T};if(h instanceof Kr){h.setDefaultLanguage(_.languageCode),Z.providerId=h.providerId||"",(0,H.xb)(h.getCustomParameters())||(Z.customParameters=JSON.stringify(h.getCustomParameters()));for(const[ke,Se]of Object.entries(A||{}))Z[ke]=Se}if(h instanceof xi){const ke=h.getScopes().filter(Se=>""!==Se);ke.length>0&&(Z.scopes=ke.join(","))}_.tenantId&&(Z.tid=_.tenantId);const le=Z;for(const ke of Object.keys(le))void 0===le[ke]&&delete le[ke];return`${function Aa({config:_}){return _.emulator?nt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,H.xO)(le).slice(1)}`}const tc="webStorageSupport",$l=class hg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fs,this._completeRedirectFn=Md,this._overrideRedirectResult=Sd}_openPopup(h,g,y,T){var A=this;return(0,u.Z)(function*(){var Z;Tn(null===(Z=A.eventManagers[h._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const le=xd(h,g,y,zn(),T);return function ty(_,h,g,y=500,T=600){const A=Math.max((window.screen.availHeight-T)/2,0).toString(),Z=Math.max((window.screen.availWidth-y)/2,0).toString();let le="";const ke=Object.assign(Object.assign({},dg),{width:y.toString(),height:T.toString(),top:A,left:Z}),Se=(0,H.z$)().toLowerCase();g&&(le=Le(Se)?"_blank":g),mr(Se)&&(h=h||"http://localhost",ke.scrollbars="yes");const et=Object.entries(ke).reduce((zt,[nr,Gs])=>`${zt}${nr}=${Gs},`,"");if(function rn(_=(0,H.z$)()){var h;return gn(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Se)&&"_self"!==le)return function cr(_,h){const g=document.createElement("a");g.href=_,g.target=h;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(y)}(h||"",le),new ec(null);const Ut=window.open(h||"",le,et);De(Ut,_,"popup-blocked");try{Ut.focus()}catch{}return new ec(Ut)}(h,le,vo())})()}_openRedirect(h,g,y,T){var A=this;return(0,u.Z)(function*(){return yield A._originValidation(h),function vi(_){_n().location.href=_}(xd(h,g,y,zn(),T)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:T,promise:A}=this.eventManagers[g];return T?Promise.resolve(T):(Tn(A,"If manager is not set, promise should be"),A)}const y=this.initAndGetManager(h);return this.eventManagers[g]={promise:y},y.catch(()=>{delete this.eventManagers[g]}),y}initAndGetManager(h){var g=this;return(0,u.Z)(function*(){const y=yield function Xh(_){return is.apply(this,arguments)}(h),T=new Qu(h);return y.register("authEvent",A=>(De(A?.authEvent,h,"invalid-auth-event"),{status:T.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:T},g.iframes[h._key()]=y,T})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(tc,{type:tc},T=>{var A;const Z=null===(A=T?.[0])||void 0===A?void 0:A[tc];void 0!==Z&&g(!!Z),Vt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function kd(_){return Hl.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ni()||qr()||gn()}};class Od{constructor(h){this.factorId=h}_process(h,g,y){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,y);case"signin":return this._finalizeSignIn(h,g.credential);default:return un("unexpected MultiFactorSessionType")}}}class Gl extends Od{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Gl(h)}_finalizeEnroll(h,g,y){return function Ml(_,h){return At(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(_,h))}(h,{idToken:g,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Ed(_,h){return At(_,"POST","/v2/accounts/mfaSignIn:finalize",Ot(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ao=(()=>{class _{constructor(){}static assertion(g){return Gl._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Mo="@firebase/auth";class It{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(y=>{h(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pg=(0,H.Pz)("authIdTokenMaxAge")||300;let Ma=null;const Fd=_=>function(){var h=(0,u.Z)(function*(g){const y=g&&(yield g.getIdTokenResult()),T=y&&((new Date).getTime()-Date.parse(y.issuedAtTime))/1e3;if(T&&T>pg)return;const A=y?.token;Ma!==A&&(Ma=A,yield fetch(_,{method:A?"POST":"DELETE",headers:A?{Authorization:`Bearer ${A}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function gg(_=(0,N.getApp)()){const h=(0,N._getProvider)(_,"auth");if(h.isInitialized())return h.getImmediate();const g=function Be(_,h){const g=(0,N._getProvider)(_,"auth");if(g.isInitialized()){const T=g.getImmediate(),A=g.getOptions();if((0,H.vZ)(A,h??{}))return T;Vt(T,"already-initialized")}return g.initialize({options:h})}(_,{popupRedirectResolver:$l,persistence:[jt,es,Fs]}),y=(0,H.Pz)("authTokenSyncURL");if(y){const A=Fd(y);(function Sl(_,h,g){(0,H.m9)(_).beforeAuthStateChanged(h,g)})(g,A,()=>A(g.currentUser)),function Tl(_,h,g,y){(0,H.m9)(_).onIdTokenChanged(h,g,y)}(g,Z=>A(Z))}const T=(0,H.q4)("auth");return T&&io(g,`http://${T}`),g}!function fg(_){(0,N._registerComponent)(new Zt.wA("auth",(h,{options:g})=>{const y=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),{apiKey:A,authDomain:Z}=y.options;return((le,ke)=>{De(A&&!A.includes(":"),"invalid-api-key",{appName:le.name}),De(!Z?.includes(":"),"argument-error",{appName:le.name});const Se={apiKey:A,authDomain:Z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ro(_)},et=new sd(le,ke,Se);return function or(_,h){const g=h?.persistence||[],y=(Array.isArray(g)?g:[g]).map(Xt);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(y,h?.popupRedirectResolver)}(et,g),et})(y,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,y)=>{h.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new Zt.wA("auth-internal",h=>{const g=sn(h.getProvider("auth").getImmediate());return new It(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(Mo,"0.21.0",function Ro(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,N.registerVersion)(Mo,"0.21.0","esm2017")}("Browser")},2090:(Ke,me,P)=>{P.d(me,{$s:()=>Ve,BH:()=>On,DV:()=>De,Dv:()=>Ln,GJ:()=>Dr,L:()=>ee,LL:()=>Wn,Pz:()=>Ri,Sg:()=>qi,UG:()=>He,UI:()=>Tn,US:()=>q,Wj:()=>At,Wl:()=>Zr,Yr:()=>at,ZB:()=>V,ZR:()=>lt,aH:()=>xn,b$:()=>Te,cI:()=>St,dS:()=>vt,eu:()=>qe,g5:()=>N,gK:()=>nn,gQ:()=>fn,h$:()=>ge,hl:()=>xt,hu:()=>H,jU:()=>Ie,lb:()=>ii,m9:()=>bt,ne:()=>xr,p$:()=>O,pd:()=>cn,q4:()=>Zt,r3:()=>Tr,ru:()=>ae,tV:()=>te,uI:()=>fe,ug:()=>gr,vZ:()=>Bt,w1:()=>ce,w9:()=>ri,xO:()=>or,xb:()=>un,z$:()=>ne,zI:()=>ve,zd:()=>zn});const H=function(z,G){if(!z)throw N(G)},N=function(z){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+z)},X=function(z){const G=[];let Y=0;for(let j=0;j<z.length;j++){let k=z.charCodeAt(j);k<128?G[Y++]=k:k<2048?(G[Y++]=k>>6|192,G[Y++]=63&k|128):55296==(64512&k)&&j+1<z.length&&56320==(64512&z.charCodeAt(j+1))?(k=65536+((1023&k)<<10)+(1023&z.charCodeAt(++j)),G[Y++]=k>>18|240,G[Y++]=k>>12&63|128,G[Y++]=k>>6&63|128,G[Y++]=63&k|128):(G[Y++]=k>>12|224,G[Y++]=k>>6&63|128,G[Y++]=63&k|128)}return G},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,G){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let k=0;k<z.length;k+=3){const B=z[k],oe=k+1<z.length,_e=oe?z[k+1]:0,We=k+2<z.length,Re=We?z[k+2]:0;let qt=(15&_e)<<2|Re>>6,Rn=63&Re;We||(Rn=64,oe||(qt=64)),j.push(Y[B>>2],Y[(3&B)<<4|_e>>4],Y[qt],Y[Rn])}return j.join("")},encodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(z):this.encodeByteArray(X(z),G)},decodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(z):function(z){const G=[];let Y=0,j=0;for(;Y<z.length;){const k=z[Y++];if(k<128)G[j++]=String.fromCharCode(k);else if(k>191&&k<224){const B=z[Y++];G[j++]=String.fromCharCode((31&k)<<6|63&B)}else if(k>239&&k<365){const We=((7&k)<<18|(63&z[Y++])<<12|(63&z[Y++])<<6|63&z[Y++])-65536;G[j++]=String.fromCharCode(55296+(We>>10)),G[j++]=String.fromCharCode(56320+(1023&We))}else{const B=z[Y++],oe=z[Y++];G[j++]=String.fromCharCode((15&k)<<12|(63&B)<<6|63&oe)}}return G.join("")}(this.decodeStringToByteArray(z,G))},decodeStringToByteArray(z,G){this.init_();const Y=G?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let k=0;k<z.length;){const B=Y[z.charAt(k++)],_e=k<z.length?Y[z.charAt(k)]:0;++k;const Re=k<z.length?Y[z.charAt(k)]:64;++k;const Je=k<z.length?Y[z.charAt(k)]:64;if(++k,null==B||null==_e||null==Re||null==Je)throw Error();j.push(B<<2|_e>>4),64!==Re&&(j.push(_e<<4&240|Re>>2),64!==Je&&j.push(Re<<6&192|Je))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},ge=function(z){const G=X(z);return q.encodeByteArray(G,!0)},ee=function(z){return ge(z).replace(/\./g,"")},te=function(z){try{return q.decodeString(z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function O(z){return V(void 0,z)}function V(z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return G}for(const Y in G)!G.hasOwnProperty(Y)||!U(Y)||(z[Y]=V(z[Y],G[Y]));return z}function U(z){return"__proto__"!==z}function ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function He(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ie(){return"object"==typeof self&&self.self===self}function ae(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){const z=ne();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function at(){return!1}function xt(){try{return"object"==typeof indexedDB}catch{return!1}}function qe(){return new Promise((z,G)=>{try{let Y=!0;const j="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(j);k.onsuccess=()=>{k.result.close(),Y||self.indexedDB.deleteDatabase(j),z(!0)},k.onupgradeneeded=()=>{Y=!1},k.onerror=()=>{var B;G((null===(B=k.error)||void 0===B?void 0:B.message)||"")}}catch(Y){G(Y)}})}function ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Fe=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=z&&te(z[1]);return G&&JSON.parse(G)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},Zt=z=>{var G,Y;return null===(Y=null===(G=Fe())||void 0===G?void 0:G.emulatorHosts)||void 0===Y?void 0:Y[z]},xn=()=>{var z;return null===(z=Fe())||void 0===z?void 0:z.config},Ri=z=>{var G;return null===(G=Fe())||void 0===G?void 0:G[`_${z}`]};class On{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Y)=>{this.resolve=G,this.reject=Y})}wrapCallback(G){return(Y,j)=>{Y?this.reject(Y):this.resolve(j),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Y):G(Y,j))}}}function qi(z,G){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=G||"demo-project",k=z.iat||0,B=z.sub||z.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:k,exp:k+3600,auth_time:k,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},z);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(oe)),""].join(".")}class lt extends Error{constructor(G,Y,j){super(Y),this.code=G,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wn.prototype.create)}}class Wn{constructor(G,Y,j){this.service=G,this.serviceName=Y,this.errors=j}create(G,...Y){const j=Y[0]||{},k=`${this.service}/${G}`,B=this.errors[G],oe=B?function ni(z,G){return z.replace(Fn,(Y,j)=>{const k=G[j];return null!=k?String(k):`<${j}?>`})}(B,j):"Error";return new lt(k,`${this.serviceName}: ${oe} (${k}).`,j)}}const Fn=/\{\$([^}]+)}/g;function St(z){return JSON.parse(z)}function Zr(z){return JSON.stringify(z)}const sr=function(z){let G={},Y={},j={},k="";try{const B=z.split(".");G=St(te(B[0])||""),Y=St(te(B[1])||""),k=B[2],j=Y.d||{},delete Y.d}catch{}return{header:G,claims:Y,data:j,signature:k}},ri=function(z){const Y=sr(z).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},Dr=function(z){const G=sr(z).claims;return"object"==typeof G&&!0===G.admin};function Tr(z,G){return Object.prototype.hasOwnProperty.call(z,G)}function De(z,G){if(Object.prototype.hasOwnProperty.call(z,G))return z[G]}function un(z){for(const G in z)if(Object.prototype.hasOwnProperty.call(z,G))return!1;return!0}function Tn(z,G,Y){const j={};for(const k in z)Object.prototype.hasOwnProperty.call(z,k)&&(j[k]=G.call(Y,z[k],k,z));return j}function Bt(z,G){if(z===G)return!0;const Y=Object.keys(z),j=Object.keys(G);for(const k of Y){if(!j.includes(k))return!1;const B=z[k],oe=G[k];if(Xt(B)&&Xt(oe)){if(!Bt(B,oe))return!1}else if(B!==oe)return!1}for(const k of j)if(!Y.includes(k))return!1;return!0}function Xt(z){return null!==z&&"object"==typeof z}function or(z){const G=[];for(const[Y,j]of Object.entries(z))Array.isArray(j)?j.forEach(k=>{G.push(encodeURIComponent(Y)+"="+encodeURIComponent(k))}):G.push(encodeURIComponent(Y)+"="+encodeURIComponent(j));return G.length?"&"+G.join("&"):""}function zn(z){const G={};return z.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[k,B]=j.split("=");G[decodeURIComponent(k)]=decodeURIComponent(B)}}),G}function cn(z){const G=z.indexOf("?");if(!G)return"";const Y=z.indexOf("#",G);return z.substring(G,Y>0?Y:void 0)}class fn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,Y){Y||(Y=0);const j=this.W_;if("string"==typeof G)for(let Je=0;Je<16;Je++)j[Je]=G.charCodeAt(Y)<<24|G.charCodeAt(Y+1)<<16|G.charCodeAt(Y+2)<<8|G.charCodeAt(Y+3),Y+=4;else for(let Je=0;Je<16;Je++)j[Je]=G[Y]<<24|G[Y+1]<<16|G[Y+2]<<8|G[Y+3],Y+=4;for(let Je=16;Je<80;Je++){const qt=j[Je-3]^j[Je-8]^j[Je-14]^j[Je-16];j[Je]=4294967295&(qt<<1|qt>>>31)}let Re,pt,k=this.chain_[0],B=this.chain_[1],oe=this.chain_[2],_e=this.chain_[3],We=this.chain_[4];for(let Je=0;Je<80;Je++){Je<40?Je<20?(Re=_e^B&(oe^_e),pt=1518500249):(Re=B^oe^_e,pt=1859775393):Je<60?(Re=B&oe|_e&(B|oe),pt=2400959708):(Re=B^oe^_e,pt=3395469782);const qt=(k<<5|k>>>27)+Re+We+pt+j[Je]&4294967295;We=_e,_e=oe,oe=4294967295&(B<<30|B>>>2),B=k,k=qt}this.chain_[0]=this.chain_[0]+k&4294967295,this.chain_[1]=this.chain_[1]+B&4294967295,this.chain_[2]=this.chain_[2]+oe&4294967295,this.chain_[3]=this.chain_[3]+_e&4294967295,this.chain_[4]=this.chain_[4]+We&4294967295}update(G,Y){if(null==G)return;void 0===Y&&(Y=G.length);const j=Y-this.blockSize;let k=0;const B=this.buf_;let oe=this.inbuf_;for(;k<Y;){if(0===oe)for(;k<=j;)this.compress_(G,k),k+=this.blockSize;if("string"==typeof G){for(;k<Y;)if(B[oe]=G.charCodeAt(k),++oe,++k,oe===this.blockSize){this.compress_(B),oe=0;break}}else for(;k<Y;)if(B[oe]=G[k],++oe,++k,oe===this.blockSize){this.compress_(B),oe=0;break}}this.inbuf_=oe,this.total_+=Y}digest(){const G=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let k=this.blockSize-1;k>=56;k--)this.buf_[k]=255&Y,Y/=256;this.compress_(this.buf_);let j=0;for(let k=0;k<5;k++)for(let B=24;B>=0;B-=8)G[j]=this.chain_[k]>>B&255,++j;return G}}function xr(z,G){const Y=new ht(z,G);return Y.subscribe.bind(Y)}class ht{constructor(G,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{G(this)}).catch(j=>{this.error(j)})}next(G){this.forEachObserver(Y=>{Y.next(G)})}error(G){this.forEachObserver(Y=>{Y.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Y,j){let k;if(void 0===G&&void 0===Y&&void 0===j)throw new Error("Missing Observer.");k=function nt(z,G){if("object"!=typeof z||null===z)return!1;for(const Y of G)if(Y in z&&"function"==typeof z[Y])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Y,complete:j},void 0===k.next&&(k.next=Sn),void 0===k.error&&(k.error=Sn),void 0===k.complete&&(k.complete=Sn);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),B}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,G)}sendOne(G,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Y(this.observers[G])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sn(){}const Ln=function(z,G,Y,j){let k;if(j<G?k="at least "+G:j>Y&&(k=0===Y?"none":"no more than "+Y),k)throw new Error(z+" failed: Was called with "+j+(1===j?" argument.":" arguments.")+" Expects "+k+".")};function nn(z,G){return`${z} failed: ${G} argument `}function At(z,G,Y,j){if((!j||Y)&&"function"!=typeof Y)throw new Error(nn(z,G)+"must be a valid function.")}function ii(z,G,Y,j){if((!j||Y)&&("object"!=typeof Y||null===Y))throw new Error(nn(z,G)+"must be a valid context object.")}const vt=function(z){const G=[];let Y=0;for(let j=0;j<z.length;j++){let k=z.charCodeAt(j);if(k>=55296&&k<=56319){const B=k-55296;j++,H(j<z.length,"Surrogate pair missing trail surrogate."),k=65536+(B<<10)+(z.charCodeAt(j)-56320)}k<128?G[Y++]=k:k<2048?(G[Y++]=k>>6|192,G[Y++]=63&k|128):k<65536?(G[Y++]=k>>12|224,G[Y++]=k>>6&63|128,G[Y++]=63&k|128):(G[Y++]=k>>18|240,G[Y++]=k>>12&63|128,G[Y++]=k>>6&63|128,G[Y++]=63&k|128)}return G},gr=function(z){let G=0;for(let Y=0;Y<z.length;Y++){const j=z.charCodeAt(Y);j<128?G++:j<2048?G+=2:j>=55296&&j<=56319?(G+=4,Y++):G+=3}return G};function Ve(z,G=1e3,Y=2){const j=G*Math.pow(Y,z),k=Math.round(.5*j*(Math.random()-.5)*2);return Math.min(144e5,j+k)}function bt(z){return z&&z._delegate?z._delegate:z}},9767:(Ke,me,P)=>{var u=P(4650);let H=null;function N(){return H}class ie{}const q=new u.OlP("DocumentToken");let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ee(){return(0,u.LFG)(O)}()},providedIn:"platform"}),n})();const te=new u.OlP("Location Initialized");let O=(()=>{class n extends ge{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,a){V()?this._history.pushState(e,i,a):this._location.hash=a}replaceState(e,i,a){V()?this._history.replaceState(e,i,a):this._location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(q))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function U(){return new O((0,u.LFG)(q))}()},providedIn:"platform"}),n})();function V(){return!!window.history.pushState}function ne(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function fe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let Ie=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Te)},providedIn:"root"}),n})();const ae=new u.OlP("appBaseHref");let Te=(()=>{class n extends Ie{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ne(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,d){const p=this.prepareExternalUrl(a+He(d));this._platformLocation.pushState(e,i,p)}replaceState(e,i,a,d){const p=this.prepareExternalUrl(a+He(d));this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ge),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),he=(()=>{class n extends Ie{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ne(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,d){let p=this.prepareExternalUrl(a+He(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,i,p)}replaceState(e,i,a,d){let p=this.prepareExternalUrl(a+He(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ge),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ce=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function xt(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(fe(Nt(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+He(i))}normalize(e){return n.stripTrailingSlash(function at(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._basePath,Nt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._locationStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),a)}replaceState(e,i="",a=null){this._locationStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return n.normalizeQueryParams=He,n.joinWithSlash=ne,n.stripTrailingSlash=fe,n.\u0275fac=function(e){return new(e||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ue(){return new ce((0,u.LFG)(Ie))}()},providedIn:"root"}),n})();function Nt(n){return n.replace(/\/index.html$/,"")}class _r{constructor(t,e,i,a){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gi=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((a,d,p)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new _r(a.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)i.remove(null===d?void 0:d);else if(null!==d){const v=i.get(d);i.move(v,p),gn(v,a)}});for(let a=0,d=i.length;a<d;a++){const v=i.get(a).context;v.index=a,v.count=d,v.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{gn(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function gn(n,t){n.context.$implicit=t.item}let rn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Qo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ni("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ni("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Qo{constructor(){this.$implicit=null,this.ngIf=null}}function Ni(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}let Bn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();let Ar=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new lo((0,u.LFG)(q),window)}),n})();class lo{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function bs(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const d=a.shadowRoot;if(d){const p=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(p)return p}a=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(i-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=uo(this.window.history)||uo(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function uo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class md extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xi extends md{static makeCurrent(){!function X(n){H||(H=n)}(new Xi)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ga(){return Vr=Vr||document.querySelector("base"),Vr?Vr.getAttribute("href"):null}();return null==e?null:function Dl(n){Mr=Mr||document.createElement("a"),Mr.setAttribute("href",n);const t=Mr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Vr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function mr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[a,d]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let Mr,Vr=null;const Bu=new u.OlP("TRANSITION_ID"),fo=[{provide:u.ip1,useFactory:function Ns(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const i=N(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)i.remove(a[d])})}},deps:[Bu,q,u.zs3],multi:!0}];let Bh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const po=new u.OlP("EventManagerPlugins");let Tl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let d=0;d<a.length;d++){const p=a[d];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(po),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Sl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const a=N().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let _d=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Al=(()=>{class n extends _d{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,a){e.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,a.push(i.appendChild(p))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ju),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(e,a,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ju))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(q))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function ju(n){N().remove(n)}const ma={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},go=/%COMP%/g;function xs(n,t){return t.flat(100).map(e=>e.replace(go,n))}function Fi(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Li=(()=>{class n{constructor(e,i,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new va(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new Br(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(e),a}case u.ifc.ShadowDom:return new yd(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const a=xs(i.id,i.styles);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Tl),u.LFG(Al),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class va{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ma[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){($u(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&($u(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,a){if(a){e=a+":"+e;const d=ma[a];d?t.setAttributeNS(d,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const a=ma[i];a?t.removeAttributeNS(a,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,a){a&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,i,a&u.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Fi(i)):this.eventManager.addEventListener(t,e,Fi(i))}}function $u(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Br extends va{constructor(t,e,i,a){super(t),this.component=i;const d=xs(a+"-"+i.id,i.styles);e.addStyles(d),this.contentAttr=function ya(n){return"_ngcontent-%COMP%".replace(go,n)}(a+"-"+i.id),this.hostAttr=function Ml(n){return"_nghost-%COMP%".replace(go,n)}(a+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class yd extends va{constructor(t,e,i,a){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=xs(a.id,a.styles);for(let p=0;p<d.length;p++){const v=document.createElement("style");v.textContent=d[p],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _o=(()=>{class n extends Sl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(q))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const es=["alt","control","meta","shift"],Gu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Rl=(()=>{class n extends Sl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,a){const d=n.parseEventName(i),p=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,d.domEventName,p))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(i.pop());let p="",v=i.indexOf("code");if(v>-1&&(i.splice(v,1),p="code."),es.forEach(S=>{const x=i.indexOf(S);x>-1&&(i.splice(x,1),p+=S+".")}),p+=d,0!=i.length||0===d.length)return null;const w={};return w.domEventName=a,w.fullKey=p,w}static matchEventFullKeyCode(e,i){let a=Gu[e.key]||e.key,d="";return i.indexOf("code.")>-1&&(a=e.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),es.forEach(p=>{p!==a&&(0,Fs[p])(e)&&(d+=p+".")}),d+=a,d===i)}static eventCallback(e,i,a){return d=>{n.matchEventFullKeyCode(d,e)&&a.runGuarded(()=>i(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(q))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Pl=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Ea(){Xi.makeCurrent()},multi:!0},{provide:q,useFactory:function jr(){return(0,u.RDi)(document),document},deps:[]}]),Hr=new u.OlP(""),Ei=[{provide:u.rWj,useClass:class Rr{addToWindow(t){u.dqk.getAngularTestability=(i,a=!0)=>{const d=t.findTestabilityInTree(i,a);if(null==d)throw new Error("Could not find testability for element.");return d},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const a=u.dqk.getAllAngularTestabilities();let d=a.length,p=!1;const v=function(w){p=p||w,d--,0==d&&i(p)};a.forEach(function(w){w.whenStable(v)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Ca=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Eo(){return new u.qLn},deps:[]},{provide:po,useClass:_o,multi:!0,deps:[q,u.R0b,u.Lbi]},{provide:po,useClass:Rl,multi:!0,deps:[q]},{provide:Li,useClass:Li,deps:[Tl,Al,u.AFp]},{provide:u.FYo,useExisting:Li},{provide:_d,useExisting:Al},{provide:Al,useClass:Al,deps:[q]},{provide:Tl,useClass:Tl,deps:[po,u.R0b]},{provide:class ws{},useClass:Bh,deps:[]},[]];let xl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:Bu,useExisting:u.AFp},fo]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Hr,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Ca,...Ei],imports:[Bn,u.hGG]}),n})(),li=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(q))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Co(){return new li((0,u.LFG)(q))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var on=P(5254),xe=P(1086),Jn=P(8929),Ci=P(5279);class Xn extends Jn.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ci.N;return this._value}next(t){super.next(this._value=t)}}const Ul=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var To=P(2866),Bs=P(6688),er=P(3489);class Dd extends er.L{notifyNext(t,e,i,a,d){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class b extends er.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var I=P(9249),M=P(6498);function $(n,t,e,i,a=new b(n,e,i)){if(!a.closed)return t instanceof M.y?t.subscribe(a):(0,I.s)(t)(a)}var Q=P(3009);const se={};function Ee(...n){let t,e;return(0,To.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,Bs.k)(n[0])&&(n=n[0]),(0,Q.n)(n,e).lift(new je(t))}class je{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Qe(t,this.resultSelector))}}class Qe extends Dd{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(se),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add($(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const a=this.values,p=this.toRespond?a[i]===se?--this.toRespond:this.toRespond:0;a[i]=e,0===p&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var Ze=P(9146);function it(...n){return function wt(){return(0,Ze.J)(1)}()((0,xe.of)(...n))}var wn=P(8896);function In(n){return new M.y(t=>{let e;try{e=n()}catch(a){return void t.error(a)}return(e?(0,on.D)(e):(0,wn.c)()).subscribe(t)})}var bi=P(4843),Nr=P(1737),Ui=P(1762),Xe=P(4850),Nn=P(1177);function an(n,t){return"function"==typeof t?e=>e.pipe(an((i,a)=>(0,on.D)(n(i,a)).pipe((0,Xe.U)((d,p)=>t(i,d,a,p))))):e=>e.lift(new J_(n))}class J_{constructor(t){this.project=t}call(t,e){return e.subscribe(new Td(t,this.project))}}class Td extends Nn.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Nn.IY(this),a=this.destination;a.add(i),this.innerSubscription=(0,Nn.ft)(t,i),this.innerSubscription!==i&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ku=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function js(n){return t=>0===n?(0,wn.c)():t.lift(new Sd(n))}class Sd{constructor(t){if(this.total=t,this.total<0)throw new Ku}call(t,e){return e.subscribe(new Gh(t,this.total))}}class Gh extends er.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Hs(n,t){return function(i){return i.lift(new Wh(n,t))}}class Wh{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new zh(t,this.predicate,this.thisArg))}}class zh extends er.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}var $r=P(1709);function Yu(n=null){return t=>t.lift(new Vl(n))}class Vl{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new X_(t,this.defaultValue))}}class X_ extends er.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function og(n=Zh){return t=>t.lift(new Bl(n))}class Bl{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ey(t,this.errorFactory))}}class ey extends er.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Zh(){return new Ul}var Md=P(5379);function Vi(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Hs((a,d)=>n(a,d,i)):Md.y,js(1),e?Yu(t):og(()=>new Ul))}function So(n,t){return(0,$r.zg)(n,t,1)}var tr=P(2868);function $s(n){return function(e){const i=new Qu(n),a=e.lift(i);return i.caught=a}}class Qu{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Rd(t,this.selector,this.caught))}}class Rd extends Nn.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const i=new Nn.IY(this);this.add(i);const a=(0,Nn.ft)(e,i);a!==i&&this.add(a)}}}function Ta(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new qh(n,t,e))}}class qh{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new wi(t,this.accumulator,this.seed,this.hasSeed))}}class wi extends er.L{constructor(t,e,i,a){super(t),this.accumulator=e,this._seed=i,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(a){this.destination.error(a)}this.seed=i,this.destination.next(i)}}function jl(n){return function(e){return 0===n?(0,wn.c)():e.lift(new ag(n))}}class ag{constructor(t){if(this.total=t,this.total<0)throw new Ku}call(t,e){return e.subscribe(new lg(t,this.total))}}class lg extends er.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,a=this.count++;e.length<i?e.push(t):e[a%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,a=this.ring;for(let d=0;d<i;d++){const p=e++%i;t.next(a[p])}}t.complete()}}function kd(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Hs((a,d)=>n(a,d,i)):Md.y,jl(1),e?Yu(t):og(()=>new Ul))}class ug{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new cg(t,this.predicate,this.inclusive))}}class cg extends er.L{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(a){return void e.error(a)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}class Yh{constructor(t){this.value=t}call(t,e){return e.subscribe(new Ju(t,this.value))}}class Ju extends er.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}var Qh=P(2654);function ur(n){return t=>t.lift(new Nd(n))}class Nd{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Jh(t,this.callback))}}class Jh extends er.L{constructor(t,e){super(t),this.add(new Qh.w(e))}}var Xu=P(4327);const tt="primary",rs=Symbol("RouteTitle");class Xh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function is(n){return new Xh(n)}function dg(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const a={};for(let d=0;d<i.length;d++){const p=i[d],v=n[d];if(p.startsWith(":"))a[p.substring(1)]=v;else if(p!==v.path)return null}return{consumed:n.slice(0,i.length),posParams:a}}function Bi(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!Pd(n[a],t[a]))return!1;return!0}function Pd(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((a,d)=>i[d]===a)}return n===t}function tf(n){return Array.prototype.concat.apply([],n)}function ec(n){return n.length>0?n[n.length-1]:null}function cr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ji(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,on.D)(Promise.resolve(n)):(0,xe.of)(n)}const Sa=!1,xd={exact:function $l(n,t,e){if(!ko(n.segments,t.segments)||!Mo(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!$l(n.children[i],t.children[i],e))return!1;return!0},subset:Gl},Aa={exact:function hg(n,t){return Bi(n,t)},subset:function Od(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Pd(n[e],t[e]))},ignored:()=>!0};function tc(n,t,e){return xd[e.paths](n.root,t.root,e.matrixParams)&&Aa[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Gl(n,t,e){return Ao(n,t,t.segments,e)}function Ao(n,t,e,i){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!ko(a,e)||t.hasChildren()||!Mo(a,e,i))}if(n.segments.length===e.length){if(!ko(n.segments,e)||!Mo(n.segments,e,i))return!1;for(const a in t.children)if(!n.children[a]||!Gl(n.children[a],t.children[a],i))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(ko(n.segments,a)&&Mo(n.segments,a,i)&&n.children[tt])&&Ao(n.children[tt],t,d,i)}}function Mo(n,t,e){return t.every((i,a)=>Aa[e](n[a].parameters,i.parameters))}class ss{constructor(t=new It([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=is(this.queryParams)),this._queryParamMap}toString(){return gg.serialize(this)}}class It{constructor(t,e){this.segments=t,this.children=e,this.parent=null,cr(e,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _(this)}}class Ro{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=is(this.parameters)),this._parameterMap}toString(){return ke(this)}}function ko(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Ma=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Fd},providedIn:"root"}),n})();class Fd{parse(t){const e=new Ld(t);return new ss(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${h(t.root,!0)}`,i=function et(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(a=>`${y(e)}=${y(a)}`).join("&"):`${y(e)}=${y(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function T(n){return encodeURI(n)}(t.fragment)}`:""}`}}const gg=new Fd;function _(n){return n.segments.map(t=>ke(t)).join("/")}function h(n,t){if(!n.hasChildren())return _(n);if(t){const e=n.children[tt]?h(n.children[tt],!1):"",i=[];return cr(n.children,(a,d)=>{d!==tt&&i.push(`${d}:${h(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function pg(n,t){let e=[];return cr(n.children,(i,a)=>{a===tt&&(e=e.concat(t(i,a)))}),cr(n.children,(i,a)=>{a!==tt&&(e=e.concat(t(i,a)))}),e}(n,(i,a)=>a===tt?[h(n.children[tt],!1)]:[`${a}:${h(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[tt]?`${_(n)}/${e[0]}`:`${_(n)}/(${e.join("//")})`}}function g(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function y(n){return g(n).replace(/%3B/gi,";")}function A(n){return g(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Z(n){return decodeURIComponent(n)}function le(n){return Z(n.replace(/\+/g,"%20"))}function ke(n){return`${A(n.path)}${function Se(n){return Object.keys(n).map(t=>`;${A(t)}=${A(n[t])}`).join("")}(n.parameters)}`}const Ut=/^[^\/()?;=#]+/;function zt(n){const t=n.match(Ut);return t?t[0]:""}const nr=/^[^=?&#]+/,Wl=/^[^&#]+/;class Ld{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[tt]=new It(t,e)),i}parseSegment(){const t=zt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,Sa);return this.capture(t),new Ro(Z(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zt(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=zt(this.remaining);a&&(i=a,this.capture(i))}t[Z(e)]=Z(i)}parseQueryParam(t){const e=function Gs(n){const t=n.match(nr);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const p=function nc(n){const t=n.match(Wl);return t?t[0]:""}(this.remaining);p&&(i=p,this.capture(i))}const a=le(e),d=le(i);if(t.hasOwnProperty(a)){let p=t[a];Array.isArray(p)||(p=[p],t[a]=p),p.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=zt(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new u.vHH(4010,Sa);let d;i.indexOf(":")>-1?(d=i.slice(0,i.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=tt);const p=this.parseChildren();e[d]=1===Object.keys(p).length?p[tt]:new It([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,Sa)}}function Ra(n){return n.segments.length>0?new It([],{[tt]:n}):n}function No(n){const t={};for(const i of Object.keys(n.children)){const d=No(n.children[i]);(d.segments.length>0||d.hasChildren())&&(t[i]=d)}return function zl(n){if(1===n.numberOfChildren&&n.children[tt]){const t=n.children[tt];return new It(n.segments.concat(t.segments),t.children)}return n}(new It(n.segments,t))}function Ii(n){return n instanceof ss}function ql(n,t,e,i,a){if(0===e.length)return ic(t.root,t.root,t.root,i,a);const d=function mg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ry(!0,0,n);let t=0,e=!1;const i=n.reduce((a,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const v={};return cr(d.outlets,(w,S)=>{v[S]="string"==typeof w?w.split("/"):w}),[...a,{outlets:v}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===p?(d.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?e=!0:".."===v?t++:""!=v&&a.push(v))}),a):[...a,d]},[]);return new ry(e,t,i)}(e);return d.toRoot()?ic(t.root,t.root,new It([],{}),i,a):function p(w){const S=function _g(n,t,e,i){if(n.isAbsolute)return new Kl(t.root,!0,0);if(-1===i)return new Kl(e,e===t.root,0);return function Na(n,t,e){let i=n,a=t,d=e;for(;d>a;){if(d-=a,i=i.parent,!i)throw new u.vHH(4005,!1);a=i.segments.length}return new Kl(i,!1,a-d)}(e,i+(Bd(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,w),x=S.processChildren?rf(S.segmentGroup,S.index,d.commands):yg(S.segmentGroup,S.index,d.commands);return ic(t.root,S.segmentGroup,x,i,a)}(n.snapshot?._lastPathIndex)}function Bd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rc(n){return"object"==typeof n&&null!=n&&n.outlets}function ic(n,t,e,i,a){let p,d={};i&&cr(i,(w,S)=>{d[S]=Array.isArray(w)?w.map(x=>`${x}`):`${w}`}),p=n===t?e:ny(n,t,e);const v=Ra(No(p));return new ss(v,d,a)}function ny(n,t,e){const i={};return cr(n.children,(a,d)=>{i[d]=a===t?e:ny(a,t,e)}),new It(n.segments,i)}class ry{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Bd(i[0]))throw new u.vHH(4003,!1);const a=i.find(rc);if(a&&a!==ec(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kl{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function yg(n,t,e){if(n||(n=new It([],{})),0===n.segments.length&&n.hasChildren())return rf(n,t,e);const i=function zC(n,t,e){let i=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(i>=e.length)return d;const p=n.segments[a],v=e[i];if(rc(v))break;const w=`${v}`,S=i<e.length-1?e[i+1]:null;if(a>0&&void 0===w)break;if(w&&S&&"object"==typeof S&&void 0===S.outlets){if(!Hd(w,S,p))return d;i+=2}else{if(!Hd(w,{},p))return d;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(n,t,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const d=new It(n.segments.slice(0,i.pathIndex),{});return d.children[tt]=new It(n.segments.slice(i.pathIndex),n.children),rf(d,0,a)}return i.match&&0===a.length?new It(n.segments,{}):i.match&&!n.hasChildren()?jd(n,t,e):i.match?rf(n,0,a):jd(n,t,e)}function rf(n,t,e){if(0===e.length)return new It(n.segments,{});{const i=function WC(n){return rc(n[0])?n[0].outlets:{[tt]:n}}(e),a={};return cr(i,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[p]=yg(n.children[p],t,d))}),cr(n.children,(d,p)=>{void 0===i[p]&&(a[p]=d)}),new It(n.segments,a)}}function jd(n,t,e){const i=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(rc(d)){const w=ZC(d.outlets);return new It(i,w)}if(0===a&&Bd(e[0])){i.push(new Ro(n.segments[t].path,vg(e[0]))),a++;continue}const p=rc(d)?d.outlets[tt]:`${d}`,v=a<e.length-1?e[a+1]:null;p&&v&&Bd(v)?(i.push(new Ro(p,vg(v))),a+=2):(i.push(new Ro(p,{})),a++)}return new It(i,{})}function ZC(n){const t={};return cr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=jd(new It([],{}),0,e))}),t}function vg(n){const t={};return cr(n,(e,i)=>t[i]=`${e}`),t}function Hd(n,t,e){return n==e.path&&Bi(t,e.parameters)}const Yl="imperative";class os{constructor(t,e){this.id=t,this.url=e}}class sf extends os{constructor(t,e,i="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pa extends os{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $d extends os{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class iy extends os{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=16}}class sy extends os{constructor(t,e,i,a){super(t,e),this.error=i,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qC extends os{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KC extends os{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YC extends os{constructor(t,e,i,a,d){super(t,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xa extends os{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gd extends os{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QC{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KI{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YI{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QI{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JI{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XI{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eg{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let XC=(()=>{class n{createUrlTree(e,i,a,d,p,v){return ql(e||i.root,a,d,p,v)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Cg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){return XC.\u0275fac(t)},providedIn:"root"}),n})();class Ws{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ql(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Ql(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=af(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return af(t,this._root).map(e=>e.value)}}function Ql(n,t){if(n===t.value)return t;for(const e of t.children){const i=Ql(n,e);if(i)return i}return null}function af(n,t){if(n===t.value)return[t];for(const e of t.children){const i=af(n,e);if(i.length)return i.unshift(t),i}return[]}class zs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class eb extends Ws{constructor(t,e){super(t),this.snapshot=e,Ig(this,t)}toString(){return this.snapshot.toString()}}function tb(n,t){const e=function nD(n,t){const p=new bg([],{},{},"",{},tt,t,null,n.root,-1,{});return new wg("",new zs(p,[]))}(n,t),i=new Xn([new Ro("",{})]),a=new Xn({}),d=new Xn({}),p=new Xn({}),v=new Xn(""),w=new Zs(i,a,p,v,d,tt,t,e.root);return w.snapshot=e.root,new eb(new zs(w,[]),e)}class Zs{constructor(t,e,i,a,d,p,v,w){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=d,this.outlet=p,this.component=v,this.title=this.data?.pipe((0,Xe.U)(S=>S[rs]))??(0,xe.of)(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xe.U)(t=>is(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xe.U)(t=>is(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lf(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const a=e[i],d=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(d.component)break;i--}}return function rD(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class bg{get title(){return this.data?.[rs]}constructor(t,e,i,a,d,p,v,w,S,x,W){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=d,this.outlet=p,this.component=v,this.routeConfig=w,this._urlSegment=S,this._lastPathIndex=x,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=is(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=is(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wg extends Ws{constructor(t,e){super(e),this.url=t,Ig(this,e)}toString(){return oy(this._root)}}function Ig(n,t){t.value._routerState=n,t.children.forEach(e=>Ig(n,e))}function oy(n){const t=n.children.length>0?` { ${n.children.map(oy).join(", ")} } `:"";return`${n.value}${t}`}function Dg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Bi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Bi(t.params,e.params)||n.params.next(e.params),function ef(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Bi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Bi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Tg(n,t){const e=Bi(n.params,t.params)&&function fg(n,t){return ko(n,t)&&n.every((e,i)=>Bi(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Tg(n.parent,t.parent))}function Oa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const a=function nb(n,t,e){return t.children.map(i=>{for(const a of e.children)if(n.shouldReuseRoute(i.value,a.value.snapshot))return Oa(n,i,a);return Oa(n,i)})}(n,t,e);return new zs(i,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(v=>Oa(n,v)),p}}const i=function Sg(n){return new Zs(new Xn(n.url),new Xn(n.params),new Xn(n.queryParams),new Xn(n.fragment),new Xn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>Oa(n,d));return new zs(i,a)}}const Ag="ngNavigationCancelingError";function Hn(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ii(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=ly(!1,0,t);return a.url=e,a.navigationBehaviorOptions=i,a}function ly(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ag]=!0,i.cancellationCode=t,e&&(i.url=e),i}function uy(n){return uf(n)&&Ii(n.url)}function uf(n){return n&&n[Ag]}class cy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Wd,this.attachRef=null}}let Wd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new cy,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cf=!1;let Mg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=tt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Wd),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:a}=e.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,cf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,cf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,cf);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new u.vHH(4013,cf);this._activatedRoute=e;const a=this.location,p=e.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,w=new rb(e,v,a.injector);if(i&&function dy(n){return!!n.resolveComponentFactory}(i)){const S=i.resolveComponentFactory(p);this.activated=a.createComponent(S,a.length,w)}else this.activated=a.createComponent(p,{index:a.length,injector:w,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class rb{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Zs?this.route:t===Wd?this.childContexts:this.parent.get(t,e)}}let hy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(e,i){1&e&&u._UZ(0,"router-outlet")},dependencies:[Mg],encapsulation:2}),n})();function ib(n,t){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ff(n){const t=n.children&&n.children.map(ff),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==tt&&(e.component=hy),e}function ui(n){return n.outlet||tt}function lb(n,t){const e=n.filter(i=>ui(i)===t);return e.push(...n.filter(i=>ui(i)!==t)),e}function Xl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Rg{constructor(t,e,i,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=a}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Dg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const a=Jl(e);t.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,a[p],i),delete a[p]}),cr(a,(d,p)=>{this.deactivateRouteAndItsChildren(d,i)})}deactivateRoutes(t,e,i){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const p=i.getContext(a.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,i);else d&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,d=Jl(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);if(i&&i.outlet){const p=i.outlet.detach(),v=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:v})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,d=Jl(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const a=Jl(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],i),this.forwardEvent(new XI(d.value.snapshot))}),t.children.length&&this.forwardEvent(new QI(t.value.snapshot))}activateRoutes(t,e,i){const a=t.value,d=e?e.value:null;if(Dg(a),a===d)if(a.component){const p=i.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,i);else if(a.component){const p=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(v.contexts),p.attachRef=v.componentRef,p.route=v.route.value,p.outlet&&p.outlet.attach(v.componentRef,v.route.value),Dg(v.route.value),this.activateChildRoutes(t,null,p.children)}else{const v=Xl(a.snapshot),w=v?.get(u._Vd)??null;p.attachRef=null,p.route=a,p.resolver=w,p.injector=v,p.outlet&&p.outlet.activateWith(a,p.injector),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,i)}}class kg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zd{constructor(t,e){this.component=t,this.route=e}}function eu(n,t,e){const i=n._root;return La(i,t?t._root:null,e,[i.value])}function Fa(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,u.Z0I)(n)?t.get(n):n:i}function La(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=Jl(t);return n.children.forEach(p=>{(function db(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,p=t?t.value:null,v=e?e.getContext(n.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const w=function Ng(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ko(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ko(n.url,t.url)||!Bi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tg(n,t)||!Bi(n.queryParams,t.queryParams);default:return!Tg(n,t)}}(p,d,d.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new kg(i)):(d.data=p.data,d._resolvedData=p._resolvedData),La(n,t,d.component?v?v.children:null:e,i,a),w&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new zd(v.outlet.component,p))}else p&&Ua(t,v,a),a.canActivateChecks.push(new kg(i)),La(n,null,d.component?v?v.children:null:e,i,a)})(p,d[p.value.outlet],e,i.concat([p.value]),a),delete d[p.value.outlet]}),cr(d,(p,v)=>Ua(p,e.getContext(v),a)),a}function Ua(n,t,e){const i=Jl(n),a=n.value;cr(i,(d,p)=>{Ua(d,a.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new zd(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function as(n){return"function"==typeof n}function xg(n){return n instanceof Ul||"EmptyError"===n?.name}const oc=Symbol("INITIAL_VALUE");function ac(){return an(n=>Ee(n.map(t=>t.pipe(js(1),function Ad(...n){const t=n[n.length-1];return(0,To.K)(t)?(n.pop(),e=>it(n,e,t)):e=>it(n,e)}(oc)))).pipe((0,Xe.U)(t=>{for(const e of t)if(!0!==e){if(e===oc)return oc;if(!1===e||e instanceof ss)return e}return!0}),Hs(t=>t!==oc),js(1)))}function vy(n){return(0,bi.z)((0,tr.b)(t=>{if(Ii(t))throw Hn(0,t)}),(0,Xe.U)(t=>!0===t))}const Og={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cy(n,t,e,i,a){const d=Fg(n,t,e);return d.matched?function Ey(n,t,e,i){const a=t.canMatch;if(!a||0===a.length)return(0,xe.of)(!0);const d=a.map(p=>{const v=Fa(p,n);return ji(function sc(n){return n&&as(n.canMatch)}(v)?v.canMatch(t,e):n.runInContext(()=>v(t,e)))});return(0,xe.of)(d).pipe(ac(),vy())}(i=ib(t,i),t,e).pipe((0,Xe.U)(p=>!0===p?d:{...Og})):(0,xe.of)(d)}function Fg(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Og}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||dg)(e,n,t);if(!a)return{...Og};const d={};cr(a.posParams,(v,w)=>{d[w]=v.path});const p=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:p,positionalParamSegments:a.posParams??{}}}function Kd(n,t,e,i){if(e.length>0&&function Ug(n,t,e){return e.some(i=>uc(n,t,i)&&ui(i)!==tt)}(n,e,i)){const d=new It(t,function Lg(n,t,e,i){const a={};a[tt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&ui(d)!==tt){const p=new It([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,a[ui(d)]=p}return a}(n,t,i,new It(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function yb(n,t,e){return e.some(i=>uc(n,t,i))}(n,e,i)){const d=new It(n.segments,function by(n,t,e,i,a){const d={};for(const p of i)if(uc(n,e,p)&&!a[ui(p)]){const v=new It([],{});v._sourceSegment=n,v._segmentIndexShift=t.length,d[ui(p)]=v}return{...a,...d}}(n,t,e,i,n.children));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const a=new It(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function uc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function cc(n,t,e,i){return!!(ui(n)===i||i!==tt&&uc(t,e,n))&&("**"===n.path||Fg(t,n,e).matched)}function wy(n,t,e){return 0===t.length&&!n.children[e]}const pf=!1;class gf{constructor(t){this.segmentGroup=t||null}}class Iy{constructor(t){this.urlTree=t}}function Yd(n){return(0,Nr._)(new gf(n))}function Dy(n){return(0,Nr._)(new Iy(n))}class Eb{constructor(t,e,i,a,d){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=a,this.config=d,this.allowRedirects=!0}apply(){const t=Kd(this.urlTree.root,[],[],this.config).segmentGroup,e=new It(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,tt).pipe((0,Xe.U)(d=>this.createUrlTree(No(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe($s(d=>{if(d instanceof Iy)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof gf?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,tt).pipe((0,Xe.U)(a=>this.createUrlTree(No(a),t.queryParams,t.fragment))).pipe($s(a=>{throw a instanceof gf?this.noMatchError(a):a}))}noMatchError(t){return new u.vHH(4002,pf)}createUrlTree(t,e,i){const a=Ra(t);return new ss(a,e,i)}expandSegmentGroup(t,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Xe.U)(d=>new It([],d))):this.expandSegment(t,i,e,i.segments,a,!0)}expandChildren(t,e,i){const a=[];for(const d of Object.keys(i.children))"primary"===d?a.unshift(d):a.push(d);return(0,on.D)(a).pipe(So(d=>{const p=i.children[d],v=lb(e,d);return this.expandSegmentGroup(t,v,p,d).pipe((0,Xe.U)(w=>({segment:w,outlet:d})))}),Ta((d,p)=>(d[p.outlet]=p.segment,d),{}),kd())}expandSegment(t,e,i,a,d,p){return(0,on.D)(i).pipe(So(v=>this.expandSegmentAgainstRoute(t,e,i,v,a,d,p).pipe($s(S=>{if(S instanceof gf)return(0,xe.of)(null);throw S}))),Vi(v=>!!v),$s((v,w)=>{if(xg(v))return wy(e,a,d)?(0,xe.of)(new It([],{})):Yd(e);throw v}))}expandSegmentAgainstRoute(t,e,i,a,d,p,v){return cc(a,e,d,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,d,p):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,a,d,p):Yd(e):Yd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,a,d,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,a){const d=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Dy(d):this.lineralizeSegments(i,d).pipe((0,$r.zg)(p=>{const v=new It(p,{});return this.expandSegment(t,v,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,d,p){const{matched:v,consumedSegments:w,remainingSegments:S,positionalParamSegments:x}=Fg(e,a,d);if(!v)return Yd(e);const W=this.applyRedirectCommands(w,a.redirectTo,x);return a.redirectTo.startsWith("/")?Dy(W):this.lineralizeSegments(a,W).pipe((0,$r.zg)(J=>this.expandSegment(t,e,i,J.concat(S),p,!1)))}matchSegmentAgainstRoute(t,e,i,a,d){return"**"===i.path?(t=ib(i,t),i.loadChildren?(i._loadedRoutes?(0,xe.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Xe.U)(v=>(i._loadedRoutes=v.routes,i._loadedInjector=v.injector,new It(a,{})))):(0,xe.of)(new It(a,{}))):Cy(e,i,a,t).pipe(an(({matched:p,consumedSegments:v,remainingSegments:w})=>p?this.getChildConfig(t=i._injector??t,i,a).pipe((0,$r.zg)(x=>{const W=x.injector??t,J=x.routes,{segmentGroup:ue,slicedSegments:Ce}=Kd(e,v,w,J),$e=new It(ue.segments,ue.children);if(0===Ce.length&&$e.hasChildren())return this.expandChildren(W,J,$e).pipe((0,Xe.U)(Gt=>new It(v,Gt)));if(0===J.length&&0===Ce.length)return(0,xe.of)(new It(v,{}));const Ge=ui(i)===d;return this.expandSegment(W,$e,J,Ce,Ge?tt:d,!0).pipe((0,Xe.U)(Lt=>new It(v.concat(Lt.segments),Lt.children)))})):Yd(e)))}getChildConfig(t,e,i){return e.children?(0,xe.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,xe.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function qd(n,t,e,i){const a=t.canLoad;if(void 0===a||0===a.length)return(0,xe.of)(!0);const d=a.map(p=>{const v=Fa(p,n);return ji(function Pg(n){return n&&as(n.canLoad)}(v)?v.canLoad(t,e):n.runInContext(()=>v(t,e)))});return(0,xe.of)(d).pipe(ac(),vy())}(t,e,i).pipe((0,$r.zg)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,tr.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function dc(n){return(0,Nr._)(ly(pf,3))}())):(0,xe.of)({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return(0,xe.of)(i);if(a.numberOfChildren>1||!a.children[tt])return(0,Nr._)(new u.vHH(4e3,pf));a=a.children[tt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,a){const d=this.createSegmentGroup(t,e.root,i,a);return new ss(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return cr(t,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);i[d]=e[v]}else i[d]=a}),i}createSegmentGroup(t,e,i,a){const d=this.createSegments(t,e.segments,i,a);let p={};return cr(e.children,(v,w)=>{p[w]=this.createSegmentGroup(t,v,i,a)}),new It(d,p)}createSegments(t,e,i,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,i))}findPosParam(t,e,i){const a=i[e.path.substring(1)];if(!a)throw new u.vHH(4001,pf);return a}findOrReturn(t,e){let i=0;for(const a of e){if(a.path===t.path)return e.splice(i),a;i++}return t}}class aD{}class Sy{constructor(t,e,i,a,d,p,v){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=a,this.url=d,this.paramsInheritanceStrategy=p,this.urlSerializer=v}recognize(){const t=Kd(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,tt).pipe((0,Xe.U)(e=>{if(null===e)return null;const i=new bg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new zs(i,e),d=new wg(this.url,a);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,i=lf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,a)}processChildren(t,e,i){return(0,on.D)(Object.keys(i.children)).pipe(So(a=>{const d=i.children[a],p=lb(e,a);return this.processSegmentGroup(t,p,d,a)}),Ta((a,d)=>a&&d?(a.push(...d),a):null),function Hl(n,t=!1){return e=>e.lift(new ug(n,t))}(a=>null!==a),Yu(null),kd(),(0,Xe.U)(a=>{if(null===a)return null;const d=Ry(a);return function Ay(n){n.sort((t,e)=>t.value.outlet===tt?-1:e.value.outlet===tt?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,i,a,d){return(0,on.D)(e).pipe(So(p=>this.processSegmentAgainstRoute(p._injector??t,p,i,a,d)),Vi(p=>!!p),$s(p=>{if(xg(p))return wy(i,a,d)?(0,xe.of)([]):(0,xe.of)(null);throw p}))}processSegmentAgainstRoute(t,e,i,a,d){if(e.redirectTo||!cc(e,i,a,d))return(0,xe.of)(null);let p;if("**"===e.path){const v=a.length>0?ec(a).parameters:{},w=ky(i)+a.length,S=new bg(a,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ny(e),ui(e),e.component??e._loadedComponent??null,e,Hi(i),w,Py(e));p=(0,xe.of)({snapshot:S,consumedSegments:[],remainingSegments:[]})}else p=Cy(i,e,a,t).pipe((0,Xe.U)(({matched:v,consumedSegments:w,remainingSegments:S,parameters:x})=>{if(!v)return null;const W=ky(i)+w.length;return{snapshot:new bg(w,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ny(e),ui(e),e.component??e._loadedComponent??null,e,Hi(i),W,Py(e)),consumedSegments:w,remainingSegments:S}}));return p.pipe(an(v=>{if(null===v)return(0,xe.of)(null);const{snapshot:w,consumedSegments:S,remainingSegments:x}=v;t=e._injector??t;const W=e._loadedInjector??t,J=function wb(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:ue,slicedSegments:Ce}=Kd(i,S,x,J.filter(Ge=>void 0===Ge.redirectTo));if(0===Ce.length&&ue.hasChildren())return this.processChildren(W,J,ue).pipe((0,Xe.U)(Ge=>null===Ge?null:[new zs(w,Ge)]));if(0===J.length&&0===Ce.length)return(0,xe.of)([new zs(w,[])]);const $e=ui(e)===d;return this.processSegment(W,J,ue,Ce,$e?tt:d).pipe((0,Xe.U)(Ge=>null===Ge?null:[new zs(w,Ge)]))}))}}function My(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ry(n){const t=[],e=new Set;for(const i of n){if(!My(i)){t.push(i);continue}const a=t.find(d=>i.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):t.push(i)}for(const i of e){const a=Ry(i.children);t.push(new zs(i.value,a))}return t.filter(i=>!e.has(i))}function Hi(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ky(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Ny(n){return n.data||{}}function Py(n){return n.resolve||{}}function Ct(n){return"string"==typeof n.title||null===n.title}function mf(n){return an(t=>{const e=n(t);return e?(0,on.D)(e).pipe((0,Xe.U)(()=>t)):(0,xe.of)(t)})}const hc=new u.OlP("ROUTES");let Bg=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,xe.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ji(e.loadComponent()).pipe((0,Xe.U)(Ly),(0,tr.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),ur(()=>{this.componentLoaders.delete(e)})),a=new Ui.c(i,()=>new Jn.xQ).pipe((0,Xu.x)());return this.componentLoaders.set(e,a),a}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,xe.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const d=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Xe.U)(v=>{this.onLoadEndListener&&this.onLoadEndListener(i);let w,S,x=!1;Array.isArray(v)?S=v:(w=v.create(e).injector,S=tf(w.get(hc,[],u.XFs.Self|u.XFs.Optional)));return{routes:S.map(ff),injector:w}}),ur(()=>{this.childrenLoaders.delete(i)})),p=new Ui.c(d,()=>new Jn.xQ).pipe((0,Xu.x)());return this.childrenLoaders.set(i,p),p}loadModuleFactoryOrRoutes(e){return ji(e()).pipe((0,Xe.U)(Ly),(0,$r.zg)(a=>a instanceof u.YKP||Array.isArray(a)?(0,xe.of)(a):(0,on.D)(this.compiler.compileModuleAsync(a))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ly(n){return function Fy(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let _f=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Jn.xQ,this.configLoader=(0,u.f3M)(Bg),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(Ma),this.rootContexts=(0,u.f3M)(Wd),this.navigationId=0,this.afterPreactivation=()=>(0,xe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new KI(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new QC(a))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Xn({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yl,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hs(i=>0!==i.id),(0,Xe.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),an(i=>{let a=!1,d=!1;return(0,xe.of)(i).pipe((0,tr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),an(p=>{const v=e.browserUrlTree.toString(),w=!e.navigated||p.extractedUrl.toString()!==v||v!==e.currentUrlTree.toString();if(!w&&"reload"!==(p.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const x="";return this.events.next(new iy(p.id,e.serializeUrl(i.rawUrl),x,0)),e.rawUrlTree=p.rawUrl,p.resolve(null),wn.E}if(e.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Uy(p.source)&&(e.browserUrlTree=p.extractedUrl),(0,xe.of)(p).pipe(an(x=>{const W=this.transitions?.getValue();return this.events.next(new sf(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),W!==this.transitions?.getValue()?wn.E:Promise.resolve(x)}),function Cb(n,t,e,i){return an(a=>function Po(n,t,e,i,a){return new Eb(n,t,e,i,a).apply()}(n,t,e,a.extractedUrl,i).pipe((0,Xe.U)(d=>({...a,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,tr.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function Tb(n,t,e,i,a){return(0,$r.zg)(d=>function lD(n,t,e,i,a,d,p="emptyOnly"){return new Sy(n,t,e,i,a,p,d).recognize().pipe(an(v=>null===v?function Ty(n){return new M.y(t=>t.error(n))}(new aD):(0,xe.of)(v)))}(n,t,e,d.urlAfterRedirects,i.serialize(d.urlAfterRedirects),i,a).pipe((0,Xe.U)(p=>({...d,targetSnapshot:p}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,tr.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!x.extras.skipLocationChange){const J=e.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);e.setBrowserUrl(J,x)}e.browserUrlTree=x.urlAfterRedirects}const W=new qC(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(W)}));if(w&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:x,extractedUrl:W,source:J,restoredState:ue,extras:Ce}=p,$e=new sf(x,this.urlSerializer.serialize(W),J,ue);this.events.next($e);const Ge=tb(W,this.rootComponentType).snapshot;return i={...p,targetSnapshot:Ge,urlAfterRedirects:W,extras:{...Ce,skipLocationChange:!1,replaceUrl:!1}},(0,xe.of)(i)}{const x="";return this.events.next(new iy(p.id,e.serializeUrl(i.extractedUrl),x,1)),e.rawUrlTree=p.rawUrl,p.resolve(null),wn.E}}),(0,tr.b)(p=>{const v=new KC(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}),(0,Xe.U)(p=>i={...p,guards:eu(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function _y(n,t){return(0,$r.zg)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:p}}=e;return 0===p.length&&0===d.length?(0,xe.of)({...e,guardsResult:!0}):function gb(n,t,e,i){return(0,on.D)(n).pipe((0,$r.zg)(a=>function lc(n,t,e,i,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,xe.of)(!0);const p=d.map(v=>{const w=Xl(t)??a,S=Fa(v,w);return ji(function my(n){return n&&as(n.canDeactivate)}(S)?S.canDeactivate(n,t,e,i):w.runInContext(()=>S(n,t,e,i))).pipe(Vi())});return(0,xe.of)(p).pipe(ac())}(a.component,a.route,e,t,i)),Vi(a=>!0!==a,!0))}(p,i,a,n).pipe((0,$r.zg)(v=>v&&function gy(n){return"boolean"==typeof n}(v)?function yy(n,t,e,i){return(0,on.D)(t).pipe(So(a=>it(function mb(n,t){return null!==n&&t&&t(new YI(n)),(0,xe.of)(!0)}(a.route.parent,i),function oD(n,t){return null!==n&&t&&t(new JI(n)),(0,xe.of)(!0)}(a.route,i),function _b(n,t,e){const i=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(p=>function cb(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(p)).filter(p=>null!==p).map(p=>In(()=>{const v=p.guards.map(w=>{const S=Xl(p.node)??e,x=Fa(w,S);return ji(function fb(n){return n&&as(n.canActivateChild)}(x)?x.canActivateChild(i,n):S.runInContext(()=>x(i,n))).pipe(Vi())});return(0,xe.of)(v).pipe(ac())}));return(0,xe.of)(d).pipe(ac())}(n,a.path,e),function Zd(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,xe.of)(!0);const a=i.map(d=>In(()=>{const p=Xl(t)??e,v=Fa(d,p);return ji(function hb(n){return n&&as(n.canActivate)}(v)?v.canActivate(t,n):p.runInContext(()=>v(t,n))).pipe(Vi())}));return(0,xe.of)(a).pipe(ac())}(n,a.route,e))),Vi(a=>!0!==a,!0))}(i,d,n,t):(0,xe.of)(v)),(0,Xe.U)(v=>({...e,guardsResult:v})))})}(this.environmentInjector,p=>this.events.next(p)),(0,tr.b)(p=>{if(i.guardsResult=p.guardsResult,Ii(p.guardsResult))throw Hn(0,p.guardsResult);const v=new YC(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(v)}),Hs(p=>!!p.guardsResult||(e.restoreHistory(p),this.cancelNavigationTransition(p,"",3,e),!1)),mf(p=>{if(p.guards.canActivateChecks.length)return(0,xe.of)(p).pipe((0,tr.b)(v=>{const w=new xa(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}),an(v=>{let w=!1;return(0,xe.of)(v).pipe(function Sb(n,t){return(0,$r.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,xe.of)(e);let d=0;return(0,on.D)(a).pipe(So(p=>function xy(n,t,e,i){const a=n.routeConfig,d=n._resolve;return void 0!==a?.title&&!Ct(a)&&(d[rs]=a.title),function Ab(n,t,e,i){const a=function Mb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return(0,xe.of)({});const d={};return(0,on.D)(a).pipe((0,$r.zg)(p=>function Rb(n,t,e,i){const a=Xl(t)??i,d=Fa(n,a);return ji(d.resolve?d.resolve(t,e):a.runInContext(()=>d(t,e)))}(n[p],t,e,i).pipe(Vi(),(0,tr.b)(v=>{d[p]=v}))),jl(1),function Kh(n){return t=>t.lift(new Yh(n))}(d),$s(p=>xg(p)?wn.E:(0,Nr._)(p)))}(d,n,t,i).pipe((0,Xe.U)(p=>(n._resolvedData=p,n.data=lf(n,e).resolve,a&&Ct(a)&&(n.data[rs]=a.title),null)))}(p.route,i,n,t)),(0,tr.b)(()=>d++),jl(1),(0,$r.zg)(p=>d===a.length?(0,xe.of)(e):wn.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,tr.b)({next:()=>w=!0,complete:()=>{w||(e.restoreHistory(v),this.cancelNavigationTransition(v,"",2,e))}}))}),(0,tr.b)(v=>{const w=new Gd(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}))}),mf(p=>{const v=w=>{const S=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,tr.b)(x=>{w.component=x}),(0,Xe.U)(()=>{})));for(const x of w.children)S.push(...v(x));return S};return Ee(v(p.targetSnapshot.root)).pipe(Yu(),js(1))}),mf(()=>this.afterPreactivation()),(0,Xe.U)(p=>{const v=function ay(n,t,e){const i=Oa(n,t._root,e?e._root:void 0);return new eb(i,t)}(e.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:v}}),(0,tr.b)(p=>{e.currentUrlTree=p.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),e.routerState=p.targetRouterState,"deferred"===e.urlUpdateStrategy&&(p.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,p),e.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>(0,Xe.U)(i=>(new Rg(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,p=>this.events.next(p)),(0,tr.b)({next:p=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Pa(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{a=!0}}),ur(()=>{a||d||this.cancelNavigationTransition(i,"",1,e),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),$s(p=>{if(d=!0,uf(p)){uy(p)||(e.navigated=!0,e.restoreHistory(i,!0));const v=new $d(i.id,this.urlSerializer.serialize(i.extractedUrl),p.message,p.cancellationCode);if(this.events.next(v),uy(p)){const w=e.urlHandlingStrategy.merge(p.url,e.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Uy(i.source)};e.scheduleNavigation(w,Yl,null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const v=new sy(i.id,this.urlSerializer.serialize(i.extractedUrl),p,i.targetSnapshot??void 0);this.events.next(v);try{i.resolve(e.errorHandler(p))}catch(w){i.reject(w)}}return wn.E}))}))}cancelNavigationTransition(e,i,a,d){const p=new $d(e.id,this.urlSerializer.serialize(e.extractedUrl),i,a);this.events.next(p),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uy(n){return n!==Yl}let kb=(()=>{class n{buildTitle(e){let i,a=e.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(d=>d.outlet===tt);return i}getResolvedTitleForRoute(e){return e.data[rs]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Vy)},providedIn:"root"}),n})(),Vy=(()=>{class n extends kb{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(li))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),By=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Nb)},providedIn:"root"}),n})();class tu{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Nb=(()=>{class n extends tu{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fc=new u.OlP("",{providedIn:"root",factory:()=>({})});let Pb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(uD)},providedIn:"root"}),n})(),uD=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cD(n){throw n}function Ob(n,t,e){return t.parse("/")}const jy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(fc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||cD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ob,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(Pb),this.routeReuseStrategy=(0,u.f3M)(By),this.urlCreationStrategy=(0,u.f3M)(Cg),this.titleStrategy=(0,u.f3M)(kb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=tf((0,u.f3M)(hc,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(_f),this.urlSerializer=(0,u.f3M)(Ma),this.location=(0,u.f3M)(ce),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ss,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tb(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yl,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,a){const d={replaceUrl:!0},p=a?.navigationId?a:null;if(a){const w={...a};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(d.state=w)}const v=this.parseUrl(e);this.scheduleNavigation(v,i,p,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(ff),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:d,fragment:p,queryParamsHandling:v,preserveFragment:w}=i,S=w?this.currentUrlTree.fragment:p;let x=null;switch(v){case"merge":x={...this.currentUrlTree.queryParams,...d};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=d||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(a,this.routerState,this.currentUrlTree,e,x,S??null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=Ii(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,Yl,null,i)}navigate(e,i={skipLocationChange:!1}){return function pc(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new u.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?{...jy}:!1===i?{...dD}:i,Ii(e))return tc(this.currentUrlTree,e,a);const d=this.parseUrl(e);return tc(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const d=e[a];return null!=d&&(i[a]=d),i},{})}scheduleNavigation(e,i,a,d,p){if(this.disposed)return Promise.resolve(!1);let v,w,S,x;return p?(v=p.resolve,w=p.reject,S=p.promise):S=new Promise((W,J)=>{v=W,w=J}),x="computed"===this.canceledNavigationResolution?a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:d,resolve:v,reject:w,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(W=>Promise.reject(W))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e),d={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===a?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yf=(()=>{class n{constructor(e,i,a,d,p,v){this.router=e,this.route=i,this.tabIndexAttribute=a,this.renderer=d,this.el=p,this.locationStrategy=v,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Jn.xQ;const w=p.nativeElement.tagName;this.isAnchorElement="A"===w||"AREA"===w,this.isAnchorElement?this.subscription=e.events.subscribe(S=>{S instanceof Pa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,u.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,u.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,u.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,a,d,p){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||a||d||p||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const a=this.renderer,d=this.el.nativeElement;null!==i?a.setAttribute(d,e,i):a.removeAttribute(d,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(dr),u.Y36(Zs),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ie))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&u.NdJ("click",function(d){return i.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&u.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class $y{}let Lb=(()=>{class n{constructor(e,i,a,d,p){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(Hs(e=>e instanceof Pa),So(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const d of i){d.providers&&!d._injector&&(d._injector=(0,u.MMx)(d.providers,e,`Route: ${d.path}`));const p=d._injector??e,v=d._loadedInjector??p;d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent?a.push(this.preloadConfig(p,d)):(d.children||d._loadedRoutes)&&a.push(this.processRoutes(v,d.children??d._loadedRoutes))}return(0,on.D)(a).pipe((0,Ze.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,xe.of)(null);const d=a.pipe((0,$r.zg)(p=>null===p?(0,xe.of)(void 0):(i._loadedRoutes=p.routes,i._loadedInjector=p.injector,this.processRoutes(p.injector??e,p.routes))));if(i.loadComponent&&!i._loadedComponent){const p=this.loader.loadComponent(i);return(0,on.D)([d,p]).pipe((0,Ze.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(dr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG($y),u.LFG(Bg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hg=new u.OlP("");let Gy=(()=>{class n{constructor(e,i,a,d,p={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=a,this.zone=d,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof sf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Eg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Eg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Va(n,t){return{\u0275kind:n,\u0275providers:t}}function Zy(){const n=(0,u.f3M)(u.zs3);return t=>{const e=n.get(u.z2F);if(t!==e.components[0])return;const i=n.get(dr),a=n.get(Vb);1===n.get(Ba)&&i.initialNavigation(),n.get(Yy,null,u.XFs.Optional)?.setUpPreloading(),n.get(Hg,null,u.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const Vb=new u.OlP("",{factory:()=>new Jn.xQ}),Ba=new u.OlP("",{providedIn:"root",factory:()=>1});const Yy=new u.OlP("");function jb(n){return Va(0,[{provide:Yy,useExisting:Lb},{provide:$y,useExisting:n}])}const bf=new u.OlP("ROUTER_FORROOT_GUARD"),wf=[ce,{provide:Ma,useClass:Fd},dr,Wd,{provide:Zs,useFactory:function Wy(n){return n.routerState.root},deps:[dr]},Bg,[]];function Qy(){return new u.PXZ("Router",dr)}let Xd=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[wf,[],{provide:hc,multi:!0,useValue:e},{provide:bf,useFactory:Zg,deps:[[dr,new u.FiY,new u.tp0]]},{provide:fc,useValue:i||{}},i?.useHash?{provide:Ie,useClass:he}:{provide:Ie,useClass:Te},{provide:Hg,useFactory:()=>{const n=(0,u.f3M)(Ar),t=(0,u.f3M)(u.R0b),e=(0,u.f3M)(fc),i=(0,u.f3M)(_f),a=(0,u.f3M)(Ma);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Gy(a,i,n,t,e)}},i?.preloadingStrategy?jb(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Qy},i?.initialNavigation?Hb(i):[],[{provide:Xy,useFactory:Zy},{provide:u.tb,multi:!0,useExisting:Xy}]]}}static forChild(e){return{ngModule:n,providers:[{provide:hc,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(bf,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[hy]}),n})();function Zg(n){return"guarded"}function Hb(n){return["disabled"===n.initialNavigation?Va(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const t=(0,u.f3M)(dr);return()=>{t.setUpLocationChangeListener()}}},{provide:Ba,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Va(2,[{provide:Ba,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:t=>{const e=t.get(te,Promise.resolve());return()=>e.then(()=>new Promise(a=>{const d=t.get(dr),p=t.get(Vb);(function i(a){t.get(dr).events.pipe(Hs(p=>p instanceof Pa||p instanceof $d||p instanceof sy),(0,Xe.U)(p=>p instanceof Pa||p instanceof $d&&(0===p.code||1===p.code)&&null),Hs(p=>null!==p),js(1)).subscribe(()=>{a()})})(()=>{a(!0)}),t.get(_f).afterPreactivation=()=>(a(!0),p.closed?(0,xe.of)(void 0):p),d.initialNavigation()}))}}]).\u0275providers:[]]}const Xy=new u.OlP("");var tv=P(7830);function If(n,t){return new M.y(e=>{const i=n.length;if(0===i)return void e.complete();const a=new Array(i);let d=0,p=0;for(let v=0;v<i;v++){const w=(0,on.D)(n[v]);let S=!1;e.add(w.subscribe({next:x=>{S||(S=!0,p++),a[v]=x},error:x=>e.error(x),complete:()=>{d++,(d===i||!S)&&(p===i&&e.next(t?t.reduce((x,W,J)=>(x[W]=a[J],x),{}):a),e.complete())}}))}})}let rv=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),hr=(()=>{class n extends rv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const ls=new u.OlP("NgValueAccessor"),qg={provide:ls,useExisting:(0,u.Gpc)(()=>ja),multi:!0},Wb=new u.OlP("CompositionEventMode");let ja=(()=>{class n extends rv{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iv(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Wb,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&u.NdJ("input",function(d){return i._handleInput(d.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(d){return i._compositionEnd(d.target.value)})},features:[u._Bn([qg]),u.qOj]}),n})();const Gr=new u.OlP("NgValidators"),qs=new u.OlP("NgAsyncValidators");function dv(n){return null!=n}function hv(n){return(0,u.QGY)(n)?(0,on.D)(n):n}function Sf(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function fv(n,t){return t.map(e=>e(n))}function eh(n){return n.map(t=>function qb(n){return!n.validate}(t)?t:e=>t.validate(e))}function mc(n){return null!=n?function Af(n){if(!n)return null;const t=n.filter(dv);return 0==t.length?null:function(e){return Sf(fv(e,t))}}(eh(n)):null}function th(n){return null!=n?function Kb(n){if(!n)return null;const t=n.filter(dv);return 0==t.length?null:function(e){return function nv(...n){if(1===n.length){const t=n[0];if((0,Bs.k)(t))return If(t,null);if((0,tv.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return If(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return If(n=1===n.length&&(0,Bs.k)(n[0])?n[0]:n,null).pipe((0,Xe.U)(e=>t(...e)))}return If(n,null)}(fv(e,t).map(hv)).pipe((0,Xe.U)(Sf))}}(eh(n)):null}function Yb(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Mf(n){return n?Array.isArray(n)?n:[n]:[]}function nh(n,t){return Array.isArray(n)?n.includes(t):n===t}function Rf(n,t){const e=Mf(t);return Mf(n).forEach(a=>{nh(e,a)||e.push(a)}),e}function Ks(n,t){return Mf(t).filter(e=>!nh(n,e))}class rh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mc(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=th(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cr extends rh{get formDirective(){return null}get path(){return null}}class $i extends rh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pv{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _c=(()=>{class n extends pv{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36($i,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})();const ih="VALID",Pf="INVALID",yc="PENDING",vc="DISABLED";function iu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ec{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ih}get invalid(){return this.status===Pf}get pending(){return this.status==yc}get disabled(){return this.status===vc}get enabled(){return this.status!==vc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Rf(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Rf(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ks(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ks(t,this._rawAsyncValidators))}hasValidator(t){return nh(this._rawValidators,t)}hasAsyncValidator(t){return nh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=yc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vc,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ih,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ih||this.status===yc)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vc:ih}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=yc,this._hasOwnPendingAsyncValidator=!0;const e=hv(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,a)=>i&&i._find(a),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?vc:this.errors?Pf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yc)?yc:this._anyControlsHaveStatus(Pf)?Pf:ih}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){iu(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function ow(n){return Array.isArray(n)?mc(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function _v(n){return Array.isArray(n)?th(n):n||null}(this._rawAsyncValidators)}}const Fo=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>br}),br="always";function $a(n,t,e=br){(function Ga(n,t){const e=function Yg(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Yb(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function Qg(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Yb(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const a=()=>n.updateValueAndValidity();Cc(t._rawValidators,a),Cc(t._rawAsyncValidators,a)})(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function wc(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&su(n,t)})}(n,t),function Dc(n,t){const e=(i,a)=>{t.valueAccessor.writeValue(i),a&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Ic(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&su(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function bc(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Cc(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function su(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Uf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Vf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const bv=class extends Ec{constructor(t=null,e,i){super(function xf(n){return(iu(n)?n.validators:n)||null}(e),function mv(n,t){return(iu(t)?t.asyncValidators:n)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Vf(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Uf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Uf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Vf(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Tv={provide:$i,useExisting:(0,u.Gpc)(()=>Uo)},im=(()=>Promise.resolve())();let Uo=(()=>{class n extends $i{constructor(e,i,a,d,p,v){super(),this._changeDetectorRef=p,this.callSetDisabledState=v,this.control=new bv,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function Lf(n,t){if(!t)return null;let e,i,a;return Array.isArray(t),t.forEach(d=>{d.constructor===ja?e=d:function Ev(n){return Object.getPrototypeOf(n.constructor)===hr}(d)?i=d:a=d}),a||i||e||null}(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Ff(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$a(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){im.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,a=0!==i&&(0,u.D6c)(i);im.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Ys(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Cr,9),u.Y36(Gr,10),u.Y36(qs,10),u.Y36(ls,10),u.Y36(u.sBO,8),u.Y36(Fo,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Tv]),u.qOj,u.TTD]}),n})(),om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),ds=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[om]}),n})(),lh=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Fo,useValue:e.callSetDisabledState??br}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ds]}),n})();var Wr=P(2011);var Kf=P(6787),Sc=P(2102),Yf=P(341),Tw=P(5283);class Wv extends Jn.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new zv(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,d=i.length;let p;if(this.closed)throw new Ci.N;if(this.isStopped||this.hasError?p=Qh.w.EMPTY:(this.observers.push(t),p=new Tw.W(this,t)),a&&t.add(t=new Sc.ht(t,a)),e)for(let v=0;v<d&&!t.closed;v++)t.next(i[v]);else for(let v=0;v<d&&!t.closed;v++)t.next(i[v].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),p}_getNow(){return(this.scheduler||Yf.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,a=this._events,d=a.length;let p=0;for(;p<d&&!(t-a[p].time<i);)p++;return d>e&&(p=Math.max(p,d-e)),p>0&&a.splice(0,p),a}}class zv{constructor(t,e){this.time=t,this.value=e}}function Qf(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},a=>a.lift(function Jf({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let a,p,d=0,v=!1,w=!1;return function(x){let W;d++,!a||v?(v=!1,a=new Wv(n,t,i),W=a.subscribe(this),p=x.subscribe({next(J){a.next(J)},error(J){v=!0,a.error(J)},complete(){w=!0,p=void 0,a.complete()}}),w&&(p=void 0)):W=a.subscribe(this),this.add(()=>{d--,W.unsubscribe(),W=void 0,p&&!w&&e&&0===d&&(p.unsubscribe(),p=void 0,a=void 0)})}}(i))}function pm(n,t){return t?an(()=>n,t):an(()=>n)}var Xf=P(8915),ir=P(263);P(259);var Di=P(5861),fs=P(9681),Bo=P(4859),F=P(2090),ep=P(1877);const tp=new Map,_m={activated:!1,tokenObservers:[]},Kv={initialized:!1,enabled:!1};function wr(n){return tp.get(n)||Object.assign({},_m)}function ch(){return Kv}class Rw{constructor(t,e,i,a,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Di.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function kw(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ci=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nw(n){if(!wr(n).activated)throw ci.create("use-before-activation",{appName:n.name})}function eE(n,t){return st.apply(this,arguments)}function st(){return(st=(0,Di.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const W=yield a.getHeartbeatsHeader();W&&(i["X-Firebase-Client"]=W)}const d={method:"POST",body:JSON.stringify(t),headers:i};let p,v;try{p=yield fetch(n,d)}catch(W){throw ci.create("fetch-network-error",{originalErrorMessage:W?.message})}if(200!==p.status)throw ci.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(W){throw ci.create("fetch-parse-error",{originalErrorMessage:W?.message})}const w=v.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw ci.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(w[1]),x=Date.now();return{token:v.token,expireTimeMillis:x+S,issuedAtTimeMillis:x}})).apply(this,arguments)}function Ow(n,t){const{projectId:e,appId:i,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const qa="firebase-app-check-store";let yn=null;function Lw(){return yn||(yn=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var a;t(ci.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(qa,{keyPath:"compositeKey"})}}catch(e){t(ci.create("storage-open",{originalErrorMessage:e?.message}))}}),yn)}function ip(){return(ip=(0,Di.Z)(function*(n,t){const i=(yield Lw()).transaction(qa,"readwrite"),d=i.objectStore(qa).put({compositeKey:n,value:t});return new Promise((p,v)=>{d.onsuccess=w=>{p()},i.onerror=w=>{var S;v(ci.create("storage-set",{originalErrorMessage:null===(S=w.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const fh=new ep.Yd("@firebase/app-check");function wm(n,t){return(0,F.hl)()?function nE(n,t){return function vm(n,t){return ip.apply(this,arguments)}(function iE(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{fh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Im(){return ch().enabled}function Dm(){return sp.apply(this,arguments)}function sp(){return(sp=(0,Di.Z)(function*(){const n=ch();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gh={error:"UNKNOWN_ERROR"};function mh(n){return F.US.encodeString(JSON.stringify(n),!1)}function op(n){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,Di.Z)(function*(n,t=!1){const e=n.app;Nw(e);const i=wr(e);let d,a=i.token;if(a&&!uu(a)&&(i.token=void 0,a=void 0),!a){const w=yield i.cachedTokenPromise;w&&(uu(w)?a=w:yield wm(e,void 0))}if(!t&&a&&uu(a))return{token:a.token};let v,p=!1;if(Im()){i.exchangeTokenPromise||(i.exchangeTokenPromise=eE(Ow(e,yield Dm()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),p=!0);const w=yield i.exchangeTokenPromise;return yield wm(e,w),i.token=w,{token:w.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),p=!0),a=yield wr(e).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?fh.warn(w.message):fh.error(w),d=w}return a?d?v=uu(a)?{token:a.token,internalError:d}:aE(d):(v={token:a.token},i.token=a,yield wm(e,a)):v=aE(d),p&&oE(e,v),v})).apply(this,arguments)}function ap(n,t){const e=wr(n),i=e.tokenObservers.filter(a=>a.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Am(n){const{app:t}=n,e=wr(t);let i=e.tokenRefresher;i||(i=function sE(n){const{app:t}=n;return new Rw((0,Di.Z)(function*(){let i;if(i=wr(t).token?yield op(n,!0):yield op(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=wr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function oE(n,t){const e=wr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function uu(n){return n.expireTimeMillis-Date.now()>0}function aE(n){return{token:mh(gh),error:n}}class jw{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=wr(this.app);for(const e of t)ap(this.app,e.next);return Promise.resolve()}}const up="app-check-internal";!function Kw(){(0,fs._registerComponent)(new Bo.wA("app-check",n=>function GD(n,t){return new jw(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(up).initialize()})),(0,fs._registerComponent)(new Bo.wA(up,n=>function WD(n){return{getToken:t=>op(n,t),addTokenListener:t=>function Sm(n,t,e,i){const{app:a}=n,d=wr(a);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:i,type:t}],d.token&&uu(d.token)){const v=d.token;Promise.resolve().then(()=>{e({token:v.token}),Am(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Am(n))}(n,"INTERNAL",t),removeTokenListener:t=>ap(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fs.registerVersion)("@firebase/app-check","0.6.0")}();class dp{constructor(){return(0,ir.vb)("app-check")}}typeof window<"u"&&window;var xm=P(9260);const Om=new u.OlP("angularfire2.auth.use-emulator"),gE=new u.OlP("angularfire2.auth.settings"),mE=new u.OlP("angularfire2.auth.tenant-id"),_E=new u.OlP("angularfire2.auth.langugage-code"),hp=new u.OlP("angularfire2.auth.use-device-language"),fp=new u.OlP("angularfire.auth.persistence"),Fm=(n,t,e,i,a,d,p,v)=>(0,Wr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=t.runOutsideAngular(()=>n.auth());if(e&&w.useEmulator(...e),i&&(w.tenantId=i),w.languageCode=a,d&&w.useDeviceLanguage(),p)for(const[S,x]of Object.entries(p))w.settings[S]=x;return v&&w.setPersistence(v),w},[e,i,a,d,p,v]);let jo=(()=>{class n{constructor(e,i,a,d,p,v,w,S,x,W,J,ue){const Ce=new Jn.xQ,$e=(0,xe.of)(void 0).pipe((0,Sc.QV)(p.outsideAngular),an(()=>d.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9568)))),(0,Xe.U)(()=>(0,Wr.on)(e,d,i)),(0,Xe.U)(Ge=>Fm(Ge,d,v,S,x,W,w,J)),Qf({bufferSize:1,refCount:!1}));if(function na(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xe.of)(null);else{$e.pipe(Vi()).subscribe();const $t=$e.pipe(an(Tt=>Tt.getRedirectResult().then(Pr=>Pr,()=>null)),ir.iC,Qf({bufferSize:1,refCount:!1})),Lt=$e.pipe(an(Tt=>new M.y(Pr=>({unsubscribe:d.runOutsideAngular(()=>Tt.onAuthStateChanged(Zi=>Pr.next(Zi),Zi=>Pr.error(Zi),()=>Pr.complete()))})))),Gt=$e.pipe(an(Tt=>new M.y(Pr=>({unsubscribe:d.runOutsideAngular(()=>Tt.onIdTokenChanged(Zi=>Pr.next(Zi),Zi=>Pr.error(Zi),()=>Pr.complete()))}))));this.authState=$t.pipe(pm(Lt),(0,Xf.R)(p.outsideAngular),(0,Sc.QV)(p.insideAngular)),this.user=$t.pipe(pm(Gt),(0,Xf.R)(p.outsideAngular),(0,Sc.QV)(p.insideAngular)),this.idToken=this.user.pipe(an(Tt=>Tt?(0,on.D)(Tt.getIdToken()):(0,xe.of)(null))),this.idTokenResult=this.user.pipe(an(Tt=>Tt?(0,on.D)(Tt.getIdTokenResult()):(0,xe.of)(null))),this.credential=(0,Kf.T)($t,Ce,this.authState.pipe(Hs(Tt=>!Tt))).pipe((0,Xe.U)(Tt=>Tt?.user?Tt:null),(0,Xf.R)(p.outsideAngular),(0,Sc.QV)(p.insideAngular))}return(0,Wr.pX)(this,$e,d,{spy:{apply:(Ge,$t,Lt)=>{(Ge.startsWith("signIn")||Ge.startsWith("createUser"))&&Lt.then(Gt=>Ce.next(Gt))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Wr.Dh),u.LFG(Wr.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ir.HU),u.LFG(Om,8),u.LFG(gE,8),u.LFG(mE,8),u.LFG(_E,8),u.LFG(hp,8),u.LFG(fp,8),u.LFG(dp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),s0=(()=>{class n{constructor(){xm.Z.registerVersion("angularfire",ir.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[jo]}),n})();var yE=P(353),Lm=P(2474);class vE{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xc(t,this.compare,this.keySelector))}}class xc extends er.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:a}=this;e=a?a(t):t}catch(a){return this.destination.error(a)}let i=!1;if(this.hasKey)try{const{compare:a}=this;i=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}class a0{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new rT(t,this.observables,this.project))}}class rT extends Dd{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let d=0;d<a;d++)this.toRespond.push(d);for(let d=0;d<a;d++)this.add($(this,e[d],void 0,d))}notifyNext(t,e,i){this.values[i]=e;const a=this.toRespond;if(a.length>0){const d=a.indexOf(i);-1!==d&&a.splice(d,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class Um{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new l0(t,this.predicate))}}class l0 extends er.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}P(9568);var wE=P(3942);const Vm="@firebase/database";let gp="";function Bm(n){gp=n}class IE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class DE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const TE=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new IE(t)}}catch{}return new DE},cu=TE("localStorage"),jm=TE("sessionStorage"),Oc=new ep.Yd("@firebase/database"),Hm=function(){let n=1;return function(){return n++}}(),u0=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const i=e.digest();return F.US.encodeByteArray(i)},Fc=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Fc.apply(null,i):t+="object"==typeof i?(0,F.Wl)(i):i,t+=" "}return t};let du=null,SE=!0;const c0=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Oc.logLevel=ep.in.VERBOSE,du=Oc.log.bind(Oc),t&&jm.set("logging_enabled",!0)):"function"==typeof n?du=n:(du=null,jm.remove("logging_enabled"))},Ir=function(...n){if(!0===SE&&(SE=!1,null===du&&!0===jm.get("logging_enabled")&&c0(!0)),du){const t=Fc.apply(null,n);du(t)}},yh=function(n){return function(...t){Ir(n,...t)}},$m=function(...n){const t="FIREBASE INTERNAL ERROR: "+Fc(...n);Oc.error(t)},Qs=function(...n){const t=`FIREBASE FATAL ERROR: ${Fc(...n)}`;throw Oc.error(t),new Error(t)},zr=function(...n){const t="FIREBASE WARNING: "+Fc(...n);Oc.warn(t)},mp=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ka="[MIN_NAME]",Ho="[MAX_NAME]",hu=function(n,t){if(n===t)return 0;if(n===Ka||t===Ho)return-1;if(t===Ka||n===Ho)return 1;{const e=ME(n),i=ME(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},f0=function(n,t){return n===t?0:n<t?-1:1},$o=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(t))},_p=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,F.Wl)(t[i]),e+=":",e+=_p(n[t[i]]);return e+="}",e},Gm=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let a=0;a<e;a+=t)i.push(n.substring(a,a+t>e?e:a+t));return i};function fr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Wm=function(n){(0,F.hu)(!mp(n),"Invalid JSON number");const i=1023;let a,d,p,v,w;0===n?(d=0,p=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(v=Math.min(Math.floor(Math.log(n)/Math.LN2),i),d=v+i,p=Math.round(n*Math.pow(2,52-v)-Math.pow(2,52))):(d=0,p=Math.round(n/Math.pow(2,-1074))));const S=[];for(w=52;w;w-=1)S.push(p%2?1:0),p=Math.floor(p/2);for(w=11;w;w-=1)S.push(d%2?1:0),d=Math.floor(d/2);S.push(a?1:0),S.reverse();const x=S.join("");let W="";for(w=0;w<64;w+=8){let J=parseInt(x.substr(w,8),2).toString(16);1===J.length&&(J="0"+J),W+=J}return W.toLowerCase()},iT=new RegExp("^-?(0*)\\d{1,10}$"),ME=function(n){if(iT.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Lc=function(n){try{n()}catch(t){setTimeout(()=>{throw zr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Go=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class v0{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){zr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class zm{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ir("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zr(t)}}let di=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const NE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,PE="websocket",qm="long_polling";class Ep{constructor(t,e,i,a,d=!1,p="",v=!1){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=p,this.includeNamespaceInQueryParams=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&cu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ym(n,t,e){let i;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===PE)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==qm)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Km(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return fr(e,(d,p)=>{a.push(d+"="+p)}),i+a.join("&")}class Qm{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const Ch={},Cp={};function bh(n){const t=n.toString();return Ch[t]||(Ch[t]=new Qm),Ch[t]}class E0{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&Lc(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ya{constructor(t,e,i,a,d,p,v){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=d,this.transportSessionId=p,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yh(t),this.stats_=bh(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),Ym(e,qm,w))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new E0(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new t_((...d)=>{const[p,v,w,S,x]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=v,this.password=w;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[p,v]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(p,v)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&NE.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ya.forceAllow_=!0}static forceDisallow(){Ya.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Ya.forceAllow_&&(Ya.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),a=Gm(i,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class t_{constructor(t,e,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Hm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=t_.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(v){Ir("frame writing exception"),v.stack&&Ir(v.stack),Ir(v)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ir("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const p=this.pendingSegs.shift();i=i+"&seg"+a+"="+p.seg+"&ts"+a+"="+p.ts+"&d"+a+"="+p.d,a++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),i()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ir("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let wh=null;typeof MozWebSocket<"u"?wh=MozWebSocket:typeof WebSocket<"u"&&(wh=WebSocket);let fu=(()=>{class n{constructor(e,i,a,d,p,v,w){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yh(this.connId),this.stats_=bh(i),this.connURL=n.connectionURL_(i,v,w,d,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,d,p){const v={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&NE.test(location.hostname)&&(v.r="f"),i&&(v.s=i),a&&(v.ls=a),d&&(v.ac=d),p&&(v.p=p),Ym(e,PE,v)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cu.set("previous_websocket_failure",!0);try{let a;if((0,F.Yr)()){a={headers:{"User-Agent":`Firebase/5/${gp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,v=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;v&&(a.proxy={origin:v})}this.mySock=new wh(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==wh&&!n.forceDisallow_}static previouslyFailed(){return cu.isInMemoryStorage||!0===cu.get("previous_websocket_failure")}markConnectionHealthy(){cu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,F.cI)(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=(0,F.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Gm(i,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Bc=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ya,fu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=fu&&fu.isAvailable();let a=i&&!fu.previouslyFailed();if(e.webSocketOnly&&(i||zr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[fu];else{const d=this.transports_=[];for(const p of n.ALL_TRANSPORTS)p&&p.isAvailable()&&d.push(p);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class zE{constructor(t,e,i,a,d,p,v,w,S,x){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=p,this.onReady_=v,this.onDisconnect_=w,this.onKill_=S,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yh("c:"+this.id+":"),this.transportManager_=new Bc(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Go(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=$o("t",t),i=$o("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=$o("t",t),i=$o("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=$o("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?$m("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$m("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&zr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Go(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Go(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class s_{put(t,e,i,a){}merge(t,e,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class pu{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const a=this.getInitialEvent(t);a&&e.apply(i,a)}off(t,e,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!i||i===a[d].context))return void a.splice(d,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Dp extends pu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Dp}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Yt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ht(){return new Yt("")}function kt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Qa(n){return n.pieces_.length-n.pieceNum_}function ln(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Yt(n.pieces_,t)}function a_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function jc(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function qE(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Yt(t,0)}function vn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Yt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new Yt(e,0)}function Dt(n){return n.pieceNum_>=n.pieces_.length}function ei(n,t){const e=kt(n),i=kt(t);if(null===e)return t;if(e===i)return ei(ln(n),ln(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function M0(n,t){const e=jc(n,0),i=jc(t,0);for(let a=0;a<e.length&&a<i.length;a++){const d=hu(e[a],i[a]);if(0!==d)return d}return e.length===i.length?0:e.length<i.length?-1:1}function Sp(n,t){if(Qa(n)!==Qa(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Gi(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Qa(n)>Qa(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class KE{constructor(t,e){this.errorPrefix_=e,this.parts_=jc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);l_(this)}}function l_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gu(n))}function gu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class u_ extends pu{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new u_}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ap=1e3;let mu,Hc=(()=>{class n extends s_{constructor(e,i,a,d,p,v,w,S){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=p,this.authTokenProvider_=v,this.appCheckTokenProvider_=w,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=yh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ap,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");u_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Dp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const d=++this.requestNumber_,p={r:d,a:e,b:i};this.log_((0,F.Wl)(p)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const i=new F.BH,d={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:v=>{const w=v.d;"ok"===v.s?i.resolve(w):i.reject(w)}};return this.outstandingGets_.push(d),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,a,d){this.initConnection_();const p=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+p),this.listens.has(v)||this.listens.set(v,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(v).has(p),"listen() called twice for same path/queryId.");const w={onComplete:d,hashFn:i,query:e,tag:a};this.listens.get(v).set(p,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),d=i._queryIdentifier;this.log_("Listen on "+a+" for "+d);const p={p:a};e.tag&&(p.q=i._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,w=>{const S=w.d,x=w.s;n.warnOnListenWarnings_(S,i),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",w),"ok"!==x&&this.removeListen_(a,d),e.onComplete&&e.onComplete(x,S))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+i._queryParams.getIndex().toString()+'"',p=i._path.toString();zr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,d=>{const p=d.s,v=d.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,i)}sendUnlisten_(e,i,a,d){this.log_("Unlisten on "+e+" for "+i);const p={p:e};d&&(p.q=a,p.t=d),this.sendRequest("n",p)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,d){const p={p:i,d:a};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,v=>{d&&setTimeout(()=>{d(v.s,v.d)},Math.floor(0))})}put(e,i,a,d){this.putInternal("p",e,i,a,d)}merge(e,i,a,d){this.putInternal("m",e,i,a,d)}putInternal(e,i,a,d,p){this.initConnection_();const v={p:i,d:a};void 0!==p&&(v.h=p),this.outstandingPuts_.push({action:e,request:v,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,p=>{this.log_(i+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(p.s,p.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):$m("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ap,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ap,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ap),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Di.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+n.nextConnectionId_++,v=e.lastSessionId;let w=!1,S=null;const x=function(){S?S.close():(w=!0,d())};e.realtime_={close:x,sendRequest:function(ue){(0,F.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(ue)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ue,Ce]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);w?Ir("getToken() completed but was canceled"):(Ir("getToken() completed. Creating connection."),e.authToken_=ue&&ue.accessToken,e.appCheckToken_=Ce&&Ce.token,S=new zE(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,a,d,$e=>{zr($e+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(ue){e.log_("Failed to get token: "+ue),w||(e.repoInfo_.nodeAdmin&&zr(ue),x())}}})()}interrupt(e){Ir("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ir("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ap,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;a=i?i.map(p=>_p(p)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,i){const a=new Yt(e).toString();let d;if(this.listens.has(a)){const p=this.listens.get(a);d=p.get(i),p.delete(i),0===p.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,i){Ir("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ir("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+gp.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Dp.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Pt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Pt(t,e)}}class c_{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Pt(Ka,t),a=new Pt(Ka,e);return 0!==this.compare(i,a)}minPost(){return Pt.MIN}}class N0 extends c_{static get __EMPTY_NODE(){return mu}static set __EMPTY_NODE(t){mu=t}compare(t,e){return hu(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Pt.MIN}maxPost(){return new Pt(Ho,mu)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Pt(t,mu)}toString(){return".key"}}const ps=new N0;class _u{constructor(t,e,i,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let p=1;for(;!t.isEmpty();)if(p=e?i(t.key,e):1,a&&(p*=-1),p<0)t=this.isReverse_?t.left:t.right;else{if(0===p){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let h_,Wi=(()=>{class n{constructor(e,i,a,d,p){this.key=e,this.value=i,this.color=a??n.RED,this.left=d??Ti.EMPTY_NODE,this.right=p??Ti.EMPTY_NODE}copy(e,i,a,d,p){return new n(e??this.key,i??this.value,a??this.color,d??this.left,p??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let d=this;const p=a(e,d.key);return d=p<0?d.copy(null,null,null,d.left.insert(e,i,a),null):0===p?d.copy(null,i,null,null,null):d.copy(null,null,null,null,d.right.insert(e,i,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ti.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,d;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(e,a.key)){if(a.right.isEmpty())return Ti.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ti{constructor(t,e=Ti.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ti(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Wi.BLACK,null,null))}remove(t){return new Ti(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wi.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,a=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _u(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new _u(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new _u(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new _u(this.root_,null,this.comparator_,!0,t)}}function d_(n,t){return hu(n.name,t.name)}function Mp(n,t){return hu(n,t)}Ti.EMPTY_NODE=new class XE{copy(t,e,i,a,d){return this}insert(t,e,i){return new Wi(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const P0=function(n){return"number"==typeof n?"number:"+Wm(n):"string:"+n},x0=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===h_||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===h_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let tC,Dh,nC,$c=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),x0(this.priorityNode_)}static set __childrenNodeConstructor(e){tC=e}static get __childrenNodeConstructor(){return tC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Dt(e)?this:".priority"===kt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=kt(e);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===Qa(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ln(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+P0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Wm(this.value_):this.value_,this.lazyHash_=u0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(i),p=n.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(d>=0,"Unknown leaf type: "+i),(0,F.hu)(p>=0,"Unknown leaf type: "+a),d===p?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-d}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const hn=new class hT extends c_{compare(t,e){const i=t.node.getPriority(),a=e.node.getPriority(),d=i.compareTo(a);return 0===d?hu(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Pt.MIN}maxPost(){return new Pt(Ho,new $c("[PRIORITY-POST]",nC))}makePost(t,e){const i=Dh(t);return new Pt(e,new $c("[PRIORITY-POST]",i))}toString(){return".priority"}},O0=Math.log(2);class F0{constructor(t){this.count=parseInt(Math.log(t+1)/O0,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const f_=function(n,t,e,i){n.sort(t);const a=function(w,S){const x=S-w;let W,J;if(0===x)return null;if(1===x)return W=n[w],J=e?e(W):W,new Wi(J,W.node,Wi.BLACK,null,null);{const ue=parseInt(x/2,10)+w,Ce=a(w,ue),$e=a(ue+1,S);return W=n[ue],J=e?e(W):W,new Wi(J,W.node,Wi.BLACK,Ce,$e)}},v=function(w){let S=null,x=null,W=n.length;const J=function(Ce,$e){const Ge=W-Ce,$t=W;W-=Ce;const Lt=a(Ge+1,$t),Gt=n[Ge],Tt=e?e(Gt):Gt;ue(new Wi(Tt,Gt.node,$e,null,Lt))},ue=function(Ce){S?(S.left=Ce,S=Ce):(x=Ce,S=Ce)};for(let Ce=0;Ce<w.count;++Ce){const $e=w.nextBitIsOne(),Ge=Math.pow(2,w.count-(Ce+1));$e?J(Ge,Wi.BLACK):(J(Ge,Wi.BLACK),J(Ge,Wi.RED))}return x}(new F0(n.length));return new Ti(i||t,v)};let p_;const yu={};class Js{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(yu&&hn,"ChildrenNode.ts has not been loaded"),p_=p_||new Js({".priority":yu},{".priority":hn}),p_}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ti?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==ps,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const d=e.getIterator(Pt.Wrap);let v,p=d.getNext();for(;p;)a=a||t.isDefinedOn(p.node),i.push(p),p=d.getNext();v=a?f_(i,t.getCompare()):yu;const w=t.toString(),S=Object.assign({},this.indexSet_);S[w]=t;const x=Object.assign({},this.indexes_);return x[w]=v,new Js(x,S)}addToIndexes(t,e){const i=(0,F.UI)(this.indexes_,(a,d)=>{const p=(0,F.DV)(this.indexSet_,d);if((0,F.hu)(p,"Missing index implementation for "+d),a===yu){if(p.isDefinedOn(t.node)){const v=[],w=e.getIterator(Pt.Wrap);let S=w.getNext();for(;S;)S.name!==t.name&&v.push(S),S=w.getNext();return v.push(t),f_(v,p.getCompare())}return yu}{const v=e.get(t.name);let w=a;return v&&(w=w.remove(new Pt(t.name,v))),w.insert(t,t.node)}});return new Js(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,F.UI)(this.indexes_,a=>{if(a===yu)return a;{const d=e.get(t.name);return d?a.remove(new Pt(t.name,d)):a}});return new Js(i,this.indexSet_)}}let Rp,ot=(()=>{class n{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&x0(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Rp||(Rp=new n(new Ti(Mp),null,Js.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rp}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Rp:i}}getChild(e){const i=kt(e);return null===i?this:this.getImmediateChild(i).getChild(ln(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const a=new Pt(e,i);let d,p;i.isEmpty()?(d=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,i),p=this.indexMap_.addToIndexes(a,this.children_));const v=d.isEmpty()?Rp:this.priorityNode_;return new n(d,v,p)}}updateChild(e,i){const a=kt(e);if(null===a)return i;{(0,F.hu)(".priority"!==kt(e)||1===Qa(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(ln(e),i);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,d=0,p=!0;if(this.forEachChild(hn,(v,w)=>{i[v]=w.val(e),a++,p&&n.INTEGER_REGEXP_.test(v)?d=Math.max(d,Number(v)):p=!1}),!e&&p&&d<2*a){const v=[];for(const w in i)v[w]=i[w];return v}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+P0(this.getPriority().val())+":"),this.forEachChild(hn,(i,a)=>{const d=a.hash();""!==d&&(e+=":"+i+":"+d)}),this.lazyHash_=""===e?"":u0(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const d=this.resolveIndex_(a);if(d){const p=d.getPredecessorKey(new Pt(e,i));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Pt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Pt(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>i(d.name,d.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Pt.Wrap);let p=d.peek();for(;null!=p&&i.compare(p,e)<0;)d.getNext(),p=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Pt.Wrap);let p=d.peek();for(;null!=p&&i.compare(p,e)>0;)d.getNext(),p=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vu?-1:0}withIndex(e){if(e===ps||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ps||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(hn),d=i.getIterator(hn);let p=a.getNext(),v=d.getNext();for(;p&&v;){if(p.name!==v.name||!p.node.equals(v.node))return!1;p=a.getNext(),v=d.getNext()}return null===p&&null===v}return!1}return!1}}resolveIndex_(e){return e===ps?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const vu=new class L0 extends ot{constructor(){super(new Ti(Mp),ot.EMPTY_NODE,Js.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ot.EMPTY_NODE}isEmpty(){return!1}};function Pn(n,t=null){if(null===n)return ot.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new $c(n,Pn(t));if(n instanceof Array){let e=ot.EMPTY_NODE;return fr(n,(i,a)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const d=Pn(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(i,d))}}),e.updatePriority(Pn(t))}{const e=[];let i=!1;if(fr(n,(p,v)=>{if("."!==p.substring(0,1)){const w=Pn(v);w.isEmpty()||(i=i||!w.getPriority().isEmpty(),e.push(new Pt(p,w)))}}),0===e.length)return ot.EMPTY_NODE;const d=f_(e,d_,p=>p.name,Mp);if(i){const p=f_(e,hn.getCompare());return new ot(d,Pn(t),new Js({".priority":p},{".priority":hn}))}return new ot(d,Pn(t),Js.Default)}}Object.defineProperties(Pt,{MIN:{value:new Pt(Ka,ot.EMPTY_NODE)},MAX:{value:new Pt(Ho,vu)}}),N0.__EMPTY_NODE=ot.EMPTY_NODE,$c.__childrenNodeConstructor=ot,function eC(n){h_=n}(vu),function dT(n){nC=n}(vu),function cT(n){Dh=n}(Pn);class hi extends c_{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Dt(t)&&".priority"!==kt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),a=this.extractChild(e.node),d=i.compareTo(a);return 0===d?hu(t.name,e.name):d}makePost(t,e){const i=Pn(t),a=ot.EMPTY_NODE.updateChild(this.indexPath_,i);return new Pt(e,a)}maxPost(){const t=ot.EMPTY_NODE.updateChild(this.indexPath_,vu);return new Pt(Ho,t)}toString(){return jc(this.indexPath_,0).join("/")}}const Th=new class V0 extends c_{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?hu(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Pt.MIN}maxPost(){return Pt.MAX}makePost(t,e){const i=Pn(t);return new Pt(e,i)}toString(){return".value"}};function rC(n){return{type:"value",snapshotNode:n}}function Gc(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Eu(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Wc(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class g_{constructor(t){this.index_=t}updateChild(t,e,i,a,d,p){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=t.getImmediateChild(e);return v.getChild(a).equals(i.getChild(a))&&v.isEmpty()===i.isEmpty()||(null!=p&&(i.isEmpty()?t.hasChild(e)?p.trackChildChange(Eu(e,v)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?p.trackChildChange(Gc(e,i)):p.trackChildChange(Wc(e,i,v))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(hn,(a,d)=>{e.hasChild(a)||i.trackChildChange(Eu(a,d))}),e.isLeafNode()||e.forEachChild(hn,(a,d)=>{if(t.hasChild(a)){const p=t.getImmediateChild(a);p.equals(d)||i.trackChildChange(Wc(a,d,p))}else i.trackChildChange(Gc(a,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ot.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zc{constructor(t){this.indexedFilter_=new g_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=zc.getStartPost_(t),this.endPost_=zc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,a,d,p){return this.matches(new Pt(e,i))||(i=ot.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,a,d,p)}updateFullNode(t,e,i){e.isLeafNode()&&(e=ot.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(ot.EMPTY_NODE);const d=this;return e.forEachChild(hn,(p,v)=>{d.matches(new Pt(p,v))||(a=a.updateImmediateChild(p,ot.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class sC{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new zc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,a,d,p){return this.rangedFilter_.matches(new Pt(e,i))||(i=ot.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,a,d,p):this.fullLimitUpdateChild_(t,e,i,d,p)}updateFullNode(t,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=ot.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=ot.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;d.hasNext()&&p<this.limit_;){const v=d.getNext();if(this.withinDirectionalStart(v)){if(!this.withinDirectionalEnd(v))break;a=a.updateImmediateChild(v.name,v.node),p++}}}else{let d;a=e.withIndex(this.index_),a=a.updatePriority(ot.EMPTY_NODE),d=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let p=0;for(;d.hasNext();){const v=d.getNext();p<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?p++:a=a.updateImmediateChild(v.name,ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,a,d){let p;if(this.reverse_){const W=this.index_.getCompare();p=(J,ue)=>W(ue,J)}else p=this.index_.getCompare();const v=t;(0,F.hu)(v.numChildren()===this.limit_,"");const w=new Pt(e,i),S=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),x=this.rangedFilter_.matches(w);if(v.hasChild(e)){const W=v.getImmediateChild(e);let J=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=J&&(J.name===e||v.hasChild(J.name));)J=a.getChildAfterChild(this.index_,J,this.reverse_);const ue=null==J?1:p(J,w);if(x&&!i.isEmpty()&&ue>=0)return d?.trackChildChange(Wc(e,i,W)),v.updateImmediateChild(e,i);{d?.trackChildChange(Eu(e,W));const $e=v.updateImmediateChild(e,ot.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(d?.trackChildChange(Gc(J.name,J.node)),$e.updateImmediateChild(J.name,J.node)):$e}}return i.isEmpty()?t:x&&p(S,w)>=0?(null!=d&&(d.trackChildChange(Eu(S.name,S.node)),d.trackChildChange(Gc(e,i))),v.updateImmediateChild(e,i).updateImmediateChild(S.name,ot.EMPTY_NODE)):t}}class kp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ka}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ho}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hn}copy(){const t=new kp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Xs(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Sh(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Np(n,t){const e=n.copy();return e.index_=t,e}function j0(n){const t={};if(n.isDefault())return t;let e;if(n.index_===hn?e="$priority":n.index_===Th?e="$value":n.index_===ps?e="$key":((0,F.hu)(n.index_ instanceof hi,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,F.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,F.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function lC(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==hn&&(t.i=n.index_.toString()),t}class Pp extends s_{constructor(t,e,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=yh("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,a){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const p=Pp.getListenId_(t,i),v={};this.listens_[p]=v;const w=j0(t._queryParams);this.restRequest_(d+".json",w,(S,x)=>{let W=x;if(404===S&&(W=null,S=null),null===S&&this.onDataUpdate_(d,W,!1,i),(0,F.DV)(this.listens_,p)===v){let J;J=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(J,null)}})}unlisten(t,e){const i=Pp.getListenId_(t,e);delete this.listens_[i]}get(t){const e=j0(t._queryParams),i=t._path.toString(),a=new F.BH;return this.restRequest_(i+".json",e,(d,p)=>{let v=p;404===d&&(v=null,d=null),null===d?(this.onDataUpdate_(i,v,!1,null),a.resolve(v)):a.reject(new Error(v))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+p);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(i&&4===v.readyState){this.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);let w=null;if(v.status>=200&&v.status<300){try{w=(0,F.cI)(v.responseText)}catch{zr("Failed to parse JSON response for "+p+": "+v.responseText)}i(null,w)}else 401!==v.status&&404!==v.status&&zr("Got unsuccessful REST response for "+p+" Status: "+v.status),i(v.status);i=null}},v.open("GET",p,!0),v.send()})}}class H0{constructor(){this.rootNode_=ot.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function xp(){return{value:null,children:new Map}}function Cu(n,t,e){if(Dt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=kt(t);n.children.has(i)||n.children.set(i,xp()),Cu(n.children.get(i),t=ln(t),e)}}function uC(n,t){if(Dt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(hn,(i,a)=>{Cu(n,new Yt(i),a)}),uC(n,t)}}if(n.children.size>0){const e=kt(t);return t=ln(t),n.children.has(e)&&uC(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Op(n,t,e){null!==n.value?e(t,n.value):function $0(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,a)=>{Op(a,new Yt(t.toString()+"/"+i),e)})}class cC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&fr(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=t,e}}class hC{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new cC(t);const i=1e4+2e4*Math.random();Go(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;fr(t,(a,d)=>{d>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=d,i=!0)}),i&&this.server_.reportStats(e),Go(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Si=(()=>{return(n=Si||(Si={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Si;var n})();function Zc(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class bu{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Si.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Dt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Yt(t));return new bu(Ht(),e,this.revert)}}return(0,F.hu)(kt(this.path)===t,"operationForChild called for unrelated child."),new bu(ln(this.path),this.affectedTree,this.revert)}}class qc{constructor(t,e){this.source=t,this.path=e,this.type=Si.LISTEN_COMPLETE}operationForChild(t){return Dt(this.path)?new qc(this.source,Ht()):new qc(this.source,ln(this.path))}}class wu{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Si.OVERWRITE}operationForChild(t){return Dt(this.path)?new wu(this.source,Ht(),this.snap.getImmediateChild(t)):new wu(this.source,ln(this.path),this.snap)}}class Kc{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Si.MERGE}operationForChild(t){if(Dt(this.path)){const e=this.children.subtree(new Yt(t));return e.isEmpty()?null:e.value?new wu(this.source,Ht(),e.value):new Kc(this.source,Ht(),e)}return(0,F.hu)(kt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Kc(this.source,ln(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ja{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Dt(t))return this.isFullyInitialized()&&!this.filtered_;const e=kt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class fT{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Yc(n,t,e,i,a,d){const p=i.filter(v=>v.type===e);p.sort((v,w)=>function z0(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new Pt(t.childName,t.snapshotNode),a=new Pt(e.childName,e.snapshotNode);return n.index_.compare(i,a)}(n,v,w)),p.forEach(v=>{const w=function W0(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,v,d);a.forEach(S=>{S.respondsTo(v.type)&&t.push(S.createEvent(w,n.query_))})})}function Up(n,t){return{eventCache:n,serverCache:t}}function Vp(n,t,e,i){return Up(new Ja(t,e,i),n.serverCache)}function Z0(n,t,e,i){return Up(n.eventCache,new Ja(t,e,i))}function y_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Qc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let fC;class Qt{constructor(t,e=(()=>(fC||(fC=new Ti(f0)),fC))()){this.value=t,this.children=e}static fromObject(t){let e=new Qt(null);return fr(t,(i,a)=>{e=e.set(new Yt(i),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ht(),value:this.value};if(Dt(t))return null;{const i=kt(t),a=this.children.get(i);if(null!==a){const d=a.findRootMostMatchingPathAndValue(ln(t),e);return null!=d?{path:vn(new Yt(i),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Dt(t))return this;{const e=kt(t),i=this.children.get(e);return null!==i?i.subtree(ln(t)):new Qt(null)}}set(t,e){if(Dt(t))return new Qt(e,this.children);{const i=kt(t),d=(this.children.get(i)||new Qt(null)).set(ln(t),e),p=this.children.insert(i,d);return new Qt(this.value,p)}}remove(t){if(Dt(t))return this.children.isEmpty()?new Qt(null):new Qt(null,this.children);{const e=kt(t),i=this.children.get(e);if(i){const a=i.remove(ln(t));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new Qt(null):new Qt(this.value,d)}return this}}get(t){if(Dt(t))return this.value;{const e=kt(t),i=this.children.get(e);return i?i.get(ln(t)):null}}setTree(t,e){if(Dt(t))return e;{const i=kt(t),d=(this.children.get(i)||new Qt(null)).setTree(ln(t),e);let p;return p=d.isEmpty()?this.children.remove(i):this.children.insert(i,d),new Qt(this.value,p)}}fold(t){return this.fold_(Ht(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((a,d)=>{i[a]=d.fold_(vn(t,a),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Ht(),e)}findOnPath_(t,e,i){const a=!!this.value&&i(e,this.value);if(a)return a;if(Dt(t))return null;{const d=kt(t),p=this.children.get(d);return p?p.findOnPath_(ln(t),vn(e,d),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ht(),e)}foreachOnPath_(t,e,i){if(Dt(t))return this;{this.value&&i(e,this.value);const a=kt(t),d=this.children.get(a);return d?d.foreachOnPath_(ln(t),vn(e,a),i):new Qt(null)}}foreach(t){this.foreach_(Ht(),t)}foreach_(t,e){this.children.inorderTraversal((i,a)=>{a.foreach_(vn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class gs{constructor(t){this.writeTree_=t}static empty(){return new gs(new Qt(null))}}function Ah(n,t,e){if(Dt(t))return new gs(new Qt(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const a=i.path;let d=i.value;const p=ei(a,t);return d=d.updateChild(p,e),new gs(n.writeTree_.set(a,d))}{const a=new Qt(e),d=n.writeTree_.setTree(t,a);return new gs(d)}}}function Bp(n,t,e){let i=n;return fr(e,(a,d)=>{i=Ah(i,vn(t,a),d)}),i}function Xa(n,t){if(Dt(t))return gs.empty();{const e=n.writeTree_.setTree(t,new Qt(null));return new gs(e)}}function jp(n,t){return null!=zo(n,t)}function zo(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ei(e.path,t)):null}function Hp(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(hn,(i,a)=>{t.push(new Pt(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&t.push(new Pt(i,a.value))}),t}function el(n,t){if(Dt(t))return n;{const e=zo(n,t);return new gs(null!=e?new Qt(e):n.writeTree_.subtree(t))}}function Mh(n){return n.writeTree_.isEmpty()}function tl(n,t){return Rh(Ht(),n.writeTree_,t)}function Rh(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((a,d)=>{".priority"===a?((0,F.hu)(null!==d.value,"Priority writes must always be leaf nodes"),i=d.value):e=Rh(vn(n,a),d,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(vn(n,".priority"),i)),e}}function v_(n,t){return EC(t,n)}function K0(n,t){if(n.snap)return Gi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Gi(vn(n.path,e),t))return!0;return!1}function Q0(n){return n.visible}function gC(n,t,e){let i=gs.empty();for(let a=0;a<n.length;++a){const d=n[a];if(t(d)){const p=d.path;let v;if(d.snap)Gi(e,p)?(v=ei(e,p),i=Ah(i,v,d.snap)):Gi(p,e)&&(v=ei(p,e),i=Ah(i,Ht(),d.snap.getChild(v)));else{if(!d.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Gi(e,p))v=ei(e,p),i=Bp(i,v,d.children);else if(Gi(p,e))if(v=ei(p,e),Dt(v))i=Bp(i,Ht(),d.children);else{const w=(0,F.DV)(d.children,kt(v));if(w){const S=w.getChild(ln(v));i=Ah(i,Ht(),S)}}}}}return i}function E_(n,t,e,i,a){if(i||a){const d=el(n.visibleWrites,t);return!a&&Mh(d)?e:a||null!=e||jp(d,Ht())?tl(gC(n.allWrites,function(S){return(S.visible||a)&&(!i||!~i.indexOf(S.writeId))&&(Gi(S.path,t)||Gi(t,S.path))},t),e||ot.EMPTY_NODE):null}{const d=zo(n.visibleWrites,t);if(null!=d)return d;{const p=el(n.visibleWrites,t);return Mh(p)?e:null!=e||jp(p,Ht())?tl(p,e||ot.EMPTY_NODE):null}}}function b_(n,t,e,i){return E_(n.writeTree,n.treePath,t,e,i)}function $p(n,t){return function mC(n,t,e){let i=ot.EMPTY_NODE;const a=zo(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(hn,(d,p)=>{i=i.updateImmediateChild(d,p)}),i;if(e){const d=el(n.visibleWrites,t);return e.forEachChild(hn,(p,v)=>{const w=tl(el(d,new Yt(p)),v);i=i.updateImmediateChild(p,w)}),Hp(d).forEach(p=>{i=i.updateImmediateChild(p.name,p.node)}),i}return Hp(el(n.visibleWrites,t)).forEach(p=>{i=i.updateImmediateChild(p.name,p.node)}),i}(n.writeTree,n.treePath,t)}function Gp(n,t,e,i){return function _C(n,t,e,i,a){(0,F.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const d=vn(t,e);if(jp(n.visibleWrites,d))return null;{const p=el(n.visibleWrites,d);return Mh(p)?a.getChild(e):tl(p,a.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Wp(n,t){return function X0(n,t){return zo(n.visibleWrites,t)}(n.writeTree,vn(n.treePath,t))}function vC(n,t,e){return function J0(n,t,e,i){const a=vn(t,e),d=zo(n.visibleWrites,a);return null!=d?d:i.isCompleteForChild(e)?tl(el(n.visibleWrites,a),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function tI(n,t){return EC(vn(n.treePath,t),n.writeTree)}function EC(n,t){return{treePath:n,writeTree:t}}class nI{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(i,Wc(i,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(i,Eu(i,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(i,Gc(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(i,Wc(i,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const iI=new class rI{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class CC{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Ja(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vC(this.writes_,t,i)}}getChildAfterChild(t,e,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qc(this.viewCache_),d=function eI(n,t,e,i,a,d){return function yC(n,t,e,i,a,d,p){let v;const w=el(n.visibleWrites,t),S=zo(w,Ht());if(null!=S)v=S;else{if(null==e)return[];v=tl(w,e)}if(v=v.withIndex(p),v.isEmpty()||v.isLeafNode())return[];{const x=[],W=p.getCompare(),J=d?v.getReverseIteratorFrom(i,p):v.getIteratorFrom(i,p);let ue=J.getNext();for(;ue&&x.length<a;)0!==W(ue,i)&&x.push(ue),ue=J.getNext();return x}}(n.writeTree,n.treePath,t,e,i,a,d)}(this.writes_,a,e,1,i,t);return 0===d.length?null:d[0]}}function oI(n,t,e,i,a,d){const p=t.eventCache;if(null!=Wp(i,e))return t;{let v,w;if(Dt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=Qc(t),W=$p(i,S instanceof ot?S:ot.EMPTY_NODE);v=n.filter.updateFullNode(t.eventCache.getNode(),W,d)}else{const S=b_(i,Qc(t));v=n.filter.updateFullNode(t.eventCache.getNode(),S,d)}else{const S=kt(e);if(".priority"===S){(0,F.hu)(1===Qa(e),"Can't have a priority with additional path components");const x=p.getNode();w=t.serverCache.getNode();const W=Gp(i,e,x,w);v=null!=W?n.filter.updatePriority(x,W):p.getNode()}else{const x=ln(e);let W;if(p.isCompleteForChild(S)){w=t.serverCache.getNode();const J=Gp(i,e,p.getNode(),w);W=null!=J?p.getNode().getImmediateChild(S).updateChild(x,J):p.getNode().getImmediateChild(S)}else W=vC(i,S,t.serverCache);v=null!=W?n.filter.updateChild(p.getNode(),S,W,x,a,d):p.getNode()}}return Vp(t,v,p.isFullyInitialized()||Dt(e),n.filter.filtersNodes())}}function w_(n,t,e,i,a,d,p,v){const w=t.serverCache;let S;const x=p?n.filter:n.filter.getIndexedFilter();if(Dt(e))S=x.updateFullNode(w.getNode(),i,null);else if(x.filtersNodes()&&!w.isFiltered()){const ue=w.getNode().updateChild(e,i);S=x.updateFullNode(w.getNode(),ue,null)}else{const ue=kt(e);if(!w.isCompleteForPath(e)&&Qa(e)>1)return t;const Ce=ln(e),Ge=w.getNode().getImmediateChild(ue).updateChild(Ce,i);S=".priority"===ue?x.updatePriority(w.getNode(),Ge):x.updateChild(w.getNode(),ue,Ge,Ce,iI,null)}const W=Z0(t,S,w.isFullyInitialized()||Dt(e),x.filtersNodes());return oI(n,W,e,a,new CC(a,W,d),v)}function bC(n,t,e,i,a,d,p){const v=t.eventCache;let w,S;const x=new CC(a,t,d);if(Dt(e))S=n.filter.updateFullNode(t.eventCache.getNode(),i,p),w=Vp(t,S,!0,n.filter.filtersNodes());else{const W=kt(e);if(".priority"===W)S=n.filter.updatePriority(t.eventCache.getNode(),i),w=Vp(t,S,v.isFullyInitialized(),v.isFiltered());else{const J=ln(e),ue=v.getNode().getImmediateChild(W);let Ce;if(Dt(J))Ce=i;else{const $e=x.getCompleteChild(W);Ce=null!=$e?".priority"===a_(J)&&$e.getChild(qE(J)).isEmpty()?$e:$e.updateChild(J,i):ot.EMPTY_NODE}w=ue.equals(Ce)?t:Vp(t,n.filter.updateChild(v.getNode(),W,Ce,J,x,p),v.isFullyInitialized(),n.filter.filtersNodes())}}return w}function aI(n,t){return n.eventCache.isCompleteForChild(t)}function lI(n,t,e){return e.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function r(n,t,e,i,a,d,p,v){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,w=t;S=Dt(e)?i:new Qt(null).setTree(e,i);const x=t.serverCache.getNode();return S.children.inorderTraversal((W,J)=>{if(x.hasChild(W)){const Ce=lI(0,t.serverCache.getNode().getImmediateChild(W),J);w=w_(n,w,new Yt(W),Ce,a,d,p,v)}}),S.children.inorderTraversal((W,J)=>{const ue=!t.serverCache.isCompleteForChild(W)&&null===J.value;if(!x.hasChild(W)&&!ue){const $e=lI(0,t.serverCache.getNode().getImmediateChild(W),J);w=w_(n,w,new Yt(W),$e,a,d,p,v)}}),w}class c{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new g_(i.getIndex()),d=function oC(n){return n.loadsAllData()?new g_(n.getIndex()):n.hasLimit()?new sC(n):new zc(n)}(i);this.processor_=function yT(n){return{filter:n}}(d);const p=e.serverCache,v=e.eventCache,w=a.updateFullNode(ot.EMPTY_NODE,p.getNode(),null),S=d.updateFullNode(ot.EMPTY_NODE,v.getNode(),null),x=new Ja(w,p.isFullyInitialized(),a.filtersNodes()),W=new Ja(S,v.isFullyInitialized(),d.filtersNodes());this.viewCache_=Up(W,x),this.eventGenerator_=new fT(this.query_)}get query(){return this.query_}}function E(n,t){const e=Qc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Dt(t)&&!e.getImmediateChild(kt(t)).isEmpty())?e.getChild(t):null}function C(n){return 0===n.eventRegistrations_.length}function R(n,t,e){const i=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(d=>{const p=d.createCancelEvent(e,a);p&&i.push(p)})}if(t){let a=[];for(let d=0;d<n.eventRegistrations_.length;++d){const p=n.eventRegistrations_[d];if(p.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(d+1));break}}else a.push(p)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function L(n,t,e,i){t.type===Si.MERGE&&null!==t.source.queryId&&((0,F.hu)(Qc(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(y_(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,d=function ET(n,t,e,i,a){const d=new nI;let p,v;if(e.type===Si.OVERWRITE){const S=e;S.source.fromUser?p=bC(n,t,S.path,S.snap,i,a,d):((0,F.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered()&&!Dt(S.path),p=w_(n,t,S.path,S.snap,i,a,v,d))}else if(e.type===Si.MERGE){const S=e;S.source.fromUser?p=function CT(n,t,e,i,a,d,p){let v=t;return i.foreach((w,S)=>{const x=vn(e,w);aI(t,kt(x))&&(v=bC(n,v,x,S,a,d,p))}),i.foreach((w,S)=>{const x=vn(e,w);aI(t,kt(x))||(v=bC(n,v,x,S,a,d,p))}),v}(n,t,S.path,S.children,i,a,d):((0,F.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered(),p=r(n,t,S.path,S.children,i,a,v,d))}else if(e.type===Si.ACK_USER_WRITE){const S=e;p=S.revert?function l(n,t,e,i,a,d){let p;if(null!=Wp(i,e))return t;{const v=new CC(i,t,a),w=t.eventCache.getNode();let S;if(Dt(e)||".priority"===kt(e)){let x;if(t.serverCache.isFullyInitialized())x=b_(i,Qc(t));else{const W=t.serverCache.getNode();(0,F.hu)(W instanceof ot,"serverChildren would be complete if leaf node"),x=$p(i,W)}S=n.filter.updateFullNode(w,x,d)}else{const x=kt(e);let W=vC(i,x,t.serverCache);null==W&&t.serverCache.isCompleteForChild(x)&&(W=w.getImmediateChild(x)),S=null!=W?n.filter.updateChild(w,x,W,ln(e),v,d):t.eventCache.getNode().hasChild(x)?n.filter.updateChild(w,x,ot.EMPTY_NODE,ln(e),v,d):w,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(p=b_(i,Qc(t)),p.isLeafNode()&&(S=n.filter.updateFullNode(S,p,d)))}return p=t.serverCache.isFullyInitialized()||null!=Wp(i,Ht()),Vp(t,S,p,n.filter.filtersNodes())}}(n,t,S.path,i,a,d):function s(n,t,e,i,a,d,p){if(null!=Wp(a,e))return t;const v=t.serverCache.isFiltered(),w=t.serverCache;if(null!=i.value){if(Dt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return w_(n,t,e,w.getNode().getChild(e),a,d,v,p);if(Dt(e)){let S=new Qt(null);return w.getNode().forEachChild(ps,(x,W)=>{S=S.set(new Yt(x),W)}),r(n,t,e,S,a,d,v,p)}return t}{let S=new Qt(null);return i.foreach((x,W)=>{const J=vn(e,x);w.isCompleteForPath(J)&&(S=S.set(x,w.getNode().getChild(J)))}),r(n,t,e,S,a,d,v,p)}}(n,t,S.path,S.affectedTree,i,a,d)}else{if(e.type!==Si.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);p=function o(n,t,e,i,a){const d=t.serverCache;return oI(n,Z0(t,d.getNode(),d.isFullyInitialized()||Dt(e),d.isFiltered()),e,i,iI,a)}(n,t,e.path,i,d)}const w=d.getChanges();return function sI(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),d=y_(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(d)||!i.getNode().getPriority().equals(d.getPriority()))&&e.push(rC(y_(t)))}}(t,p,w),{viewCache:p,changes:w}}(n.processor_,a,t,e,i);return function vT(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,F.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,re(n,d.changes,d.viewCache.eventCache.getNode(),null)}function re(n,t,e,i){return function pT(n,t,e,i){const a=[],d=[];return t.forEach(p=>{"child_changed"===p.type&&n.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&d.push(function iC(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(p.childName,p.snapshotNode))}),Yc(n,a,"child_removed",t,i,e),Yc(n,a,"child_added",t,i,e),Yc(n,a,"child_moved",d,i,e),Yc(n,a,"child_changed",t,i,e),Yc(n,a,"value",t,i,e),a}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let de,IC;class Me{constructor(){this.views=new Map}}function be(n,t,e,i){const a=t.source.queryId;if(null!==a){const d=n.views.get(a);return(0,F.hu)(null!=d,"SyncTree gave us an op for an invalid query."),L(d,t,e,i)}{let d=[];for(const p of n.views.values())d=d.concat(L(p,t,e,i));return d}}function yt(n,t,e,i,a){const p=n.views.get(t._queryIdentifier);if(!p){let v=b_(e,a?i:null),w=!1;v?w=!0:i instanceof ot?(v=$p(e,i),w=!1):(v=ot.EMPTY_NODE,w=!1);const S=Up(new Ja(v,w,!1),new Ja(i,a,!1));return new c(t,S)}return p}function uI(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Jc(n,t){let e=null;for(const i of n.views.values())e=e||E(i,t);return e}function bT(n,t){return t._queryParams.loadsAllData()?wC(n):n.views.get(t._queryIdentifier)}function wT(n,t){return null!=bT(n,t)}function Xc(n){return null!=wC(n)}function wC(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let dA=1;class IT{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Qt(null),this.pendingWriteTree_=function C_(){return{visibleWrites:gs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cI(n,t,e,i,a){return function gT(n,t,e,i,a){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:a}),a&&(n.visibleWrites=Ah(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,a),a?zp(n,new wu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ed(n,t,e=!1){const i=function _T(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function pC(n,t){const e=n.allWrites.findIndex(v=>v.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let a=i.visible,d=!1,p=n.allWrites.length-1;for(;a&&p>=0;){const v=n.allWrites[p];v.visible&&(p>=e&&K0(v,i.path)?a=!1:Gi(i.path,v.path)&&(d=!0)),p--}return!!a&&(d?(function Y0(n){n.visibleWrites=gC(n.allWrites,Q0,Ht()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Xa(n.visibleWrites,i.path):fr(i.children,w=>{n.visibleWrites=Xa(n.visibleWrites,vn(i.path,w))}),!0))}(n.pendingWriteTree_,t)){let d=new Qt(null);return null!=i.snap?d=d.set(Ht(),!0):fr(i.children,p=>{d=d.set(new Yt(p),!0)}),zp(n,new bu(i.path,d,e))}return[]}function I_(n,t,e){return zp(n,new wu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function DC(n,t,e,i,a=!1){const d=t._path,p=n.syncPointTree_.get(d);let v=[];if(p&&("default"===t._queryIdentifier||wT(p,t))){const w=function $n(n,t,e,i){const a=t._queryIdentifier,d=[];let p=[];const v=Xc(n);if("default"===a)for(const[w,S]of n.views.entries())p=p.concat(R(S,e,i)),C(S)&&(n.views.delete(w),S.query._queryParams.loadsAllData()||d.push(S.query));else{const w=n.views.get(a);w&&(p=p.concat(R(w,e,i)),C(w)&&(n.views.delete(a),w.query._queryParams.loadsAllData()||d.push(w.query)))}return v&&!Xc(n)&&d.push(new(function ze(){return(0,F.hu)(de,"Reference.ts has not been loaded"),de}())(t._repo,t._path)),{removed:d,events:p}}(p,t,e,i);(function dt(n){return 0===n.views.size})(p)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const S=w.removed;if(v=w.events,!a){const x=-1!==S.findIndex(J=>J._queryParams.loadsAllData()),W=n.syncPointTree_.findOnPath(d,(J,ue)=>Xc(ue));if(x&&!W){const J=n.syncPointTree_.subtree(d);if(!J.isEmpty()){const ue=function yA(n){return n.fold((t,e,i)=>{if(e&&Xc(e))return[wC(e)];{let a=[];return e&&(a=uI(e)),fr(i,(d,p)=>{a=a.concat(p)}),a}})}(J);for(let Ce=0;Ce<ue.length;++Ce){const $e=ue[Ce],Ge=$e.query,$t=AT(n,$e);n.listenProvider_.startListening(T_(Ge),D_(n,Ge),$t.hashFn,$t.onComplete)}}}!W&&S.length>0&&!i&&(x?n.listenProvider_.stopListening(T_(t),null):S.forEach(J=>{const ue=n.queryToTagMap.get(SC(J));n.listenProvider_.stopListening(T_(J),ue)}))}!function vA(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const a=SC(i),d=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(d)}}}(n,S)}return v}function DT(n,t,e,i){const a=hI(n,i);if(null!=a){const d=fI(a),p=d.path,v=d.queryId,w=ei(p,t);return pI(n,p,new wu(Zc(v),w,e))}return[]}function dI(n,t,e,i=!1){const a=t._path;let d=null,p=!1;n.syncPointTree_.foreachOnPath(a,(J,ue)=>{const Ce=ei(J,a);d=d||Jc(ue,Ce),p=p||Xc(ue)});let w,v=n.syncPointTree_.get(a);v?(p=p||Xc(v),d=d||Jc(v,Ht())):(v=new Me,n.syncPointTree_=n.syncPointTree_.set(a,v)),null!=d?w=!0:(w=!1,d=ot.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((ue,Ce)=>{const $e=Jc(Ce,Ht());$e&&(d=d.updateImmediateChild(ue,$e))}));const S=wT(v,t);if(!S&&!t._queryParams.loadsAllData()){const J=SC(t);(0,F.hu)(!n.queryToTagMap.has(J),"View does not exist, but we have a tag");const ue=function EA(){return dA++}();n.queryToTagMap.set(J,ue),n.tagToQueryMap.set(ue,J)}let W=function Dn(n,t,e,i,a,d){const p=yt(n,t,i,a,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,p),function D(n,t){n.eventRegistrations_.push(t)}(p,e),function K(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(hn,(d,p)=>{i.push(Gc(d,p))}),e.isFullyInitialized()&&i.push(rC(e.getNode())),re(n,i,e.getNode(),t)}(p,e)}(v,t,e,v_(n.pendingWriteTree_,a),d,w);if(!S&&!p&&!i){const J=bT(v,t);W=W.concat(function CA(n,t,e){const i=t._path,a=D_(n,t),d=AT(n,e),p=n.listenProvider_.startListening(T_(t),a,d.hashFn,d.onComplete),v=n.syncPointTree_.subtree(i);if(a)(0,F.hu)(!Xc(v.value),"If we're adding a query, it shouldn't be shadowed");else{const w=v.fold((S,x,W)=>{if(!Dt(S)&&x&&Xc(x))return[wC(x).query];{let J=[];return x&&(J=J.concat(uI(x).map(ue=>ue.query))),fr(W,(ue,Ce)=>{J=J.concat(Ce)}),J}});for(let S=0;S<w.length;++S){const x=w[S];n.listenProvider_.stopListening(T_(x),D_(n,x))}}return p}(n,t,J))}return W}function TC(n,t,e){const a=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(p,v)=>{const S=Jc(v,ei(p,t));if(S)return S});return E_(a,t,d,e,!0)}function zp(n,t){return TT(t,n.syncPointTree_,null,v_(n.pendingWriteTree_,Ht()))}function TT(n,t,e,i){if(Dt(n.path))return ST(n,t,e,i);{const a=t.get(Ht());null==e&&null!=a&&(e=Jc(a,Ht()));let d=[];const p=kt(n.path),v=n.operationForChild(p),w=t.children.get(p);if(w&&v){const S=e?e.getImmediateChild(p):null,x=tI(i,p);d=d.concat(TT(v,w,S,x))}return a&&(d=d.concat(be(a,n,i,e))),d}}function ST(n,t,e,i){const a=t.get(Ht());null==e&&null!=a&&(e=Jc(a,Ht()));let d=[];return t.children.inorderTraversal((p,v)=>{const w=e?e.getImmediateChild(p):null,S=tI(i,p),x=n.operationForChild(p);x&&(d=d.concat(ST(x,v,w,S)))}),a&&(d=d.concat(be(a,n,i,e))),d}function AT(n,t){const e=t.query,i=D_(n,e);return{hashFn:()=>(function f(n){return n.viewCache_.serverCache.getNode()}(t)||ot.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function gA(n,t,e){const i=hI(n,e);if(i){const a=fI(i),d=a.path,p=a.queryId,v=ei(d,t);return pI(n,d,new qc(Zc(p),v))}return[]}(n,e._path,i):function pA(n,t){return zp(n,new qc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function g0(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(a,e);return DC(n,e,null,d)}}}}function D_(n,t){const e=SC(t);return n.queryToTagMap.get(e)}function SC(n){return n._path.toString()+"$"+n._queryIdentifier}function hI(n,t){return n.tagToQueryMap.get(t)}function fI(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Yt(n.substr(0,t))}}function pI(n,t,e){const i=n.syncPointTree_.get(t);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),be(i,e,v_(n.pendingWriteTree_,t),null)}function T_(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function cA(){return(0,F.hu)(IC,"Reference.ts has not been loaded"),IC}())(n._repo,n._path):n}class gI{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new gI(e)}node(){return this.node_}}class mI{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=vn(this.path_,t);return new mI(this.syncTree_,e)}node(){return TC(this.syncTree_,this.path_)}}const MT=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?wA(n[".sv"],t,e):"object"==typeof n[".sv"]?IA(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},wA=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},IA=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const a=t.node();if((0,F.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const p=a.getValue();return"number"!=typeof p?i:p+i},RT=function(n,t,e,i){return yI(t,new mI(e,n),i)},_I=function(n,t,e){return yI(n,new gI(t),e)};function yI(n,t,e){const i=n.getPriority().val(),a=MT(i,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const p=n,v=MT(p.getValue(),t,e);return v!==p.getValue()||a!==p.getPriority().val()?new $c(v,Pn(a)):n}{const p=n;return d=p,a!==p.getPriority().val()&&(d=d.updatePriority(new $c(a))),p.forEachChild(hn,(v,w)=>{const S=yI(w,t.getImmediateChild(v),e);S!==w&&(d=d.updateImmediateChild(v,S))}),d}}class vI{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function AC(n,t){let e=t instanceof Yt?t:new Yt(t),i=n,a=kt(e);for(;null!==a;){const d=(0,F.DV)(i.node.children,a)||{children:{},childCount:0};i=new vI(a,i,d),e=ln(e),a=kt(e)}return i}function kh(n){return n.node.value}function EI(n,t){n.node.value=t,CI(n)}function kT(n){return n.node.childCount>0}function MC(n,t){fr(n.node.children,(e,i)=>{t(new vI(e,n,i))})}function NT(n,t,e,i){e&&!i&&t(n),MC(n,a=>{NT(a,t,!0,i)}),e&&i&&t(n)}function S_(n){return new Yt(null===n.parent?n.name:S_(n.parent)+"/"+n.name)}function CI(n){null!==n.parent&&function SA(n,t,e){const i=function DA(n){return void 0===kh(n)&&!kT(n)}(e),a=(0,F.r3)(n.node.children,t);i&&a?(delete n.node.children[t],n.node.childCount--,CI(n)):!i&&!a&&(n.node.children[t]=e.node,n.node.childCount++,CI(n))}(n.parent,n.name,n)}const AA=/[\[\].#$\/\u0000-\u001F\u007F]/,MA=/[\[\].#$\u0000-\u001F\u007F]/,bI=10485760,RC=function(n){return"string"==typeof n&&0!==n.length&&!AA.test(n)},PT=function(n){return"string"==typeof n&&0!==n.length&&!MA.test(n)},A_=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!mp(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},nl=function(n,t,e,i){i&&void 0===t||M_((0,F.gK)(n,"value"),t,e)},M_=function(n,t,e){const i=e instanceof Yt?new KE(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+gu(i));if("function"==typeof t)throw new Error(n+"contains a function "+gu(i)+" with contents = "+t.toString());if(mp(t))throw new Error(n+"contains "+t.toString()+" "+gu(i));if("string"==typeof t&&t.length>bI/3&&(0,F.ug)(t)>bI)throw new Error(n+"contains a string greater than "+bI+" utf8 bytes "+gu(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,d=!1;if(fr(t,(p,v)=>{if(".value"===p)a=!0;else if(".priority"!==p&&".sv"!==p&&(d=!0,!RC(p)))throw new Error(n+" contains an invalid key ("+p+") "+gu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function YE(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),l_(n)})(i,p),M_(n,v,i),function QE(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),a&&d)throw new Error(n+' contains ".value" child '+gu(i)+" in addition to actual children.")}},xT=function(n,t,e,i){if(i&&void 0===t)return;const a=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const d=[];fr(t,(p,v)=>{const w=new Yt(p);if(M_(a,v,vn(e,w)),".priority"===a_(w)&&!A_(v))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(w)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const d=jc(i);for(let p=0;p<d.length;p++)if((".priority"!==d[p]||p!==d.length-1)&&!RC(d[p]))throw new Error(n+"contains an invalid key ("+d[p]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(M0);let a=null;for(e=0;e<t.length;e++){if(i=t[e],null!==a&&Gi(a,i))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,d)},wI=function(n,t,e){if(!e||void 0!==t){if(mp(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!A_(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},R_=function(n,t,e,i){if(!(i&&void 0===e||RC(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},k_=function(n,t,e,i){if(!(i&&void 0===e||PT(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},eo=function(n,t){if(".info"===kt(t))throw new Error(n+" failed = Can't modify data under /.info/")},OT=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!RC(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),PT(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class PA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kC(n,t){let e=null;for(let i=0;i<t.length;i++){const a=t[i],d=a.getPath();null!==e&&!Sp(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&n.eventLists_.push(e)}function FT(n,t,e){kC(n,e),LT(n,i=>Sp(i,t))}function ms(n,t,e){kC(n,e),LT(n,i=>Gi(i,t)||Gi(t,i))}function LT(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];a&&(t(a.path)?(xA(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function xA(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();du&&Ir("event: "+e.toString()),Lc(i)}}}const UT="repo_interrupt";class FA{constructor(t,e,i,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new PA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xp(),this.transactionQueueTree_=new vI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VT(n){const e=n.infoData_.getNode(new Yt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function N_(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:VT(n)})}function BT(n,t,e,i,a){n.dataUpdateCount++;const d=new Yt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let p=[];if(a)if(i){const w=(0,F.UI)(e,S=>Pn(S));p=function mA(n,t,e,i){const a=hI(n,i);if(a){const d=fI(a),p=d.path,v=d.queryId,w=ei(p,t),S=Qt.fromObject(e);return pI(n,p,new Kc(Zc(v),w,S))}return[]}(n.serverSyncTree_,d,w,a)}else{const w=Pn(e);p=DT(n.serverSyncTree_,d,w,a)}else if(i){const w=(0,F.UI)(e,S=>Pn(S));p=function fA(n,t,e){const i=Qt.fromObject(e);return zp(n,new Kc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,d,w)}else{const w=Pn(e);p=I_(n.serverSyncTree_,d,w)}let v=d;p.length>0&&(v=qp(n,d)),ms(n.eventQueue_,v,p)}function jT(n,t){II(n,"connected",t),!1===t&&function jA(n){Zp(n,"onDisconnectEvents");const t=N_(n),e=xp();Op(n.onDisconnect_,Ht(),(a,d)=>{const p=RT(a,d,n.serverSyncTree_,t);Cu(e,a,p)});let i=[];Op(e,Ht(),(a,d)=>{i=i.concat(I_(n.serverSyncTree_,a,d));const p=AI(n,a);qp(n,p)}),n.onDisconnect_=xp(),ms(n.eventQueue_,Ht(),i)}(n)}function II(n,t,e){const i=new Yt("/.info/"+t),a=Pn(e);n.infoData_.updateSnapshot(i,a);const d=I_(n.infoSyncTree_,i,a);ms(n.eventQueue_,i,d)}function NC(n){return n.nextWriteId_++}function DI(n,t,e,i,a){Zp(n,"set",{path:t.toString(),value:e,priority:i});const d=N_(n),p=Pn(e,i),v=TC(n.serverSyncTree_,t),w=_I(p,v,d),S=NC(n),x=cI(n.serverSyncTree_,t,w,S,!0);kC(n.eventQueue_,x),n.server_.put(t.toString(),p.val(!0),(J,ue)=>{const Ce="ok"===J;Ce||zr("set at "+t+" failed: "+J);const $e=ed(n.serverSyncTree_,S,!Ce);ms(n.eventQueue_,t,$e),td(0,a,J,ue)});const W=AI(n,t);qp(n,W),ms(n.eventQueue_,W,[])}function HA(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,a)=>{"ok"===i&&uC(n.onDisconnect_,t),td(0,e,i,a)})}function HT(n,t,e,i){const a=Pn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,p)=>{"ok"===d&&Cu(n.onDisconnect_,t,a),td(0,i,d,p)})}function TI(n,t,e){let i;i=".info"===kt(t._path)?DC(n.infoSyncTree_,t,e):DC(n.serverSyncTree_,t,e),FT(n.eventQueue_,t._path,i)}function $T(n){n.persistentConnection_&&n.persistentConnection_.interrupt(UT)}function Zp(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ir(e,...t)}function td(n,t,e,i){t&&Lc(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let d=a;i&&(d+=": "+i);const p=new Error(d);p.code=a,t(p)}})}function SI(n,t,e){return TC(n.serverSyncTree_,t,e)||ot.EMPTY_NODE}function PC(n,t=n.transactionQueueTree_){if(t||xC(n,t),kh(t)){const e=WT(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function qA(n,t,e){const i=e.map(S=>S.currentWriteId),a=SI(n,t,i);let d=a;const p=a.hash();for(let S=0;S<e.length;S++){const x=e[S];(0,F.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const W=ei(t,x.path);d=d.updateChild(W,x.currentOutputSnapshotRaw)}const v=d.val(!0),w=t;n.server_.put(w.toString(),v,S=>{Zp(n,"transaction put response",{path:w.toString(),status:S});let x=[];if("ok"===S){const W=[];for(let J=0;J<e.length;J++)e[J].status=2,x=x.concat(ed(n.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&W.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();xC(n,AC(n.transactionQueueTree_,t)),PC(n,n.transactionQueueTree_),ms(n.eventQueue_,t,x);for(let J=0;J<W.length;J++)Lc(W[J])}else{if("datastale"===S)for(let W=0;W<e.length;W++)e[W].status=3===e[W].status?4:0;else{zr("transaction at "+w.toString()+" failed: "+S);for(let W=0;W<e.length;W++)e[W].status=4,e[W].abortReason=S}qp(n,t)}},p)}(n,S_(t),e)}else kT(t)&&MC(t,e=>{PC(n,e)})}function qp(n,t){const e=GT(n,t),i=S_(e);return function KA(n,t,e){if(0===t.length)return;const i=[];let a=[];const p=t.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<t.length;v++){const w=t[v],S=ei(e,w.path);let W,x=!1;if((0,F.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)x=!0,W=w.abortReason,a=a.concat(ed(n.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)x=!0,W="maxretry",a=a.concat(ed(n.serverSyncTree_,w.currentWriteId,!0));else{const J=SI(n,w.path,p);w.currentInputSnapshot=J;const ue=t[v].update(J.val());if(void 0!==ue){M_("transaction failed: Data returned ",ue,w.path);let Ce=Pn(ue);"object"==typeof ue&&null!=ue&&(0,F.r3)(ue,".priority")||(Ce=Ce.updatePriority(J.getPriority()));const Ge=w.currentWriteId,$t=N_(n),Lt=_I(Ce,J,$t);w.currentOutputSnapshotRaw=Ce,w.currentOutputSnapshotResolved=Lt,w.currentWriteId=NC(n),p.splice(p.indexOf(Ge),1),a=a.concat(cI(n.serverSyncTree_,w.path,Lt,w.currentWriteId,w.applyLocally)),a=a.concat(ed(n.serverSyncTree_,Ge,!0))}else x=!0,W="nodata",a=a.concat(ed(n.serverSyncTree_,w.currentWriteId,!0))}ms(n.eventQueue_,e,a),a=[],x&&(t[v].status=2,setTimeout(t[v].unwatcher,Math.floor(0)),t[v].onComplete&&i.push("nodata"===W?()=>t[v].onComplete(null,!1,t[v].currentInputSnapshot):()=>t[v].onComplete(new Error(W),!1,null)))}xC(n,n.transactionQueueTree_);for(let v=0;v<i.length;v++)Lc(i[v]);PC(n,n.transactionQueueTree_)}(n,WT(n,e),i),i}function GT(n,t){let e,i=n.transactionQueueTree_;for(e=kt(t);null!==e&&void 0===kh(i);)i=AC(i,e),e=kt(t=ln(t));return i}function WT(n,t){const e=[];return zT(n,t,e),e.sort((i,a)=>i.order-a.order),e}function zT(n,t,e){const i=kh(t);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);MC(t,a=>{zT(n,a,e)})}function xC(n,t){const e=kh(t);if(e){let i=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[i]=e[a],i++);e.length=i,EI(t,e.length>0?e:void 0)}MC(t,i=>{xC(n,i)})}function AI(n,t){const e=S_(GT(n,t)),i=AC(n.transactionQueueTree_,t);return function TA(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,a=>{MI(n,a)}),MI(n,i),NT(i,a=>{MI(n,a)}),e}function MI(n,t){const e=kh(t);if(e){const i=[];let a=[],d=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,F.hu)(d===p-1,"All SENT items should be at beginning of queue."),d=p,e[p].status=3,e[p].abortReason="set"):((0,F.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),a=a.concat(ed(n.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&i.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===d?EI(t,void 0):e.length=d+1,ms(n.eventQueue_,S_(t),a);for(let p=0;p<i.length;p++)Lc(i[p])}}const RI=function(n,t){const e=JA(n),i=e.namespace;return"firebase.com"===e.domain&&Qs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Qs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&zr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ep(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Yt(e.pathString)}},JA=function(n){let t="",e="",i="",a="",d="",p=!0,v="https",w=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(v=n.substring(0,S-1),n=n.substring(S+2));let x=n.indexOf("/");-1===x&&(x=n.length);let W=n.indexOf("?");-1===W&&(W=n.length),t=n.substring(0,Math.min(x,W)),x<W&&(a=function YA(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(x,W)));const J=function QA(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):zr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,W)));S=t.indexOf(":"),S>=0?(p="https"===v||"wss"===v,w=parseInt(t.substring(S+1),10)):S=t.length;const ue=t.slice(0,S);if("localhost"===ue.toLowerCase())e="localhost";else if(ue.split(".").length<=2)e=ue;else{const Ce=t.indexOf(".");i=t.substring(0,Ce).toLowerCase(),e=t.substring(Ce+1),d=i}"ns"in J&&(d=J.ns)}return{host:t,port:w,domain:e,subdomain:i,secure:p,scheme:v,pathString:a,namespace:d}},ZT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",XA=function(){let n=0;const t=[];return function(e){const i=e===n;let a;n=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=ZT.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let p=d.join("");if(i){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)p+=ZT.charAt(t[a]);return(0,F.hu)(20===p.length,"nextPushId: Length should be 20."),p}}();class qT{constructor(t,e,i,a){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class KT{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class kI{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class YT{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return HA(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){eo("OnDisconnect.remove",this._path);const t=new F.BH;return HT(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){eo("OnDisconnect.set",this._path),nl("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return HT(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){eo("OnDisconnect.setWithPriority",this._path),nl("OnDisconnect.setWithPriority",t,this._path,!1),wI("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function $A(n,t,e,i,a){const d=Pn(e,i);n.server_.onDisconnectPut(t.toString(),d.val(!0),(p,v)=>{"ok"===p&&Cu(n.onDisconnect_,t,d),td(0,a,p,v)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){eo("OnDisconnect.update",this._path),xT("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function GA(n,t,e,i){if((0,F.xb)(e))return Ir("onDisconnect().update() called with empty data.  Don't do anything."),void td(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,d)=>{"ok"===a&&fr(e,(p,v)=>{const w=Pn(v);Cu(n.onDisconnect_,vn(t,p),w)}),td(0,i,a,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class zi{constructor(t,e,i,a){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return Dt(this._path)?null:a_(this._path)}get ref(){return new to(this._repo,this._path)}get _queryIdentifier(){const t=lC(this._queryParams),e=_p(t);return"{}"===e?"default":e}get _queryObject(){return lC(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof zi))return!1;const e=this._repo===t._repo,i=Sp(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ZE(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function OC(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function nd(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===ps){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ka)throw new Error(i);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Ho)throw new Error(i);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===hn){if(null!=t&&!A_(t)||null!=e&&!A_(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof hi||n.getIndex()===Th,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function FC(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class to extends zi{constructor(t,e){super(t,e,new kp,!1)}get parent(){const t=qE(this._path);return null===t?null:new to(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Nh{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Yt(t),i=Ph(this.ref,t);return new Nh(this._node.getChild(e),i,hn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>t(new Nh(a,Ph(this.ref,i),hn)))}hasChild(t){const e=new Yt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function QT(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?Ph(n._root,t):n._root}function JT(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=RI(t,n._repo.repoInfo_.nodeAdmin);OT("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Qs("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),QT(n,e.path.toString())}function Ph(n,t){return null===kt((n=(0,F.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),k_("child","path",e,!1)):k_("child","path",t,!1),new to(n._repo,vn(n._path,t));var e}function NI(n,t){n=(0,F.m9)(n),eo("set",n._path),nl("set",t,n._path,!1);const e=new F.BH;return DI(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function iM(n,t){xT("update",t,n._path,!1);const e=new F.BH;return function BA(n,t,e,i){Zp(n,"update",{path:t.toString(),value:e});let a=!0;const d=N_(n),p={};if(fr(e,(v,w)=>{a=!1,p[v]=RT(vn(t,v),Pn(w),n.serverSyncTree_,d)}),a)Ir("update() called with empty data.  Don't do anything."),td(0,i,"ok",void 0);else{const v=NC(n),w=function hA(n,t,e,i){!function mT(n,t,e,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Bp(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const a=Qt.fromObject(e);return zp(n,new Kc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,p,v);kC(n.eventQueue_,w),n.server_.merge(t.toString(),e,(S,x)=>{const W="ok"===S;W||zr("update at "+t+" failed: "+S);const J=ed(n.serverSyncTree_,v,!W),ue=J.length>0?qp(n,t):t;ms(n.eventQueue_,ue,J),td(0,i,S,x)}),fr(e,S=>{const x=AI(n,vn(t,S));qp(n,x)}),ms(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function sM(n){n=(0,F.m9)(n);const t=new kI(()=>{}),e=new P_(t);return function VA(n,t,e){const i=function _A(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(S,x)=>{const W=ei(S,e);i=i||Jc(x,W)});let a=n.syncPointTree_.get(e);a?i=i||Jc(a,Ht()):(a=new Me,n.syncPointTree_=n.syncPointTree_.set(e,a));const d=null!=i,p=d?new Ja(i,!0,!1):null;return function m(n){return y_(n.viewCache_)}(yt(a,t,v_(n.pendingWriteTree_,t._path),d?p.getNode():ot.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(a=>{const d=Pn(a).withIndex(t._queryParams.getIndex());let p;if(dI(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())p=I_(n.serverSyncTree_,t._path,d);else{const v=D_(n.serverSyncTree_,t);p=DT(n.serverSyncTree_,t._path,d,v)}return ms(n.eventQueue_,t._path,p),DC(n.serverSyncTree_,t,e,null,!0),d},a=>(Zp(n,"get for query "+(0,F.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(i=>new Nh(i,new to(n._repo,n._path),n._queryParams.getIndex()))}class P_{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new qT("value",this,new Nh(t.snapshotNode,new to(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new KT(this,t,e):null}matches(t){return t instanceof P_&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class LC{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new KT(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const i=Ph(new to(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new qT(t.type,this,new Nh(t.snapshotNode,i,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof LC&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function x_(n,t,e,i,a){let d;if("object"==typeof i&&(d=void 0,a=i),"function"==typeof i&&(d=i),a&&a.onlyOnce){const w=e,S=(x,W)=>{TI(n._repo,n,v),w(x,W)};S.userCallback=e.userCallback,S.context=e.context,e=S}const p=new kI(e,d||void 0),v="value"===t?new P_(p):new LC(t,p);return function WA(n,t,e){let i;i=".info"===kt(t._path)?dI(n.infoSyncTree_,t,e):dI(n.serverSyncTree_,t,e),FT(n.eventQueue_,t._path,i)}(n._repo,n,v),()=>TI(n._repo,n,v)}function PI(n,t,e,i){return x_(n,"value",t,e,i)}function XT(n,t,e,i){return x_(n,"child_added",t,e,i)}function eS(n,t,e,i){return x_(n,"child_changed",t,e,i)}function tS(n,t,e,i){return x_(n,"child_moved",t,e,i)}function nS(n,t,e,i){return x_(n,"child_removed",t,e,i)}function rS(n,t,e){let i=null;const a=e?new kI(e):null;"value"===t?i=new P_(a):t&&(i=new LC(t,a)),TI(n._repo,n,i)}class Zo{}class iS extends Zo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){nl("endAt",this._value,t._path,!0);const e=Sh(t._queryParams,this._value,this._key);if(FC(e),nd(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zi(t._repo,t._path,e,t._orderByCalled)}}class aM extends Zo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){nl("endBefore",this._value,t._path,!1);const e=function Wo(n,t,e){let i;return i=Sh(n,t,n.index_===ps||e?e:Ka),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(FC(e),nd(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zi(t._repo,t._path,e,t._orderByCalled)}}class sS extends Zo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){nl("startAt",this._value,t._path,!0);const e=Xs(t._queryParams,this._value,this._key);if(FC(e),nd(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new zi(t._repo,t._path,e,t._orderByCalled)}}class cM extends Zo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){nl("startAfter",this._value,t._path,!1);const e=function aC(n,t,e){let i;return i=Xs(n,t,n.index_===ps||e?e:Ho),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(FC(e),nd(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new zi(t._repo,t._path,e,t._orderByCalled)}}class hM extends Zo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new zi(t._repo,t._path,function B0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class pM extends Zo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new zi(t._repo,t._path,function m_(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class mM extends Zo{constructor(t){super(),this._path=t}_apply(t){OC(t,"orderByChild");const e=new Yt(this._path);if(Dt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new hi(e),a=Np(t._queryParams,i);return nd(a),new zi(t._repo,t._path,a,!0)}}class yM extends Zo{_apply(t){OC(t,"orderByKey");const e=Np(t._queryParams,ps);return nd(e),new zi(t._repo,t._path,e,!0)}}class EM extends Zo{_apply(t){OC(t,"orderByPriority");const e=Np(t._queryParams,hn);return nd(e),new zi(t._repo,t._path,e,!0)}}class bM extends Zo{_apply(t){OC(t,"orderByValue");const e=Np(t._queryParams,Th);return nd(e),new zi(t._repo,t._path,e,!0)}}class IM extends Zo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(nl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new iS(this._value,this._key)._apply(new sS(this._value,this._key)._apply(t))}}function qo(n,...t){let e=(0,F.m9)(n);for(const i of t)e=i._apply(e);return e}(function Oe(n){(0,F.hu)(!de,"__referenceConstructor has already been defined"),de=n})(to),function uA(n){(0,F.hu)(!IC,"__referenceConstructor has already been defined"),IC=n}(to);const xI={};function aS(n,t,e,i,a){let d=i||n.options.databaseURL;void 0===d&&(n.options.projectId||Qs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ir("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let w,S,p=RI(d,a),v=p.repoInfo;typeof process<"u"&&process.env&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(w=!0,d=`http://${S}?ns=${v.namespace}`,p=RI(d,a),v=p.repoInfo):w=!p.repoInfo.secure;const x=a&&w?new di(di.OWNER):new zm(n.name,n.options,t);OT("Invalid Firebase Database URL",p),Dt(p.path)||Qs("Database URL must point to the root of a Firebase Database (not including a child path).");const W=function MM(n,t,e,i){let a=xI[t.name];a||(a={},xI[t.name]=a);let d=a[n.toURLString()];return d&&Qs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new FA(n,false,e,i),a[n.toURLString()]=d,d}(v,n,x,new v0(n.name,e));return new kM(W,n)}class kM{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function LA(n,t,e){if(n.stats_=bh(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Pp(n.repoInfo_,(i,a,d,p)=>{BT(n,i,a,d,p)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>jT(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Hc(n.repoInfo_,t,(i,a,d,p)=>{BT(n,i,a,d,p)},i=>{jT(n,i)},i=>{!function UA(n,t){fr(t,(e,i)=>{II(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Jm(n,t){const e=n.toString();return Cp[e]||(Cp[e]=t()),Cp[e]}(n.repoInfo_,()=>new hC(n.stats_,n.server_)),n.infoData_=new H0,n.infoSyncTree_=new IT({startListening:(i,a,d,p)=>{let v=[];const w=n.infoData_.getNode(i._path);return w.isEmpty()||(v=I_(n.infoSyncTree_,i._path,w),setTimeout(()=>{p("ok")},0)),v},stopListening:()=>{}}),II(n,"connected",!1),n.serverSyncTree_=new IT({startListening:(i,a,d,p)=>(n.server_.listen(i,d,a,(v,w)=>{const S=p(v,w);ms(n.eventQueue_,i._path,S)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new to(this._repo,Ht())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function AM(n,t){const e=xI[t];(!e||e[n.key]!==n)&&Qs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),$T(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Qs("Cannot call "+t+" on a deleted database.")}}function lS(){Bc.IS_TRANSPORT_INITIALIZED&&zr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function NM(){lS(),Ya.forceDisallow()}function PM(){lS(),fu.forceDisallow(),Ya.forceAllow()}function FM(n,t){c0(n,t)}const UM={".sv":"timestamp"};class jM{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Hc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Hc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function LM(n){Bm(fs.SDK_VERSION),(0,fs._registerComponent)(new Bo.wA("database",(t,{instanceIdentifier:e})=>aS(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,fs.registerVersion)(Vm,"0.14.0",n),(0,fs.registerVersion)(Vm,"0.14.0","esm2017")}();const WM=new ep.Yd("@firebase/database-compat"),cS=function(n){WM.warn("FIREBASE WARNING: "+n)};class qM{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(t,e);return i&&a.then(()=>i(null),d=>i(d)),a}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,cS("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),a=>e(a)),i}}class KM{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class rd{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),k_("DataSnapshot.child","path",t,!1),new rd(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),k_("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new rd(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new _s(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ti{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,a){var d;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const p=ti.getCancelAndContextArgs_("Query.on",i,a),v=(S,x)=>{e.call(p.context,new rd(this.database,S),x)};v.userCallback=e,v.context=p.context;const w=null===(d=p.cancel)||void 0===d?void 0:d.bind(p.context);switch(t){case"value":return PI(this._delegate,v,w),e;case"child_added":return XT(this._delegate,v,w),e;case"child_removed":return nS(this._delegate,v,w),e;case"child_changed":return eS(this._delegate,v,w),e;case"child_moved":return tS(this._delegate,v,w),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const a=()=>{};a.userCallback=e,a.context=i,rS(this._delegate,t,a)}else rS(this._delegate,t)}get(){return sM(this._delegate).then(t=>new rd(this.database,t))}once(t,e,i,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const d=ti.getCancelAndContextArgs_("Query.once",i,a),p=new F.BH,v=(S,x)=>{const W=new rd(this.database,S);e&&e.call(d.context,W,x),p.resolve(W)};v.userCallback=e,v.context=d.context;const w=S=>{d.cancel&&d.cancel.call(d.context,S),p.reject(S)};switch(t){case"value":PI(this._delegate,v,w,{onlyOnce:!0});break;case"child_added":XT(this._delegate,v,w,{onlyOnce:!0});break;case"child_removed":nS(this._delegate,v,w,{onlyOnce:!0});break;case"child_changed":eS(this._delegate,v,w,{onlyOnce:!0});break;case"child_moved":tS(this._delegate,v,w,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new ti(this.database,qo(this._delegate,function fM(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new hM(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new ti(this.database,qo(this._delegate,function gM(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pM(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new ti(this.database,qo(this._delegate,function _M(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return k_("orderByChild","path",n,!1),new mM(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new ti(this.database,qo(this._delegate,function vM(){return new yM}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new ti(this.database,qo(this._delegate,function CM(){return new EM}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new ti(this.database,qo(this._delegate,function wM(){return new bM}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new ti(this.database,qo(this._delegate,function uM(n=null,t){return R_("startAt","key",t,!0),new sS(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new ti(this.database,qo(this._delegate,function dM(n,t){return R_("startAfter","key",t,!0),new cM(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new ti(this.database,qo(this._delegate,function oM(n,t){return R_("endAt","key",t,!0),new iS(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new ti(this.database,qo(this._delegate,function lM(n,t){return R_("endBefore","key",t,!0),new aM(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new ti(this.database,qo(this._delegate,function DM(n,t){return R_("equalTo","key",t,!0),new IM(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ti))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const a={cancel:void 0,context:void 0};if(e&&i)a.cancel=e,(0,F.Wj)(t,"cancel",a.cancel,!0),a.context=i,(0,F.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new _s(this.database,new to(this._delegate._repo,this._delegate._path))}}class _s extends ti{constructor(t,e){super(t,new zi(e._repo,e._path,new kp,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new _s(this.database,Ph(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new _s(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new _s(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=NI(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,cS("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}eo("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=iM(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function rM(n,t,e){if(eo("setWithPriority",n._path),nl("setWithPriority",t,n._path,!1),wI("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return DI(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&a.then(()=>i(null),d=>i(d)),a}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function tM(n){return eo("remove",n._path),NI(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function HM(n,t,e){var i;if(n=(0,F.m9)(n),eo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(i=e?.applyLocally)||void 0===i||i,d=new F.BH,v=PI(n,()=>{});return function ZA(n,t,e,i,a,d){Zp(n,"transaction on "+t);const p={path:t,update:e,onComplete:i,status:null,order:Hm(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=SI(n,t,void 0);p.currentInputSnapshot=v;const w=p.update(v.val());if(void 0===w)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{M_("transaction failed: Data returned ",w,p.path),p.status=0;const S=AC(n.transactionQueueTree_,t),x=kh(S)||[];let W;x.push(p),EI(S,x),"object"==typeof w&&null!==w&&(0,F.r3)(w,".priority")?(W=(0,F.DV)(w,".priority"),(0,F.hu)(A_(W),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):W=(TC(n.serverSyncTree_,t)||ot.EMPTY_NODE).getPriority().val();const J=N_(n),ue=Pn(w,W),Ce=_I(ue,v,J);p.currentOutputSnapshotRaw=ue,p.currentOutputSnapshotResolved=Ce,p.currentWriteId=NC(n);const $e=cI(n.serverSyncTree_,t,Ce,p.currentWriteId,p.applyLocally);ms(n.eventQueue_,t,$e),PC(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(w,S,x)=>{let W=null;w?d.reject(w):(W=new Nh(x,new to(n._repo,n._path),hn),d.resolve(new jM(S,W)))},v,a),d.promise}(this._delegate,t,{applyLocally:i}).then(d=>new KM(d.committed,new rd(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function nM(n,t){n=(0,F.m9)(n),eo("setPriority",n._path),wI("setPriority",t,!1);const e=new F.BH;return DI(n._repo,vn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function eM(n,t){n=(0,F.m9)(n),eo("push",n._path),nl("push",t,n._path,!0);const e=VT(n._repo),i=XA(e),a=Ph(n,i),d=Ph(n,i);let p;return p=null!=t?NI(d,t).then(()=>d):Promise.resolve(d),a.then=p.then.bind(p),a.catch=p.then.bind(p,void 0),a}(this._delegate,t),a=i.then(p=>new _s(this.database,p));e&&a.then(()=>e(null),p=>e(p));const d=new _s(this.database,i);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return eo("Reference.onDisconnect",this._delegate._path),new qM(new YT(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class O_{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:NM,forceLongPolling:PM}}useEmulator(t,e,i={}){!function uS(n,t,e,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Qs("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let d;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Qs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new di(di.OWNER);else if(i.mockUserToken){const p="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);d=new di(p)}!function SM(n,t,e,i){n.repoInfo_=new Ep(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(a,t,e,d)}(this._delegate,t,e,i)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof _s){const e=JT(this._delegate,t.toString());return new _s(this,e)}{const e=QT(this._delegate,t);return new _s(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=JT(this._delegate,t);return new _s(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function xM(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),$T(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function OM(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function zA(n){n.persistentConnection_&&n.persistentConnection_.resume(UT)}(n._repo)}(this._delegate)}}O_.ServerValue={TIMESTAMP:function VM(){return UM}(),increment:n=>function BM(n){return{".sv":{increment:n}}}(n)};var QM=Object.freeze({__proto__:null,initStandalone:function YM({app:n,url:t,version:e,customAuthImpl:i,namespace:a,nodeAdmin:d=!1}){Bm(e);const p=new Bo.zt("auth-internal",new Bo.H0("database-standalone"));return p.setComponent(new Bo.wA("auth-internal",()=>i,"PRIVATE")),{instance:new O_(aS(n,p,void 0,t,d),n),namespace:a}}});const JM=O_.ServerValue;function dS(n){return null==n}function hS(n){return"function"==typeof n.set}function fS(n,t){return hS(t)?t:n.ref(t)}function pS(n,t){if(function eR(n){return"string"==typeof n}(n))return t.stringCase();if(hS(n))return t.firebaseCase();if(function tR(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function F_(n,t,e="on",i=yE.z){return new M.y(a=>{let d=null;return d=n[e](t,(p,v)=>{i.schedule(()=>{a.next({snapshot:p,prevKey:v})}),"once"===e&&i.schedule(()=>a.complete())},p=>{i.schedule(()=>a.error(p))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,Xe.U)(a=>{const{snapshot:d,prevKey:p}=a;let v=null;return d.exists()&&(v=d.key),{type:t,payload:d,prevKey:p,key:v}}),(0,Lm.B)())}function gS(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function iR(n,t){const{payload:e,prevKey:i,key:a}=t,d=gS(n,a),p=function rR(n,t){if(dS(t))return 0;{const e=gS(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let v=null;t.payload.forEach(w=>{const S={payload:w,type:"value",prevKey:v,key:w.key};return v=w.key,n=[...n,S],!1})}return n;case"child_added":if(d>-1){const v=n[d-1];(v&&v.key||null)!==i&&(n=n.filter(w=>w.payload.key!==e.key)).splice(p,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(p,0,t)}return n;case"child_removed":return n.filter(v=>v.payload.key!==e.key);case"child_changed":return n.map(v=>v.payload.key===a?t:v);case"child_moved":if(d>-1){const v=n.splice(d,1)[0];return(n=n.slice()).splice(p,0,v),n}return n;default:return n}}function mS(n){return(dS(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function _S(n,t,e){return function nR(n,t,e){return F_(n,"value","once",e).pipe(an(i=>{const a=[(0,xe.of)(i)];return t.forEach(d=>a.push(F_(n,d,"on",e))),(0,Kf.T)(...a).pipe(Ta(iR,[]))}),function o0(n,t){return e=>e.lift(new vE(n,t))}())}(n,t=mS(t),e)}function yS(n,t,e){const i=(t=mS(t)).map(a=>F_(n,a,"on",e));return(0,Kf.T)(...i)}function vS(n,t){return function(i,a){return pS(i,{stringCase:()=>n.child(i)[t](a),firebaseCase:()=>i[t](a),snapshotCase:()=>i.ref[t](a)})}}function lR(n){return function(e){return e?pS(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function ES(n,t){return function(){return F_(n,"value","on",t)}}!function XM(n){n.INTERNAL.registerComponent(new Bo.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new O_(a,i)},"PUBLIC").setServiceProps({Reference:_s,Query:ti,Database:O_,DataSnapshot:rd,enableLogging:FM,INTERNAL:QM,ServerValue:JM}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.0")}(wE.Z);const dR=new u.OlP("angularfire2.realtimeDatabaseURL"),hR=new u.OlP("angularfire2.database.use-emulator");let Kp=(()=>{class n{constructor(e,i,a,d,p,v,w,S,x,W,J,ue,Ce,$e,Ge){this.schedulers=v;const $t=w,Lt=(0,Wr.on)(e,p,i);S&&Fm(Lt,p,x,J,ue,Ce,W,$e),this.database=(0,Wr.cc)(`${Lt.name}.database.${a}`,"AngularFireDatabase",Lt.name,()=>{const Gt=p.runOutsideAngular(()=>Lt.database(a||void 0));return $t&&Gt.useEmulator(...$t),Gt},[$t])}list(e,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>fS(this.database,e));let d=a;return i&&(d=i(a)),function uR(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:vS(i,"update"),set:vS(i,"set"),push:a=>i.push(a),remove:lR(i),snapshotChanges:a=>_S(n,a,e).pipe(ir.iC),stateChanges:a=>yS(n,a,e).pipe(ir.iC),auditTrail:a=>function sR(n,t,e){return function aR(n,t,e){return function oR(n,t){return F_(n,"value","on",t).pipe((0,Xe.U)(e=>{let i;return e.payload.forEach(a=>(i=a.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function EE(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new a0(n,e))}}(t),(0,Xe.U)(([a,d])=>{const p=a.lastKeyToLoad,v=d.map(w=>w.key);return{actions:d,lastKeyToLoad:p,loadedKeys:v}}),function CE(n){return t=>t.lift(new Um(n))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Xe.U)(a=>a.actions))}(n,yS(n,t).pipe(Ta((a,d)=>[...a,d],[])),e)}(n,a,e).pipe(ir.iC),valueChanges:(a,d)=>_S(n,a,e).pipe((0,Xe.U)(v=>v.map(w=>d&&d.idField?Object.assign(Object.assign({},w.payload.val()),{[d.idField]:w.key}):w.payload.val())),ir.iC)}}(d,this)}object(e){return function cR(n,t){return{query:n,snapshotChanges:()=>ES(n,t.schedulers.outsideAngular)().pipe(ir.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>ES(n,t.schedulers.outsideAngular)().pipe(ir.iC,(0,Xe.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>fS(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Wr.Dh),u.LFG(Wr.xv,8),u.LFG(dR,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ir.HU),u.LFG(hR,8),u.LFG(jo,8),u.LFG(Om,8),u.LFG(gE,8),u.LFG(mE,8),u.LFG(_E,8),u.LFG(hp,8),u.LFG(fp,8),u.LFG(dp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fR=(()=>{class n{constructor(){xm.Z.registerVersion("angularfire",ir.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Kp]}),n})();class gR{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new mR(t,this.dueTime,this.scheduler))}}class mR extends er.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_R,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function _R(n){n.debouncedNext()}const CS="firebasestorage.googleapis.com",bS="storageBucket";class Gn extends F.ZR{constructor(t,e,i=0){super(OI(t),`Firebase Storage: ${e} (${OI(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return OI(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function OI(n){return"storage/"+n}function FI(){return new Gn("unknown","An unknown error occurred, please check the error payload for server response.")}function wS(){return new Gn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function IS(){return new Gn("canceled","User canceled the upload/download.")}function DS(){return new Gn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Yp(n){return new Gn("invalid-argument",n)}function TS(){return new Gn("app-deleted","The Firebase app was deleted.")}function SS(n){return new Gn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function L_(n,t){return new Gn("invalid-format","String does not match format '"+n+"': "+t)}function U_(n){throw new Gn("internal-error","Internal error: "+n)}class fi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=fi.makeFromUrl(t,e)}catch{return new fi(t,"")}if(""===i.path)return i;throw function SR(n){return new Gn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const a="([A-Za-z0-9.\\-_]+)",v=new RegExp("^gs://"+a+"(/(.*))?$","i");function S(Tt){Tt.path_=decodeURIComponent(Tt.path)}const W=e.replace(/[.]/g,"\\."),Gt=[{regex:v,indices:{bucket:1,path:3},postModify:function d(Tt){"/"===Tt.path.charAt(Tt.path.length-1)&&(Tt.path_=Tt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${W}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${e===CS?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let Tt=0;Tt<Gt.length;Tt++){const Pr=Gt[Tt],Zi=Pr.regex.exec(t);if(Zi){let Q_=Zi[Pr.indices.path];Q_||(Q_=""),i=new fi(Zi[Pr.indices.bucket],Q_),Pr.postModify(i);break}}if(null==i)throw function TR(n){return new Gn("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class NR{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function UC(n){return"string"==typeof n||n instanceof String}function AS(n){return LI()&&n instanceof Blob}function LI(){return typeof Blob<"u"&&!(0,F.UG)()}function UI(n,t,e,i){if(i<t)throw Yp(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Yp(`Invalid value for '${n}'. Expected ${e} or less.`)}function Iu(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function MS(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var id=(()=>{return(n=id||(id={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",id;var n})();function RS(n,t){const e=n>=500&&n<600,a=-1!==[408,429].indexOf(n),d=-1!==t.indexOf(n);return e||a||d}class UR{constructor(t,e,i,a,d,p,v,w,S,x,W,J=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=a,this.successCodes_=d,this.additionalRetryCodes_=p,this.callback_=v,this.errorCallback_=w,this.timeout_=S,this.progressCallback_=x,this.connectionFactory_=W,this.retry=J,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ue,Ce)=>{this.resolve_=ue,this.reject_=Ce,this.start_()})}start_(){const e=(i,a)=>{const d=this.resolve_,p=this.reject_,v=a.connection;if(a.wasSuccessCode)try{const w=this.callback_(v,v.getResponse());!function OR(n){return void 0!==n}(w)?d():d(w)}catch(w){p(w)}else if(null!==v){const w=FI();w.serverResponse=v.getErrorText(),p(this.errorCallback_?this.errorCallback_(v,w):w)}else p(a.canceled?this.appDelete_?TS():IS():wS())};this.canceled_?e(0,new VC(!1,null,!0)):this.backoffId_=function PR(n,t,e){let i=1,a=null,d=null,p=!1,v=0;function w(){return 2===v}let S=!1;function x(...Ge){S||(S=!0,t.apply(null,Ge))}function W(Ge){a=setTimeout(()=>{a=null,n(ue,w())},Ge)}function J(){d&&clearTimeout(d)}function ue(Ge,...$t){if(S)return void J();if(Ge)return J(),void x.call(null,Ge,...$t);if(w()||p)return J(),void x.call(null,Ge,...$t);let Gt;i<64&&(i*=2),1===v?(v=2,Gt=0):Gt=1e3*(i+Math.random()),W(Gt)}let Ce=!1;function $e(Ge){Ce||(Ce=!0,J(),!S&&(null!==a?(Ge||(v=2),clearTimeout(a),W(0)):Ge||(v=1)))}return W(0),d=setTimeout(()=>{p=!0,$e(!0)},e),$e}((i,a)=>{if(a)return void i(!1,new VC(!1,null,!0));const d=this.connectionFactory_();this.pendingConnection_=d;const p=v=>{null!==this.progressCallback_&&this.progressCallback_(v.loaded,v.lengthComputable?v.total:-1)};null!==this.progressCallback_&&d.addUploadProgressListener(p),d.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&d.removeUploadProgressListener(p),this.pendingConnection_=null;const v=d.getErrorCode()===id.NO_ERROR,w=d.getStatus();if((!v||RS(w,this.additionalRetryCodes_))&&this.retry){const x=d.getErrorCode()===id.ABORT;return void i(!1,new VC(!1,null,x))}const S=-1!==this.successCodes_.indexOf(w);i(!0,new VC(S,d))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function xR(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class VC{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function WR(...n){const t=function GR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(LI())return new Blob(n);throw new Gn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ys={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VI{constructor(t,e){this.data=t,this.contentType=e||null}}function BI(n,t){switch(n){case ys.RAW:return new VI(kS(t));case ys.BASE64:case ys.BASE64URL:return new VI(NS(n,t));case ys.DATA_URL:return new VI(function KR(n){const t=new PS(n);return t.base64?NS(ys.BASE64,t.rest):function qR(n){let t;try{t=decodeURIComponent(n)}catch{throw L_(ys.DATA_URL,"Malformed data URL.")}return kS(t)}(t.rest)}(t),function YR(n){return new PS(n).contentType}(t))}throw FI()}function kS(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function NS(n,t){switch(n){case ys.BASE64:{const a=-1!==t.indexOf("-"),d=-1!==t.indexOf("_");if(a||d)throw L_(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ys.BASE64URL:{const a=-1!==t.indexOf("+"),d=-1!==t.indexOf("/");if(a||d)throw L_(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function ZR(n){if(typeof atob>"u")throw function kR(n){return new Gn("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(a){throw a.message.includes("polyfill")?a:L_(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}class PS{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw L_(ys.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function QR(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class rl{constructor(t,e){let i=0,a="";AS(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(AS(this.data_)){const a=function zR(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===a?null:new rl(a)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new rl(i,!0)}}static getBlob(...t){if(LI()){const e=t.map(i=>i instanceof rl?i.data_:i);return new rl(WR.apply(null,e))}{const e=t.map(p=>UC(p)?BI(ys.RAW,p).data:p.data_);let i=0;e.forEach(p=>{i+=p.byteLength});const a=new Uint8Array(i);let d=0;return e.forEach(p=>{for(let v=0;v<p.length;v++)a[d++]=p[v]}),new rl(a,!0)}}uploadData(){return this.data_}}function jI(n){let t;try{t=JSON.parse(n)}catch{return null}return function LR(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function xS(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function ek(n,t){return t}class Ai{constructor(t,e,i,a){this.server=t,this.local=e||t,this.writable=!!i,this.xform=a||ek}}let BC=null;function V_(){if(BC)return BC;const n=[];n.push(new Ai("bucket")),n.push(new Ai("generation")),n.push(new Ai("metageneration")),n.push(new Ai("name","fullPath",!0));const e=new Ai("name");e.xform=function t(d,p){return function tk(n){return!UC(n)||n.length<2?n:xS(n)}(p)},n.push(e);const a=new Ai("size");return a.xform=function i(d,p){return void 0!==p?Number(p):p},n.push(a),n.push(new Ai("timeCreated")),n.push(new Ai("updated")),n.push(new Ai("md5Hash",null,!0)),n.push(new Ai("cacheControl",null,!0)),n.push(new Ai("contentDisposition",null,!0)),n.push(new Ai("contentEncoding",null,!0)),n.push(new Ai("contentLanguage",null,!0)),n.push(new Ai("contentType",null,!0)),n.push(new Ai("metadata","customMetadata",!0)),BC=n,BC}function OS(n,t,e){const i=jI(t);return null===i?null:function rk(n,t,e){const i={type:"file"},a=e.length;for(let d=0;d<a;d++){const p=e[d];i[p.local]=p.xform(i,t[p.server])}return function nk(n,t){Object.defineProperty(n,"ref",{get:function e(){const d=new fi(n.bucket,n.fullPath);return t._makeStorageReference(d)}})}(i,n),i}(n,i,e)}function HI(n,t){const e={},i=t.length;for(let a=0;a<i;a++){const d=t[a];d.writable&&(e[d.server]=n[d.local])}return JSON.stringify(e)}const FS="prefixes";class il{constructor(t,e,i,a){this.url=t,this.method=e,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function sl(n){if(!n)throw FI()}function jC(n,t){return function e(i,a){const d=OS(n,a,t);return sl(null!==d),d}}function Qp(n){return function t(e,i){let a;return a=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function IR(){return new Gn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function wR(){return new Gn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function bR(n){return new Gn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function DR(n){return new Gn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,a.status=e.getStatus(),a.serverResponse=i.serverResponse,a}}function B_(n){const t=Qp(n);return function e(i,a){let d=t(i,a);return 404===i.getStatus()&&(d=function CR(n){return new Gn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),d.serverResponse=a.serverResponse,d}}function US(n,t,e){const a=Iu(t.fullServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,v=new il(a,"GET",jC(n,e),p);return v.errorHandler=B_(t),v}function uk(n,t,e,i,a){const d={};d.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(d.delimiter=e),i&&(d.pageToken=i),a&&(d.maxResults=a);const v=Iu(t.bucketOnlyServerUrl(),n.host,n._protocol),S=n.maxOperationRetryTime,x=new il(v,"GET",function ak(n,t){return function e(i,a){const d=function ok(n,t,e){const i=jI(e);return null===i?null:function sk(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[FS])for(const a of e[FS]){const d=a.replace(/\/$/,""),p=n._makeStorageReference(new fi(t,d));i.prefixes.push(p)}if(e.items)for(const a of e.items){const d=n._makeStorageReference(new fi(t,a.name));i.items.push(d)}return i}(n,t,i)}(n,t,a);return sl(null!==d),d}}(n,t.bucket),S);return x.urlParams=d,x.errorHandler=Qp(t),x}function BS(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function fk(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class HC{constructor(t,e,i,a){this.current=t,this.total=e,this.finalized=!!i,this.metadata=a||null}}function $I(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{sl(!1)}return sl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const _k={STATE_CHANGED:"state_changed"},Mi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function GI(n){switch(n){case"running":case"pausing":case"canceling":return Mi.RUNNING;case"paused":return Mi.PAUSED;case"success":return Mi.SUCCESS;case"canceled":return Mi.CANCELED;default:return Mi.ERROR}}class yk{constructor(t,e,i){if(function FR(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const d=t;this.next=d.next,this.error=d.error,this.complete=d.complete}}}function Jp(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class vk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=id.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=id.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=id.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,a){if(this.sent_)throw U_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==a)for(const d in a)a.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,a[d].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw U_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw U_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw U_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw U_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class Ek extends vk{initXhr(){this.xhr_.responseType="text"}}function Ko(){return new Ek}class GS{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=V_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const d=this.isExponentialBackoffExpired();if(RS(a.status,[])){if(!d)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();a=wS()}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,d)=>{this._resolve=a,this._reject=d,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function pk(n,t,e,i,a){const d=t.bucketOnlyServerUrl(),p=BS(t,i,a),v={name:p.fullPath},w=Iu(d,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":p.contentType,"Content-Type":"application/json; charset=utf-8"},W=HI(p,e),Ce=new il(w,"POST",function ue($e){let Ge;$I($e);try{Ge=$e.getResponseHeader("X-Goog-Upload-URL")}catch{sl(!1)}return sl(UC(Ge)),Ge},n.maxUploadRetryTime);return Ce.urlParams=v,Ce.headers=x,Ce.body=W,Ce.errorHandler=Qp(t),Ce}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Ko,t,e);this._request=a,a.getPromise().then(d=>{this._request=void 0,this._uploadUrl=d,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const a=function gk(n,t,e,i){const w=new il(e,"POST",function d(S){const x=$I(S,["active","final"]);let W=null;try{W=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch{sl(!1)}W||sl(!1);const J=Number(W);return sl(!isNaN(J)),new HC(J,i.size(),"final"===x)},n.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=Qp(t),w}(this._ref.storage,this._ref._location,t,this._blob),d=this._ref.storage._makeRequest(a,Ko,e,i);this._request=d,d.getPromise().then(p=>{this._request=void 0,this._updateProgress(p.current),this._needToFetchStatus=!1,p.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new HC(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,d)=>{let p;try{p=function mk(n,t,e,i,a,d,p,v){const w=new HC(0,0);if(p?(w.current=p.current,w.total=p.total):(w.current=0,w.total=i.size()),i.size()!==w.total)throw function MR(){return new Gn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const S=w.total-w.current;let x=S;a>0&&(x=Math.min(x,a));const W=w.current;let ue="";ue=0===x?"finalize":S===x?"upload, finalize":"upload";const Ce={"X-Goog-Upload-Command":ue,"X-Goog-Upload-Offset":`${w.current}`},$e=i.slice(W,W+x);if(null===$e)throw DS();const Gt=new il(e,"POST",function Ge(Tt,Pr){const Zi=$I(Tt,["active","final"]),ZI=w.current+x,Q_=i.size();let qI;return qI="final"===Zi?jC(t,d)(Tt,Pr):null,new HC(ZI,Q_,"final"===Zi,qI)},t.maxUploadRetryTime);return Gt.headers=Ce,Gt.body=$e.uploadData(),Gt.progressCallback=v||null,Gt.errorHandler=Qp(n),Gt}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const v=this._ref.storage._makeRequest(p,Ko,a,d,!1);this._request=v,v.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=US(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Ko,t,e);this._request=a,a.getPromise().then(d=>{this._request=void 0,this._metadata=d,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function jS(n,t,e,i,a){const d=t.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"},w=function v(){let Gt="";for(let Tt=0;Tt<2;Tt++)Gt+=Math.random().toString().slice(2);return Gt}();p["Content-Type"]="multipart/related; boundary="+w;const S=BS(t,i,a),x=HI(S,e),ue=rl.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+w+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",i,"\r\n--"+w+"--");if(null===ue)throw DS();const Ce={name:S.fullPath},$e=Iu(d,n.host,n._protocol),$t=n.maxUploadRetryTime,Lt=new il($e,"POST",jC(n,e),$t);return Lt.urlParams=Ce,Lt.headers=p,Lt.body=ue.uploadData(),Lt.errorHandler=Qp(t),Lt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Ko,t,e);this._request=a,a.getPromise().then(d=>{this._request=void 0,this._metadata=d,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=IS(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=GI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,a){const d=new yk(e||void 0,i||void 0,a||void 0);return this._addObserver(d),()=>{this._removeObserver(d)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(GI(this._state)){case Mi.SUCCESS:Jp(this._resolve.bind(null,this.snapshot))();break;case Mi.CANCELED:case Mi.ERROR:Jp(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(GI(this._state)){case Mi.RUNNING:case Mi.PAUSED:t.next&&Jp(t.next.bind(t,this.snapshot))();break;case Mi.SUCCESS:t.complete&&Jp(t.complete.bind(t))();break;default:t.error&&Jp(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class xh{constructor(t,e){this._service=t,this._location=e instanceof fi?e:fi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new xh(t,e)}get root(){const t=new fi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xS(this._location.path)}get storage(){return this._service}get parent(){const t=function JR(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new fi(this._location.bucket,t);return new xh(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw SS(t)}}function zS(n,t,e){return WI.apply(this,arguments)}function WI(){return(WI=(0,Di.Z)(function*(n,t,e){const a=yield ZS(n,{pageToken:e});t.prefixes.push(...a.prefixes),t.items.push(...a.items),null!=a.nextPageToken&&(yield zS(n,t,a.nextPageToken))})).apply(this,arguments)}function ZS(n,t){null!=t&&"number"==typeof t.maxResults&&UI("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=uk(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Ko)}function Nk(n){n._throwIfRoot("getDownloadURL");const t=function ck(n,t,e){const a=Iu(t.fullServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,v=new il(a,"GET",function lk(n,t){return function e(i,a){const d=OS(n,a,t);return sl(null!==d),function ik(n,t,e,i){const a=jI(t);if(null===a||!UC(a.downloadTokens))return null;const d=a.downloadTokens;if(0===d.length)return null;const p=encodeURIComponent;return d.split(",").map(S=>{const W=n.fullPath;return Iu("/b/"+p(n.bucket)+"/o/"+p(W),e,i)+MS({alt:"media",token:S})})[0]}(d,a,n.host,n._protocol)}}(n,e),p);return v.errorHandler=B_(t),v}(n.storage,n._location,V_());return n.storage.makeRequestWithTokens(t,Ko).then(e=>{if(null===e)throw function RR(){return new Gn("no-download-url","The given file does not have any download URLs.")}();return e})}function qS(n,t){const e=function XR(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new fi(n._location.bucket,e);return new xh(n.storage,i)}function KS(n,t){if(n instanceof zI){const e=n;if(null==e._bucket)throw function AR(){return new Gn("no-default-bucket","No default bucket found. Did you set the '"+bS+"' property when initializing the app?")}();const i=new xh(e,e._bucket);return null!=t?KS(i,t):i}return void 0!==t?qS(n,t):n}function Fk(n,t){if(t&&function xk(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof zI)return function Ok(n,t){return new xh(n,t)}(n,t);throw Yp("To use ref(service, url), the first argument must be a Storage instance.")}return KS(n,t)}function YS(n,t){const e=t?.[bS];return null==e?null:fi.makeFromBucketSpec(e,n)}class zI{constructor(t,e,i,a,d){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=a,this._firebaseVersion=d,this._bucket=null,this._host=CS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?fi.makeFromBucketSpec(a,this._host):YS(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?fi.makeFromBucketSpec(this._url,t):YS(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){UI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){UI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Di.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Di.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new xh(this,t)}_makeRequest(t,e,i,a,d=!0){if(this._deleted)return new NR(TS());{const p=function $R(n,t,e,i,a,d,p=!0){const v=MS(n.urlParams),w=n.url+v,S=Object.assign({},n.headers);return function jR(n,t){t&&(n["X-Firebase-GMPID"]=t)}(S,t),function VR(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(S,e),function BR(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(S,d),function HR(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(S,i),new UR(w,n.method,S,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,p)}(t,this._appId,i,a,e,this._firebaseVersion,d);return this._requests.add(p),p.getPromise().then(()=>this._requests.delete(p),()=>this._requests.delete(p)),p}}makeRequestWithTokens(t,e){var i=this;return(0,Di.Z)(function*(){const[a,d]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,a,d).getPromise()})()}}const QS="@firebase/storage";function eA(n,t){return Fk(n=(0,F.m9)(n),t)}function zk(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new zI(e,i,a,t,fs.SDK_VERSION)}!function Zk(){(0,fs._registerComponent)(new Bo.wA("storage",zk,"PUBLIC").setMultipleInstances(!0)),(0,fs.registerVersion)(QS,"0.10.0",""),(0,fs.registerVersion)(QS,"0.10.0","esm2017")}();class $C{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class nA{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new $C(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new $C(i,this,this._ref))},e)}on(t,e,i,a){let d;return e&&(d="function"==typeof e?p=>e(new $C(p,this,this._ref)):{next:e.next?p=>e.next(new $C(p,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,d,i||void 0,a||void 0)}}class rA{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Du(t,this._service))}get items(){return this._delegate.items.map(t=>new Du(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Du{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Wk(n,t){return qS(n,t)}(this._delegate,t);return new Du(e,this.storage)}get root(){return new Du(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Du(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new nA(function Uk(n,t,e){return function Sk(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new GS(n,new rl(t),e)}(n=(0,F.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ys.RAW,i){this._throwIfRoot("putString");const a=BI(e,t),d=Object.assign({},i);return null==d.contentType&&null!=a.contentType&&(d.contentType=a.contentType),new nA(new GS(this._delegate,new rl(a.data,!0),d),this)}listAll(){return function Hk(n){return function Mk(n){const t={prefixes:[],items:[]};return zS(n,t).then(()=>t)}(n=(0,F.m9)(n))}(this._delegate).then(t=>new rA(t,this.storage))}list(t){return function jk(n,t){return ZS(n=(0,F.m9)(n),t)}(this._delegate,t||void 0).then(e=>new rA(e,this.storage))}getMetadata(){return function Vk(n){return function Rk(n){n._throwIfRoot("getMetadata");const t=US(n.storage,n._location,V_());return n.storage.makeRequestWithTokens(t,Ko)}(n=(0,F.m9)(n))}(this._delegate)}updateMetadata(t){return function Bk(n,t){return function kk(n,t){n._throwIfRoot("updateMetadata");const e=function dk(n,t,e,i){const d=Iu(t.fullServerUrl(),n.host,n._protocol),v=HI(e,i),S=n.maxOperationRetryTime,x=new il(d,"PATCH",jC(n,i),S);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=v,x.errorHandler=B_(t),x}(n.storage,n._location,t,V_());return n.storage.makeRequestWithTokens(e,Ko)}(n=(0,F.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function $k(n){return Nk(n=(0,F.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Gk(n){return function Pk(n){n._throwIfRoot("deleteObject");const t=function hk(n,t){const i=Iu(t.fullServerUrl(),n.host,n._protocol),v=new il(i,"DELETE",function p(w,S){},n.maxOperationRetryTime);return v.successCodes=[200,204],v.errorHandler=B_(t),v}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Ko)}(n=(0,F.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw SS(t)}}class iA{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(sA(t))throw Yp("ref() expected a child path but got a URL, use refFromURL instead.");return new Du(eA(this._delegate,t),this)}refFromURL(t){if(!sA(t))throw Yp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fi.makeFromUrl(t,this._delegate.host)}catch{throw Yp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Du(eA(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function tA(n,t,e,i={}){!function Lk(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken="string"==typeof a?a:(0,F.Sg)(a,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function sA(n){return/^[A-Za-z]+:\/\//.test(n)}function Qk(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new iA(e,i)}function oA(n){const t=function Xk(n){return new M.y(t=>{const e=p=>t.next(p);e(n.snapshot);const d=n.on("state_changed",e);return n.then(p=>{e(p),t.complete()},p=>{e(n.snapshot),(p=>{t.error(p)})(p)}),function(){d()}}).pipe(function pR(n,t=yE.P){return e=>e.lift(new gR(n,t))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Xe.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function GC(n){return{getDownloadURL:()=>(0,xe.of)(void 0).pipe(ir.fc,an(()=>n.getDownloadURL()),ir.iC),getMetadata:()=>(0,xe.of)(void 0).pipe(ir.fc,an(()=>n.getMetadata()),ir.iC),delete:()=>(0,on.D)(n.delete()),child:t=>GC(n.child(t)),updateMetadata:t=>(0,on.D)(n.updateMetadata(t)),put:(t,e)=>oA(n.put(t,e)),putString:(t,e,i)=>oA(n.putString(t,e,i)),list:t=>(0,on.D)(n.list(t)),listAll:()=>(0,on.D)(n.listAll())}}!function Jk(n){const t={TaskState:Mi,TaskEvent:_k,StringFormat:ys,Storage:iA,Reference:Du};n.INTERNAL.registerComponent(new Bo.wA("storage-compat",Qk,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.0")}(wE.Z);const eN=new u.OlP("angularfire2.storageBucket"),tN=new u.OlP("angularfire2.storage.maxUploadRetryTime"),nN=new u.OlP("angularfire2.storage.maxOperationRetryTime"),rN=new u.OlP("angularfire2.storage.use-emulator");let aA=(()=>{class n{constructor(e,i,a,d,p,v,w,S,x,W){const J=(0,Wr.on)(e,p,i);this.storage=(0,Wr.cc)(`${J.name}.storage.${a}`,"AngularFireStorage",J.name,()=>{const ue=p.runOutsideAngular(()=>J.storage(a||void 0)),Ce=x;return Ce&&ue.useEmulator(...Ce),w&&ue.setMaxUploadRetryTime(w),S&&ue.setMaxOperationRetryTime(S),ue},[w,S])}ref(e){return GC(this.storage.ref(e))}refFromURL(e){return GC(this.storage.refFromURL(e))}upload(e,i,a){return GC(this.storage.ref(e)).put(i,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Wr.Dh),u.LFG(Wr.xv,8),u.LFG(eN,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ir.HU),u.LFG(tN,8),u.LFG(nN,8),u.LFG(rN,8),u.LFG(dp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),sN=(()=>{class n{constructor(){xm.Z.registerVersion("angularfire",ir.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[aA],imports:[iN]}),n})();class Xp{}function aN(n,t){1&n&&(u.TgZ(0,"li")(1,"a",14),u._uU(2,"my skill"),u.qZA()())}function lN(n,t){1&n&&(u.TgZ(0,"li")(1,"a",15),u._uU(2,"Sing Up"),u.qZA()())}function uN(n,t){1&n&&(u.TgZ(0,"li")(1,"a",16),u._uU(2,"LogIn"),u.qZA()())}function cN(n,t){1&n&&(u.TgZ(0,"a",17),u._uU(1,"Profile"),u.qZA())}Xp.\u0275fac=function(t){return new(t||Xp)},Xp.\u0275mod=u.oAB({type:Xp}),Xp.\u0275inj=u.cJS({imports:[Xd.forRoot([]),Xd]});class j_{constructor(t,e){this.AuthUser=t,this.route=e,this.isLoggedIn=!1,this.isLoggedIn="true"===localStorage.getItem("isLoggedIn")}logOut(){this.AuthUser.signOut(),this.isLoggedIn=!1,localStorage.setItem("isLoggedIn","false"),this.route.navigate(["/login"])}ngOnInit(){}}j_.\u0275fac=function(t){return new(t||j_)(u.Y36(jo),u.Y36(dr))},j_.\u0275cmp=u.Xpm({type:j_,selectors:[["app-navbar"]],decls:27,vars:4,consts:[["uk-navbar","",1,"uk-navbar-container"],[1,"uk-navbar-left"],[1,"uk-navbar-nav"],[1,""],["href","#","routerLink","/"],["href","#","routerLink","/all-skills"],[4,"ngIf"],[1,"uk-navbar-right"],["href","#",4,"ngIf"],[1,"uk-navbar-dropdown"],[1,"uk-nav","uk-navbar-dropdown-nav"],["href","#","routerLink","/add-skills"],["href","#","routerLink","/user-profile"],["href","#",3,"click"],["href","#","routerLink","/my-skills"],["href","#","routerLink","/register"],["href","#","routerLink","/login"],["href","#"]],template:function(t,e){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),u._uU(5,"craft"),u.qZA()(),u.TgZ(6,"li")(7,"a",5),u._uU(8,"skills"),u.qZA()(),u.YNc(9,aN,3,0,"li",6),u.YNc(10,lN,3,0,"li",6),u.YNc(11,uN,3,0,"li",6),u.qZA()(),u.TgZ(12,"div",7)(13,"ul",2)(14,"li"),u.YNc(15,cN,2,0,"a",8),u.TgZ(16,"div",9)(17,"ul",10)(18,"li")(19,"a",11),u._uU(20,"Add"),u.qZA()(),u.TgZ(21,"li")(22,"a",12),u._uU(23,"userProfile"),u.qZA()(),u.TgZ(24,"li")(25,"a",13),u.NdJ("click",function(){return e.logOut()}),u._uU(26,"Log Out"),u.qZA()()()()()()()()),2&t&&(u.xp6(9),u.Q6J("ngIf",e.isLoggedIn),u.xp6(1),u.Q6J("ngIf",!e.isLoggedIn),u.xp6(1),u.Q6J("ngIf",!e.isLoggedIn),u.xp6(4),u.Q6J("ngIf",e.isLoggedIn))},dependencies:[rn,yf]});class H_{constructor(){this.title="AngularProject"}}H_.\u0275fac=function(t){return new(t||H_)},H_.\u0275cmp=u.Xpm({type:H_,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&u._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[Mg,j_],data:{animation:[]}});class $_{constructor(){}ngOnInit(){}}$_.\u0275fac=function(t){return new(t||$_)},$_.\u0275cmp=u.Xpm({type:$_,selectors:[["app-home"]],decls:1,vars:0,consts:[["uk-parallax","bgy: -200",1,"uk-height-larger","uk-background-cover","uk-light","uk-flex",2,"background-image","url('assets/images/Winter-Peak(0).jpg')","height","814px"]],template:function(t,e){1&t&&u._UZ(0,"div",0)}});class G_{insertSkill(){this.itemList.push({fName:this.user.fName,phone:this.user.phone,skill:this.user.skill,province:this.user.province,price:this.user.price,notes:this.user.notes,email:this.email,uid:this.uid}),this.route.navigate(["/my-skills"])}constructor(t,e,i){this.fire=t,this.db=e,this.route=i,this.user={fName:"",phone:"",skill:"",province:"",price:"",notes:""},this.email="",this.itemList=e.list("skills")}ngOnInit(){let t=localStorage.getItem("email");this.email=t,this.uid=localStorage.getItem("uid")}}function dN(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td")(14,"button",4),u.NdJ("click",function(){u.CHM(e);const a=u.oxw().$implicit,d=u.oxw();return u.KtG(d.editForm(a.$key))}),u._uU(15,"Edit"),u.qZA()(),u.TgZ(16,"td")(17,"button",5),u.NdJ("click",function(){u.CHM(e);const a=u.oxw().$implicit,d=u.oxw();return u.KtG(d.onDelete(a.$key))}),u._uU(18,"Delete"),u.qZA()(),u.TgZ(19,"div",6)(20,"div",7)(21,"fieldset",8)(22,"div",9)(23,"input",10),u.NdJ("ngModelChange",function(a){u.CHM(e);const d=u.oxw(2);return u.KtG(d.user.fName=a)}),u.qZA()(),u.TgZ(24,"div",9)(25,"input",11),u.NdJ("ngModelChange",function(a){u.CHM(e);const d=u.oxw(2);return u.KtG(d.user.phone=a)}),u.qZA()(),u.TgZ(26,"div",9)(27,"input",12),u.NdJ("ngModelChange",function(a){u.CHM(e);const d=u.oxw(2);return u.KtG(d.user.skill=a)}),u.qZA()(),u.TgZ(28,"div",9)(29,"input",13),u.NdJ("ngModelChange",function(a){u.CHM(e);const d=u.oxw(2);return u.KtG(d.user.province=a)}),u.qZA()(),u.TgZ(30,"div",9)(31,"input",14),u.NdJ("ngModelChange",function(a){u.CHM(e);const d=u.oxw(2);return u.KtG(d.user.price=a)}),u.qZA()(),u.TgZ(32,"div",9)(33,"textarea",15),u.NdJ("ngModelChange",function(a){u.CHM(e);const d=u.oxw(2);return u.KtG(d.user.notes=a)}),u.qZA()()(),u.TgZ(34,"p",16)(35,"button",17),u._uU(36,"Cancel"),u.qZA(),u.TgZ(37,"button",18),u.NdJ("click",function(){u.CHM(e);const a=u.oxw().$implicit,d=u.oxw();return u.KtG(d.onEdit(a.$key))}),u._uU(38," Update"),u.qZA()()()()()}if(2&n){const e=u.oxw().$implicit,i=u.oxw();u.xp6(2),u.Oqu(e.$key),u.xp6(2),u.Oqu(e.fName),u.xp6(2),u.Oqu(e.skill),u.xp6(2),u.Oqu(e.province),u.xp6(2),u.Oqu(e.price),u.xp6(2),u.Oqu(e.phone),u.xp6(11),u.Q6J("ngModel",i.user.fName),u.xp6(2),u.Q6J("ngModel",i.user.phone),u.xp6(2),u.Q6J("ngModel",i.user.skill),u.xp6(2),u.Q6J("ngModel",i.user.province),u.xp6(2),u.Q6J("ngModel",i.user.price),u.xp6(2),u.Q6J("ngModel",i.user.notes)}}function hN(n,t){if(1&n&&(u.TgZ(0,"tr"),u.YNc(1,dN,39,12,"div",3),u.qZA()),2&n){const e=t.$implicit,i=u.oxw();u.xp6(1),u.Q6J("ngIf",e.uid===i.myUid)}}G_.\u0275fac=function(t){return new(t||G_)(u.Y36(jo),u.Y36(Kp),u.Y36(dr))},G_.\u0275cmp=u.Xpm({type:G_,selectors:[["app-add-skills"]],decls:20,vars:6,consts:[[1,"uk-padding"],[1,"uk-card","uk-card-default","uk-card-body"],[1,"uk-card-title"],[1,"uk-fieldset"],[1,"uk-margin"],["type","text","placeholder","your full name","name","fName",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","your phone number","name","phone",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","your skills","name","skill",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","province","name","province",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","price","name","price",1,"uk-input",3,"ngModel","ngModelChange"],["rows","5","placeholder","Notes","name","notes",1,"uk-textarea",3,"ngModel","ngModelChange"],[1,"uk-button","uk-button-primary",3,"click"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),u._uU(3,"add your skills"),u.qZA(),u.TgZ(4,"fieldset",3)(5,"div",4)(6,"input",5),u.NdJ("ngModelChange",function(a){return e.user.fName=a}),u.qZA()(),u.TgZ(7,"div",4)(8,"input",6),u.NdJ("ngModelChange",function(a){return e.user.phone=a}),u.qZA()(),u.TgZ(9,"div",4)(10,"input",7),u.NdJ("ngModelChange",function(a){return e.user.skill=a}),u.qZA()(),u.TgZ(11,"div",4)(12,"input",8),u.NdJ("ngModelChange",function(a){return e.user.province=a}),u.qZA()(),u.TgZ(13,"div",4)(14,"input",9),u.NdJ("ngModelChange",function(a){return e.user.price=a}),u.qZA()(),u.TgZ(15,"div",4)(16,"textarea",10),u.NdJ("ngModelChange",function(a){return e.user.notes=a}),u.qZA()(),u.TgZ(17,"div",4)(18,"button",11),u.NdJ("click",function(){return e.insertSkill()}),u._uU(19,"Submit"),u.qZA()()()()()),2&t&&(u.xp6(6),u.Q6J("ngModel",e.user.fName),u.xp6(2),u.Q6J("ngModel",e.user.phone),u.xp6(2),u.Q6J("ngModel",e.user.skill),u.xp6(2),u.Q6J("ngModel",e.user.province),u.xp6(2),u.Q6J("ngModel",e.user.price),u.xp6(2),u.Q6J("ngModel",e.user.notes))},dependencies:[ja,_c,Uo]});class W_{editForm(t){for(let e of this.itemArray)e.$key==t&&(console.log(e.$key),this.user.fName=e.fName,this.user.phone=e.phone,this.user.skill=e.skill,this.user.province=e.province,this.user.price=e.price,this.user.notes=e.notes)}constructor(t,e){this.db=t,this.route=e,this.user={fName:"",phone:"",skill:"",province:"",price:"",notes:""},this.isLoggedIn=!1,this.itemArray=[],this.itemList=t.list("skills"),this.itemList.snapshotChanges().subscribe(i=>{i.forEach(a=>{let d=a.payload.toJSON();d.$key=a.key,this.itemArray.push(d)})}),this.myUid=localStorage.getItem("uid")}onEdit(t){this.itemList.set(t,{fName:this.user.fName,phone:this.user.phone,skill:this.user.skill,province:this.user.province,price:this.user.price,notes:this.user.notes}),this.itemArray=[]}onDelete(t){this.itemList.remove(t),this.itemArray=[]}ngOnInit(){}}function fN(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td")(14,"button",3),u.NdJ("click",function(){const d=u.CHM(e).$implicit,p=u.oxw();return u.KtG(p.moreInfo(d.$key))}),u._uU(15,"Details"),u.qZA()()()}if(2&n){const e=t.$implicit;u.xp6(2),u.Oqu(e.$key),u.xp6(2),u.Oqu(e.fName),u.xp6(2),u.Oqu(e.skill),u.xp6(2),u.Oqu(e.province),u.xp6(2),u.Oqu(e.price),u.xp6(2),u.Oqu(e.phone)}}W_.\u0275fac=function(t){return new(t||W_)(u.Y36(Kp),u.Y36(dr))},W_.\u0275cmp=u.Xpm({type:W_,selectors:[["app-my-skills"]],decls:21,vars:1,consts:[[1,"uk-padding"],[1,"uk-table","uk-table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","uk-toggle","target: #modal-example",1,"uk-button","uk-button-secondary","uk-margin-small-right",3,"click"],[1,"uk-button","uk-button-danger",3,"click"],["id","modal-example","uk-modal",""],[1,"uk-modal-dialog","uk-modal-body"],[1,"uk-fieldset"],[1,"uk-margin"],["type","text","placeholder","your full name","name","fName",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","your phone number","name","phone",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","your skills","name","skill",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","province","name","province",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","price","name","price",1,"uk-input",3,"ngModel","ngModelChange"],["rows","5","placeholder","Notes","name","notes",1,"uk-textarea",3,"ngModel","ngModelChange"],[1,"uk-text-right"],["type","button",1,"uk-button","uk-button-default","uk-modal-close"],["type","button",1,"uk-button","uk-button-secondary",3,"click"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"div")(4,"tr")(5,"th"),u._uU(6,"$key"),u.qZA(),u.TgZ(7,"th"),u._uU(8,"fName"),u.qZA(),u.TgZ(9,"th"),u._uU(10,"skill"),u.qZA(),u.TgZ(11,"th"),u._uU(12,"province"),u.qZA(),u.TgZ(13,"th"),u._uU(14,"price"),u.qZA(),u.TgZ(15,"th"),u._uU(16,"phone"),u.qZA(),u.TgZ(17,"th"),u._uU(18,"actions"),u.qZA()()()(),u.TgZ(19,"tbody"),u.YNc(20,hN,2,1,"tr",2),u.qZA()()()),2&t&&(u.xp6(20),u.Q6J("ngForOf",e.itemArray))},dependencies:[gi,rn,ja,_c,Uo]});class z_{editForm(t){for(let e of this.itemArray)e.$key==t&&(this.user.fName=e.fName,this.user.phone=e.phone,this.user.skill=e.skill,this.user.province=e.province,this.user.price=e.price,this.user.notes=e.notes)}constructor(t,e,i){this.db=t,this.route=e,this.router=i,this.user={fName:"",phone:"",skill:"",province:"",price:"",notes:""},this.itemArray=[],this.itemList=t.list("skills"),this.itemList.snapshotChanges().subscribe(a=>{a.forEach(d=>{let p=d.payload.toJSON();p.$key=d.key,this.itemArray.push(p)})})}onEdit(t){this.itemList.set(t,{fName:this.user.fName,phone:this.user.phone,skill:this.user.skill,province:this.user.province,price:this.user.price,notes:this.user.notes}),this.itemArray=[]}moreInfo(t){this.route.navigate(["details/"+t])}onDelete(t){console.log("Deleting"),this.itemList.remove(t),this.itemArray=[]}ngOnInit(){}}z_.\u0275fac=function(t){return new(t||z_)(u.Y36(Kp),u.Y36(dr),u.Y36(Zs))},z_.\u0275cmp=u.Xpm({type:z_,selectors:[["app-all-skills"]],decls:20,vars:1,consts:[[1,"uk-padding"],[1,"uk-table","uk-table-hover"],[4,"ngFor","ngForOf"],["type","button",1,"uk-button","uk-button-secondary","uk-margin-small-right",3,"click"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),u._uU(5,"$key"),u.qZA(),u.TgZ(6,"th"),u._uU(7,"fName"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"skill"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"province"),u.qZA(),u.TgZ(12,"th"),u._uU(13,"price"),u.qZA(),u.TgZ(14,"th"),u._uU(15,"phone"),u.qZA(),u.TgZ(16,"th"),u._uU(17,"actions"),u.qZA()()(),u.TgZ(18,"tbody"),u.YNc(19,fN,16,6,"tr",2),u.qZA()()()),2&t&&(u.xp6(19),u.Q6J("ngForOf",e.itemArray))},dependencies:[gi]});var pN=P(661);class Z_{constructor(t,e){this.fire=t,this.route=e,this.person={email:"",password:""}}myLogin(t,e){var i=this;return(0,Di.Z)(function*(){const a=(0,pN.n)();yield i.fire.signInWithEmailAndPassword(t,e).then(d=>{localStorage.setItem("isLoggedIn","true"),localStorage.setItem("email",a.currentUser?.email),i.fire.authState.subscribe(p=>{p&&localStorage.setItem("uid",p.uid)}),i.route.navigate(["my-skills"])}).catch(d=>{console.error(d)})})()}ngOnInit(){}}Z_.\u0275fac=function(t){return new(t||Z_)(u.Y36(jo),u.Y36(dr))},Z_.\u0275cmp=u.Xpm({type:Z_,selectors:[["app-login"]],decls:12,vars:2,consts:[[1,"uk-padding"],[1,"uk-card","uk-card-default","uk-card-body"],[1,"uk-card-title"],[1,"uk-fieldset"],[1,"uk-margin"],["type","email","placeholder","your email","name","email",1,"uk-input",3,"ngModel","ngModelChange"],["type","password","placeholder","your password","name","password",1,"uk-input",3,"ngModel","ngModelChange"],[1,"uk-button","uk-button-primary",3,"click"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),u._uU(3,"LOGIN"),u.qZA(),u.TgZ(4,"fieldset",3)(5,"div",4)(6,"input",5),u.NdJ("ngModelChange",function(a){return e.person.email=a}),u.qZA()(),u.TgZ(7,"div",4)(8,"input",6),u.NdJ("ngModelChange",function(a){return e.person.password=a}),u.qZA()(),u.TgZ(9,"div",4)(10,"button",7),u.NdJ("click",function(){return e.myLogin(e.person.email,e.person.password)}),u._uU(11,"log in"),u.qZA()()()()()),2&t&&(u.xp6(6),u.Q6J("ngModel",e.person.email),u.xp6(2),u.Q6J("ngModel",e.person.password))},dependencies:[ja,_c,Uo]});class q_{myRegister(t,e){var i=this;return(0,Di.Z)(function*(){yield i.fire.createUserWithEmailAndPassword(t,e).then(a=>{i.route.navigate(["home"])}).catch(a=>{console.error(a)})})()}constructor(t,e){this.fire=t,this.route=e,this.person={email:"",password:""}}ngOnInit(){}}q_.\u0275fac=function(t){return new(t||q_)(u.Y36(jo),u.Y36(dr))},q_.\u0275cmp=u.Xpm({type:q_,selectors:[["app-register"]],decls:12,vars:2,consts:[[1,"uk-padding"],[1,"uk-card","uk-card-default","uk-card-body"],[1,"uk-card-title"],[1,"uk-fieldset"],[1,"uk-margin"],["type","email","placeholder","your email","name","email",1,"uk-input",3,"ngModel","ngModelChange"],["type","password","placeholder","your password","name","password",1,"uk-input",3,"ngModel","ngModelChange"],[1,"uk-button","uk-button-primary",3,"click"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),u._uU(3,"Register"),u.qZA(),u.TgZ(4,"fieldset",3)(5,"div",4)(6,"input",5),u.NdJ("ngModelChange",function(a){return e.person.email=a}),u.qZA()(),u.TgZ(7,"div",4)(8,"input",6),u.NdJ("ngModelChange",function(a){return e.person.password=a}),u.qZA()(),u.TgZ(9,"div",4)(10,"button",7),u.NdJ("click",function(){return e.myRegister(e.person.email,e.person.password)}),u._uU(11,"Register"),u.qZA()()()()()),2&t&&(u.xp6(6),u.Q6J("ngModel",e.person.email),u.xp6(2),u.Q6J("ngModel",e.person.password))},dependencies:[ja,_c,Uo]});class K_{constructor(t,e){this.route=t,this.db=e,this.itemArray=[],this.user={fName:"",phone:"",skill:"",province:"",price:"",notes:"",email:""},this.route.params.subscribe(i=>{this.ID=i}),this.itemList=e.list("skills"),this.itemList.snapshotChanges().subscribe(i=>{i.forEach(a=>{let d=a.payload.toJSON();d.$key=a.key,a.key===this.ID.id&&(this.itemArray.push(d),this.user.fName=this.itemArray[0].fName,this.user.phone=this.itemArray[0].phone,this.user.skill=this.itemArray[0].skill,this.user.province=this.itemArray[0].province,this.user.price=this.itemArray[0].price,this.user.notes=this.itemArray[0].notes,this.user.email=this.itemArray[0].email)})})}ngOnInit(){}}K_.\u0275fac=function(t){return new(t||K_)(u.Y36(Zs),u.Y36(Kp))},K_.\u0275cmp=u.Xpm({type:K_,selectors:[["app-details"]],decls:24,vars:7,consts:[[1,"uk-padding"],[1,"uk-card","uk-card-default","uk-padding"],[1,"uk-card-header"],["uk-grid","",1,"uk-grid-small","uk-flex-middle"],[1,"uk-width-auto"],["width","80","height","100","src","assets/images/avatar.png",1,"uk-border-circle"],[1,"uk-width-expand"],[1,"uk-card-title","uk-margin-remove-bottom"],[1,"uk-text-meta","uk-margin-remove-top"],["datetime","2016-04-01T19:00"],[1,"uk-card-body"],[1,"uk-card-footer"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u._UZ(5,"img",5),u.qZA(),u.TgZ(6,"div",6)(7,"h3",7),u._uU(8),u.qZA(),u.TgZ(9,"p",8)(10,"time",9),u._uU(11),u.qZA()()()()(),u.TgZ(12,"div",10)(13,"p"),u._uU(14),u.qZA()(),u.TgZ(15,"div",11)(16,"p"),u._uU(17),u.qZA(),u.TgZ(18,"p"),u._uU(19),u.qZA(),u.TgZ(20,"p"),u._uU(21),u.qZA(),u.TgZ(22,"p"),u._uU(23),u.qZA()()()()),2&t&&(u.xp6(8),u.hij("Name: ",e.user.fName,""),u.xp6(3),u.hij("Email:",e.user.email,""),u.xp6(3),u.hij("Comments: ",e.user.notes,"."),u.xp6(3),u.hij("province: ",e.user.province,""),u.xp6(2),u.hij("phone: ",e.user.phone,""),u.xp6(2),u.hij("skill : ",e.user.skill,""),u.xp6(2),u.hij("price: ",e.user.price,""))}});class Y_{constructor(t,e){this.store=t,this.db=e,this.email="",this.itemArray=[],this.person={fName:"",phone:"",age:"",address:"",city:"",job:"",email:"",images:""},this.email=localStorage.getItem("email"),this.myUid=localStorage.getItem("uid"),this.itemList=e.list("users"),this.itemList.snapshotChanges().subscribe(i=>{i.forEach(a=>{let d=a.payload.toJSON();d.$key=a.key,a.payload.child("myUid").val()===this.myUid&&(this.itemArray.push(d),this.userKey=a.key,this.person.fName=this.itemArray[0].fName,this.person.phone=this.itemArray[0].phone,this.person.age=this.itemArray[0].age,this.person.address=this.itemArray[0].address,this.person.city=this.itemArray[0].city,this.person.job=this.itemArray[0].job,this.person.email=this.itemArray[0].email,this.person.images=this.itemArray[0].images)})})}onEdit(){this.itemList.set(this.userKey,{fName:this.person.fName,phone:this.person.phone,age:this.person.age,address:this.person.address,job:this.person.job,city:this.person.city,email:this.email,myUid:this.myUid,images:this.imageURL})}insertProfile(){this.itemList.push({fName:this.person.fName,phone:this.person.phone,age:this.person.age,address:this.person.address,job:this.person.job,city:this.person.city,email:this.email,myUid:this.myUid,images:this.imageURL})}ngOnInit(){}upload(t){const e=t.target.files[0],i=Math.random().toString(36).substring(2),a=this.store.ref(i),d=this.store.upload(i,e);this.uploadPercent=d.percentageChanges(),d.snapshotChanges().pipe(ur(()=>a.getDownloadURL().subscribe(p=>{p?this.imageURL=p:console.log("the url is not avialable")}))).subscribe()}}Y_.\u0275fac=function(t){return new(t||Y_)(u.Y36(aA),u.Y36(Kp))},Y_.\u0275cmp=u.Xpm({type:Y_,selectors:[["app-user-profile"]],decls:50,vars:14,consts:[[1,"uk-padding"],[1,"uk-card","uk-card-default"],[1,"uk-card-header"],["uk-grid","",1,"uk-grid-small","uk-flex-middle"],[1,"uk-width-auto"],["width","200","height","250",1,"uk-border-circle",3,"src"],["type","file","accept",".jpg, .png, .jpeg",1,"uk-button","uk-button-default",3,"change"],[1,"uk-width-expand"],[1,"uk-card-title","uk-margin-remove-bottom"],[1,"uk-card-body"],[1,"uk-card-footer"],["href","#","uk-toggle","target: #modal-example",1,"uk-button","uk-button-secondary"],["id","modal-example","uk-modal",""],[1,"uk-modal-dialog","uk-modal-body"],[1,"uk-fieldset"],[1,"uk-margin"],["type","text","placeholder","your full name","name","fName",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","your phone number","name","phone",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","your age","name","age",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","address","name","address",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","city","name","city",1,"uk-input",3,"ngModel","ngModelChange"],["type","text","placeholder","job","name","job",1,"uk-input",3,"ngModel","ngModelChange"],[1,"uk-text-right"],["type","button",1,"uk-button","uk-button-danger","uk-modal-close"],["type","button",1,"uk-button","uk-button-secondary","uk-margin-left",3,"click"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u._UZ(5,"img",5)(6,"br")(7,"br"),u.TgZ(8,"input",6),u.NdJ("change",function(a){return e.upload(a)}),u.qZA()(),u.TgZ(9,"div",7)(10,"h3",8),u._uU(11),u.qZA()()()(),u.TgZ(12,"div",9)(13,"p"),u._uU(14),u.qZA(),u.TgZ(15,"p"),u._uU(16),u.qZA(),u.TgZ(17,"p"),u._uU(18),u.qZA(),u.TgZ(19,"p"),u._uU(20),u.qZA(),u.TgZ(21,"p"),u._uU(22),u.qZA(),u.TgZ(23,"p"),u._uU(24),u.qZA()(),u.TgZ(25,"div",10)(26,"a",11),u._uU(27,"Complete Info"),u.qZA(),u.TgZ(28,"div",12)(29,"div",13)(30,"fieldset",14)(31,"div",15)(32,"input",16),u.NdJ("ngModelChange",function(a){return e.person.fName=a}),u.qZA()(),u.TgZ(33,"div",15)(34,"input",17),u.NdJ("ngModelChange",function(a){return e.person.phone=a}),u.qZA()(),u.TgZ(35,"div",15)(36,"input",18),u.NdJ("ngModelChange",function(a){return e.person.age=a}),u.qZA()(),u.TgZ(37,"div",15)(38,"input",19),u.NdJ("ngModelChange",function(a){return e.person.address=a}),u.qZA()(),u.TgZ(39,"div",15)(40,"input",20),u.NdJ("ngModelChange",function(a){return e.person.city=a}),u.qZA()(),u.TgZ(41,"div",15)(42,"input",21),u.NdJ("ngModelChange",function(a){return e.person.job=a}),u.qZA()()(),u.TgZ(43,"p",22)(44,"button",23),u._uU(45,"Cancel"),u.qZA(),u.TgZ(46,"button",24),u.NdJ("click",function(){return e.onEdit()}),u._uU(47," update"),u.qZA(),u.TgZ(48,"button",24),u.NdJ("click",function(){return e.insertProfile()}),u._uU(49," Save"),u.qZA()()()()()()()),2&t&&(u.xp6(5),u.s9C("src",e.person.images,u.LSH),u.xp6(6),u.hij("Email: ",e.email,""),u.xp6(3),u.hij("Name: ",e.person.fName,""),u.xp6(2),u.hij("phone: ",e.person.phone,""),u.xp6(2),u.hij("City: ",e.person.city,""),u.xp6(2),u.hij("address: ",e.person.address,""),u.xp6(2),u.hij("Job: ",e.person.job,""),u.xp6(2),u.hij("Age: ",e.person.age,""),u.xp6(8),u.Q6J("ngModel",e.person.fName),u.xp6(2),u.Q6J("ngModel",e.person.phone),u.xp6(2),u.Q6J("ngModel",e.person.age),u.xp6(2),u.Q6J("ngModel",e.person.address),u.xp6(2),u.Q6J("ngModel",e.person.city),u.xp6(2),u.Q6J("ngModel",e.person.job))},dependencies:[ja,_c,Uo]});const gN=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:$_},{path:"add-skills",component:G_},{path:"login",component:Z_},{path:"register",component:q_},{path:"my-skills",component:W_},{path:"all-skills",component:z_},{path:"details/:id",component:K_},{path:"user-profile",component:Y_}];class eg{}eg.\u0275fac=function(t){return new(t||eg)},eg.\u0275mod=u.oAB({type:eg,bootstrap:[H_]}),eg.\u0275inj=u.cJS({imports:[xl,Xp,Xd.forRoot(gN),lh,Wr.hO.initializeApp({apiKey:"AIzaSyBMQOEoYaQnX5a4tAr3kAMVKnFBsgRvbaA",authDomain:"angularproject-df19b.firebaseapp.com",databaseURL:"https://angularproject-df19b-default-rtdb.firebaseio.com",projectId:"angularproject-df19b",storageBucket:"angularproject-df19b.appspot.com",messagingSenderId:"759159817631",appId:"1:759159817631:web:555a657f846647812129aa",measurementId:"G-ZZWJTXSNVP"}),s0,fR,sN]}),Pl().bootstrapModule(eg).catch(n=>console.error(n))},6498:(Ke,me,P)=>{P.d(me,{y:()=>te});var u=P(3489),N=P(7668),X=P(3292),q=P(3821),ge=P(4843),ee=P(2830);let te=(()=>{class V{constructor(ne){this._isScalar=!1,ne&&(this._subscribe=ne)}lift(ne){const fe=new V;return fe.source=this,fe.operator=ne,fe}subscribe(ne,fe,He){const{operator:Ie}=this,ae=function ie(V,U,ne){if(V){if(V instanceof u.L)return V;if(V[N.b])return V[N.b]()}return V||U||ne?new u.L(V,U,ne):new u.L(X.c)}(ne,fe,He);if(ae.add(Ie?Ie.call(ae,this.source):this.source||ee.v.useDeprecatedSynchronousErrorHandling&&!ae.syncErrorThrowable?this._subscribe(ae):this._trySubscribe(ae)),ee.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable&&(ae.syncErrorThrowable=!1,ae.syncErrorThrown))throw ae.syncErrorValue;return ae}_trySubscribe(ne){try{return this._subscribe(ne)}catch(fe){ee.v.useDeprecatedSynchronousErrorHandling&&(ne.syncErrorThrown=!0,ne.syncErrorValue=fe),function H(V){for(;V;){const{closed:U,destination:ne,isStopped:fe}=V;if(U||fe)return!1;V=ne&&ne instanceof u.L?ne:null}return!0}(ne)?ne.error(fe):console.warn(fe)}}forEach(ne,fe){return new(fe=O(fe))((He,Ie)=>{let ae;ae=this.subscribe(Te=>{try{ne(Te)}catch(he){Ie(he),ae&&ae.unsubscribe()}},Ie,He)})}_subscribe(ne){const{source:fe}=this;return fe&&fe.subscribe(ne)}[q.L](){return this}pipe(...ne){return 0===ne.length?this:(0,ge.U)(ne)(this)}toPromise(ne){return new(ne=O(ne))((fe,He)=>{let Ie;this.subscribe(ae=>Ie=ae,ae=>He(ae),()=>fe(Ie))})}}return V.create=U=>new V(U),V})();function O(V){if(V||(V=ee.v.Promise||Promise),!V)throw new Error("no Promise impl found");return V}},3292:(Ke,me,P)=>{P.d(me,{c:()=>N});var u=P(2830),H=P(2782);const N={closed:!0,next(X){},error(X){if(u.v.useDeprecatedSynchronousErrorHandling)throw X;(0,H.z)(X)},complete(){}}},8929:(Ke,me,P)=>{P.d(me,{Yc:()=>ge,xQ:()=>ee});var u=P(6498),H=P(3489),N=P(2654),X=P(5279),ie=P(5283),q=P(7668);class ge extends H.L{constructor(V){super(V),this.destination=V}}let ee=(()=>{class O extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[q.b](){return new ge(this)}lift(U){const ne=new te(this,this);return ne.operator=U,ne}next(U){if(this.closed)throw new X.N;if(!this.isStopped){const{observers:ne}=this,fe=ne.length,He=ne.slice();for(let Ie=0;Ie<fe;Ie++)He[Ie].next(U)}}error(U){if(this.closed)throw new X.N;this.hasError=!0,this.thrownError=U,this.isStopped=!0;const{observers:ne}=this,fe=ne.length,He=ne.slice();for(let Ie=0;Ie<fe;Ie++)He[Ie].error(U);this.observers.length=0}complete(){if(this.closed)throw new X.N;this.isStopped=!0;const{observers:U}=this,ne=U.length,fe=U.slice();for(let He=0;He<ne;He++)fe[He].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(U){if(this.closed)throw new X.N;return super._trySubscribe(U)}_subscribe(U){if(this.closed)throw new X.N;return this.hasError?(U.error(this.thrownError),N.w.EMPTY):this.isStopped?(U.complete(),N.w.EMPTY):(this.observers.push(U),new ie.W(this,U))}asObservable(){const U=new u.y;return U.source=this,U}}return O.create=(V,U)=>new te(V,U),O})();class te extends ee{constructor(V,U){super(),this.destination=V,this.source=U}next(V){const{destination:U}=this;U&&U.next&&U.next(V)}error(V){const{destination:U}=this;U&&U.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:U}=this;return U?this.source.subscribe(V):N.w.EMPTY}}},5283:(Ke,me,P)=>{P.d(me,{W:()=>H});var u=P(2654);class H extends u.w{constructor(X,ie){super(),this.subject=X,this.subscriber=ie,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const X=this.subject,ie=X.observers;if(this.subject=null,!ie||0===ie.length||X.isStopped||X.closed)return;const q=ie.indexOf(this.subscriber);-1!==q&&ie.splice(q,1)}}},3489:(Ke,me,P)=>{P.d(me,{L:()=>ge});var u=P(7043),H=P(3292),N=P(2654),X=P(7668),ie=P(2830),q=P(2782);class ge extends N.w{constructor(O,V,U){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=H.c;break;case 1:if(!O){this.destination=H.c;break}if("object"==typeof O){O instanceof ge?(this.syncErrorThrowable=O.syncErrorThrowable,this.destination=O,O.add(this)):(this.syncErrorThrowable=!0,this.destination=new ee(this,O));break}default:this.syncErrorThrowable=!0,this.destination=new ee(this,O,V,U)}}[X.b](){return this}static create(O,V,U){const ne=new ge(O,V,U);return ne.syncErrorThrowable=!1,ne}next(O){this.isStopped||this._next(O)}error(O){this.isStopped||(this.isStopped=!0,this._error(O))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(O){this.destination.next(O)}_error(O){this.destination.error(O),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:O}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=O,this}}class ee extends ge{constructor(O,V,U,ne){super(),this._parentSubscriber=O;let fe,He=this;(0,u.m)(V)?fe=V:V&&(fe=V.next,U=V.error,ne=V.complete,V!==H.c&&(He=Object.create(V),(0,u.m)(He.unsubscribe)&&this.add(He.unsubscribe.bind(He)),He.unsubscribe=this.unsubscribe.bind(this))),this._context=He,this._next=fe,this._error=U,this._complete=ne}next(O){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;ie.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,O)&&this.unsubscribe():this.__tryOrUnsub(this._next,O)}}error(O){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:U}=ie.v;if(this._error)U&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,O),this.unsubscribe()):(this.__tryOrUnsub(this._error,O),this.unsubscribe());else if(V.syncErrorThrowable)U?(V.syncErrorValue=O,V.syncErrorThrown=!0):(0,q.z)(O),this.unsubscribe();else{if(this.unsubscribe(),U)throw O;(0,q.z)(O)}}}complete(){if(!this.isStopped){const{_parentSubscriber:O}=this;if(this._complete){const V=()=>this._complete.call(this._context);ie.v.useDeprecatedSynchronousErrorHandling&&O.syncErrorThrowable?(this.__tryOrSetError(O,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(O,V){try{O.call(this._context,V)}catch(U){if(this.unsubscribe(),ie.v.useDeprecatedSynchronousErrorHandling)throw U;(0,q.z)(U)}}__tryOrSetError(O,V,U){if(!ie.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,U)}catch(ne){return ie.v.useDeprecatedSynchronousErrorHandling?(O.syncErrorValue=ne,O.syncErrorThrown=!0,!0):((0,q.z)(ne),!0)}return!1}_unsubscribe(){const{_parentSubscriber:O}=this;this._context=null,this._parentSubscriber=null,O.unsubscribe()}}},2654:(Ke,me,P)=>{P.d(me,{w:()=>q});var u=P(6688),H=P(7830),N=P(7043);const ie=(()=>{function ee(te){return Error.call(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((O,V)=>`${V+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te,this}return ee.prototype=Object.create(Error.prototype),ee})();class q{constructor(te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,te&&(this._ctorUnsubscribe=!0,this._unsubscribe=te)}unsubscribe(){let te;if(this.closed)return;let{_parentOrParents:O,_ctorUnsubscribe:V,_unsubscribe:U,_subscriptions:ne}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,O instanceof q)O.remove(this);else if(null!==O)for(let fe=0;fe<O.length;++fe)O[fe].remove(this);if((0,N.m)(U)){V&&(this._unsubscribe=void 0);try{U.call(this)}catch(fe){te=fe instanceof ie?ge(fe.errors):[fe]}}if((0,u.k)(ne)){let fe=-1,He=ne.length;for(;++fe<He;){const Ie=ne[fe];if((0,H.K)(Ie))try{Ie.unsubscribe()}catch(ae){te=te||[],ae instanceof ie?te=te.concat(ge(ae.errors)):te.push(ae)}}}if(te)throw new ie(te)}add(te){let O=te;if(!te)return q.EMPTY;switch(typeof te){case"function":O=new q(te);case"object":if(O===this||O.closed||"function"!=typeof O.unsubscribe)return O;if(this.closed)return O.unsubscribe(),O;if(!(O instanceof q)){const ne=O;O=new q,O._subscriptions=[ne]}break;default:throw new Error("unrecognized teardown "+te+" added to Subscription.")}let{_parentOrParents:V}=O;if(null===V)O._parentOrParents=this;else if(V instanceof q){if(V===this)return O;O._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return O;V.push(this)}const U=this._subscriptions;return null===U?this._subscriptions=[O]:U.push(O),O}remove(te){const O=this._subscriptions;if(O){const V=O.indexOf(te);-1!==V&&O.splice(V,1)}}}var ee;function ge(ee){return ee.reduce((te,O)=>te.concat(O instanceof ie?O.errors:O),[])}q.EMPTY=((ee=new q).closed=!0,ee)},2830:(Ke,me,P)=>{P.d(me,{v:()=>H});let u=!1;const H={Promise:void 0,set useDeprecatedSynchronousErrorHandling(N){if(N){const X=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+X.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=N},get useDeprecatedSynchronousErrorHandling(){return u}}},1177:(Ke,me,P)=>{P.d(me,{Ds:()=>q,IY:()=>X,ft:()=>ee});var u=P(3489),H=P(6498),N=P(9249);class X extends u.L{constructor(O){super(),this.parent=O}_next(O){this.parent.notifyNext(O)}_error(O){this.parent.notifyError(O),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class q extends u.L{notifyNext(O){this.destination.next(O)}notifyError(O){this.destination.error(O)}notifyComplete(){this.destination.complete()}}function ee(te,O){if(O.closed)return;if(te instanceof H.y)return te.subscribe(O);let V;try{V=(0,N.s)(te)(O)}catch(U){O.error(U)}return V}},1762:(Ke,me,P)=>{P.d(me,{N:()=>q,c:()=>ie});var u=P(8929),H=P(6498),N=P(2654),X=P(4327);class ie extends H.y{constructor(V,U){super(),this.source=V,this.subjectFactory=U,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new N.w,V.add(this.source.subscribe(new ge(this.getSubject(),this))),V.closed&&(this._connection=null,V=N.w.EMPTY)),V}refCount(){return(0,X.x)()(this)}}const q=(()=>{const O=ie.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:O._subscribe},_isComplete:{value:O._isComplete,writable:!0},getSubject:{value:O.getSubject},connect:{value:O.connect},refCount:{value:O.refCount}}})();class ge extends u.Yc{constructor(V,U){super(V),this.connectable=U}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const U=V._connection;V._refCount=0,V._subject=null,V._connection=null,U&&U.unsubscribe()}}}},8896:(Ke,me,P)=>{P.d(me,{E:()=>H,c:()=>N});var u=P(6498);const H=new u.y(ie=>ie.complete());function N(ie){return ie?function X(ie){return new u.y(q=>ie.schedule(()=>q.complete()))}(ie):H}},5254:(Ke,me,P)=>{P.d(me,{D:()=>He});var u=P(6498),H=P(9249),N=P(2654),X=P(3821),ge=P(6454),ee=P(5430),V=P(8955),U=P(8515);function He(Ie,ae){return ae?function fe(Ie,ae){if(null!=Ie){if(function O(Ie){return Ie&&"function"==typeof Ie[X.L]}(Ie))return function ie(Ie,ae){return new u.y(Te=>{const he=new N.w;return he.add(ae.schedule(()=>{const ce=Ie[X.L]();he.add(ce.subscribe({next(Ue){he.add(ae.schedule(()=>Te.next(Ue)))},error(Ue){he.add(ae.schedule(()=>Te.error(Ue)))},complete(){he.add(ae.schedule(()=>Te.complete()))}}))})),he})}(Ie,ae);if((0,V.t)(Ie))return function q(Ie,ae){return new u.y(Te=>{const he=new N.w;return he.add(ae.schedule(()=>Ie.then(ce=>{he.add(ae.schedule(()=>{Te.next(ce),he.add(ae.schedule(()=>Te.complete()))}))},ce=>{he.add(ae.schedule(()=>Te.error(ce)))}))),he})}(Ie,ae);if((0,U.z)(Ie))return(0,ge.r)(Ie,ae);if(function ne(Ie){return Ie&&"function"==typeof Ie[ee.hZ]}(Ie)||"string"==typeof Ie)return function te(Ie,ae){if(!Ie)throw new Error("Iterable cannot be null");return new u.y(Te=>{const he=new N.w;let ce;return he.add(()=>{ce&&"function"==typeof ce.return&&ce.return()}),he.add(ae.schedule(()=>{ce=Ie[ee.hZ](),he.add(ae.schedule(function(){if(Te.closed)return;let Ue,at;try{const Nt=ce.next();Ue=Nt.value,at=Nt.done}catch(Nt){return void Te.error(Nt)}at?Te.complete():(Te.next(Ue),this.schedule())}))})),he})}(Ie,ae)}throw new TypeError((null!==Ie&&typeof Ie||Ie)+" is not observable")}(Ie,ae):Ie instanceof u.y?Ie:new u.y((0,H.s)(Ie))}},3009:(Ke,me,P)=>{P.d(me,{n:()=>X});var u=P(6498),H=P(3650),N=P(6454);function X(ie,q){return q?(0,N.r)(ie,q):new u.y((0,H.V)(ie))}},6787:(Ke,me,P)=>{P.d(me,{T:()=>ie});var u=P(6498),H=P(2866),N=P(9146),X=P(3009);function ie(...q){let ge=Number.POSITIVE_INFINITY,ee=null,te=q[q.length-1];return(0,H.K)(te)?(ee=q.pop(),q.length>1&&"number"==typeof q[q.length-1]&&(ge=q.pop())):"number"==typeof te&&(ge=q.pop()),null===ee&&1===q.length&&q[0]instanceof u.y?q[0]:(0,N.J)(ge)((0,X.n)(q,ee))}},1086:(Ke,me,P)=>{P.d(me,{of:()=>X});var u=P(2866),H=P(3009),N=P(6454);function X(...ie){let q=ie[ie.length-1];return(0,u.K)(q)?(ie.pop(),(0,N.r)(ie,q)):(0,H.n)(ie)}},1737:(Ke,me,P)=>{P.d(me,{_:()=>H});var u=P(6498);function H(X,ie){return new u.y(ie?q=>ie.schedule(N,0,{error:X,subscriber:q}):q=>q.error(X))}function N({error:X,subscriber:ie}){ie.error(X)}},4850:(Ke,me,P)=>{P.d(me,{U:()=>H});var u=P(3489);function H(ie,q){return function(ee){if("function"!=typeof ie)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ee.lift(new N(ie,q))}}class N{constructor(q,ge){this.project=q,this.thisArg=ge}call(q,ge){return ge.subscribe(new X(q,this.project,this.thisArg))}}class X extends u.L{constructor(q,ge,ee){super(q),this.project=ge,this.count=0,this.thisArg=ee||this}_next(q){let ge;try{ge=this.project.call(this.thisArg,q,this.count++)}catch(ee){return void this.destination.error(ee)}this.destination.next(ge)}}},9146:(Ke,me,P)=>{P.d(me,{J:()=>N});var u=P(1709),H=P(5379);function N(X=Number.POSITIVE_INFINITY){return(0,u.zg)(H.y,X)}},1709:(Ke,me,P)=>{P.d(me,{zg:()=>X});var u=P(4850),H=P(5254),N=P(1177);function X(ee,te,O=Number.POSITIVE_INFINITY){return"function"==typeof te?V=>V.pipe(X((U,ne)=>(0,H.D)(ee(U,ne)).pipe((0,u.U)((fe,He)=>te(U,fe,ne,He))),O)):("number"==typeof te&&(O=te),V=>V.lift(new ie(ee,O)))}class ie{constructor(te,O=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=O}call(te,O){return O.subscribe(new q(te,this.project,this.concurrent))}}class q extends N.Ds{constructor(te,O,V=Number.POSITIVE_INFINITY){super(te),this.project=O,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let O;const V=this.index++;try{O=this.project(te,V)}catch(U){return void this.destination.error(U)}this.active++,this._innerSub(O)}_innerSub(te){const O=new N.IY(this),V=this.destination;V.add(O);const U=(0,N.ft)(te,O);U!==O&&V.add(U)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(Ke,me,P)=>{P.d(me,{ht:()=>te,QV:()=>ge});var u=P(3489),H=P(8896),N=P(1086),X=P(1737);class q{constructor(U,ne,fe){this.kind=U,this.value=ne,this.error=fe,this.hasValue="N"===U}observe(U){switch(this.kind){case"N":return U.next&&U.next(this.value);case"E":return U.error&&U.error(this.error);case"C":return U.complete&&U.complete()}}do(U,ne,fe){switch(this.kind){case"N":return U&&U(this.value);case"E":return ne&&ne(this.error);case"C":return fe&&fe()}}accept(U,ne,fe){return U&&"function"==typeof U.next?this.observe(U):this.do(U,ne,fe)}toObservable(){switch(this.kind){case"N":return(0,N.of)(this.value);case"E":return(0,X._)(this.error);case"C":return(0,H.c)()}throw new Error("unexpected notification kind value")}static createNext(U){return typeof U<"u"?new q("N",U):q.undefinedValueNotification}static createError(U){return new q("E",void 0,U)}static createComplete(){return q.completeNotification}}function ge(V,U=0){return function(fe){return fe.lift(new ee(V,U))}}q.completeNotification=new q("C"),q.undefinedValueNotification=new q("N",void 0);class ee{constructor(U,ne=0){this.scheduler=U,this.delay=ne}call(U,ne){return ne.subscribe(new te(U,this.scheduler,this.delay))}}class te extends u.L{constructor(U,ne,fe=0){super(U),this.scheduler=ne,this.delay=fe}static dispatch(U){const{notification:ne,destination:fe}=U;ne.observe(fe),this.unsubscribe()}scheduleMessage(U){this.destination.add(this.scheduler.schedule(te.dispatch,this.delay,new O(U,this.destination)))}_next(U){this.scheduleMessage(q.createNext(U))}_error(U){this.scheduleMessage(q.createError(U)),this.unsubscribe()}_complete(){this.scheduleMessage(q.createComplete()),this.unsubscribe()}}class O{constructor(U,ne){this.notification=U,this.destination=ne}}},4327:(Ke,me,P)=>{P.d(me,{x:()=>H});var u=P(3489);function H(){return function(q){return q.lift(new N(q))}}class N{constructor(q){this.connectable=q}call(q,ge){const{connectable:ee}=this;ee._refCount++;const te=new X(q,ee),O=ge.subscribe(te);return te.closed||(te.connection=ee.connect()),O}}class X extends u.L{constructor(q,ge){super(q),this.connectable=ge}_unsubscribe(){const{connectable:q}=this;if(!q)return void(this.connection=null);this.connectable=null;const ge=q._refCount;if(ge<=0)return void(this.connection=null);if(q._refCount=ge-1,ge>1)return void(this.connection=null);const{connection:ee}=this,te=q._connection;this.connection=null,te&&(!ee||te===ee)&&te.unsubscribe()}}},2474:(Ke,me,P)=>{P.d(me,{B:()=>ge});var u=P(1762);class N{constructor(te,O){this.subjectFactory=te,this.selector=O}call(te,O){const{selector:V}=this,U=this.subjectFactory(),ne=V(U).subscribe(te);return ne.add(O.subscribe(U)),ne}}var X=P(4327),ie=P(8929);function q(){return new ie.xQ}function ge(){return ee=>(0,X.x)()(function H(ee,te){return function(V){let U;if(U="function"==typeof ee?ee:function(){return ee},"function"==typeof te)return V.lift(new N(U,te));const ne=Object.create(V,u.N);return ne.source=V,ne.subjectFactory=U,ne}}(q)(ee))}},8915:(Ke,me,P)=>{P.d(me,{R:()=>ae});var u=P(6498);let H=1;const N=Promise.resolve(),X={};function ie(he){return he in X&&(delete X[he],!0)}const q={setImmediate(he){const ce=H++;return X[ce]=!0,N.then(()=>ie(ce)&&he()),ce},clearImmediate(he){ie(he)}};var ee=P(6686),O=P(2268);const ne=new class V extends O.v{flush(ce){this.active=!0,this.scheduled=void 0;const{actions:Ue}=this;let at,Nt=-1,xt=Ue.length;ce=ce||Ue.shift();do{if(at=ce.execute(ce.state,ce.delay))break}while(++Nt<xt&&(ce=Ue.shift()));if(this.active=!1,at){for(;++Nt<xt&&(ce=Ue.shift());)ce.unsubscribe();throw at}}}(class te extends ee.o{constructor(ce,Ue){super(ce,Ue),this.scheduler=ce,this.work=Ue}requestAsyncId(ce,Ue,at=0){return null!==at&&at>0?super.requestAsyncId(ce,Ue,at):(ce.actions.push(this),ce.scheduled||(ce.scheduled=q.setImmediate(ce.flush.bind(ce,null))))}recycleAsyncId(ce,Ue,at=0){if(null!==at&&at>0||null===at&&this.delay>0)return super.recycleAsyncId(ce,Ue,at);0===ce.actions.length&&(q.clearImmediate(Ue),ce.scheduled=void 0)}});var fe=P(6688);class Ie extends u.y{constructor(ce,Ue=0,at=ne){super(),this.source=ce,this.delayTime=Ue,this.scheduler=at,(!function He(he){return!(0,fe.k)(he)&&he-parseFloat(he)+1>=0}(Ue)||Ue<0)&&(this.delayTime=0),(!at||"function"!=typeof at.schedule)&&(this.scheduler=ne)}static create(ce,Ue=0,at=ne){return new Ie(ce,Ue,at)}static dispatch(ce){const{source:Ue,subscriber:at}=ce;return this.add(Ue.subscribe(at))}_subscribe(ce){return this.scheduler.schedule(Ie.dispatch,this.delayTime,{source:this.source,subscriber:ce})}}function ae(he,ce=0){return function(at){return at.lift(new Te(he,ce))}}class Te{constructor(ce,Ue){this.scheduler=ce,this.delay=Ue}call(ce,Ue){return new Ie(Ue,this.delay,this.scheduler).subscribe(ce)}}},2868:(Ke,me,P)=>{P.d(me,{b:()=>X});var u=P(3489);function H(){}var N=P(7043);function X(ge,ee,te){return function(V){return V.lift(new ie(ge,ee,te))}}class ie{constructor(ee,te,O){this.nextOrObserver=ee,this.error=te,this.complete=O}call(ee,te){return te.subscribe(new q(ee,this.nextOrObserver,this.error,this.complete))}}class q extends u.L{constructor(ee,te,O,V){super(ee),this._tapNext=H,this._tapError=H,this._tapComplete=H,this._tapError=O||H,this._tapComplete=V||H,(0,N.m)(te)?(this._context=this,this._tapNext=te):te&&(this._context=te,this._tapNext=te.next||H,this._tapError=te.error||H,this._tapComplete=te.complete||H)}_next(ee){try{this._tapNext.call(this._context,ee)}catch(te){return void this.destination.error(te)}this.destination.next(ee)}_error(ee){try{this._tapError.call(this._context,ee)}catch(te){return void this.destination.error(te)}this.destination.error(ee)}_complete(){try{this._tapComplete.call(this._context)}catch(ee){return void this.destination.error(ee)}return this.destination.complete()}}},6454:(Ke,me,P)=>{P.d(me,{r:()=>N});var u=P(6498),H=P(2654);function N(X,ie){return new u.y(q=>{const ge=new H.w;let ee=0;return ge.add(ie.schedule(function(){ee!==X.length?(q.next(X[ee++]),q.closed||ge.add(this.schedule())):q.complete()})),ge})}},6686:(Ke,me,P)=>{P.d(me,{o:()=>N});var u=P(2654);class H extends u.w{constructor(ie,q){super()}schedule(ie,q=0){return this}}class N extends H{constructor(ie,q){super(ie,q),this.scheduler=ie,this.work=q,this.pending=!1}schedule(ie,q=0){if(this.closed)return this;this.state=ie;const ge=this.id,ee=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(ee,ge,q)),this.pending=!0,this.delay=q,this.id=this.id||this.requestAsyncId(ee,this.id,q),this}requestAsyncId(ie,q,ge=0){return setInterval(ie.flush.bind(ie,this),ge)}recycleAsyncId(ie,q,ge=0){if(null!==ge&&this.delay===ge&&!1===this.pending)return q;clearInterval(q)}execute(ie,q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ie,q);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,q){let ee,ge=!1;try{this.work(ie)}catch(te){ge=!0,ee=!!te&&te||new Error(te)}if(ge)return this.unsubscribe(),ee}_unsubscribe(){const ie=this.id,q=this.scheduler,ge=q.actions,ee=ge.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ee&&ge.splice(ee,1),null!=ie&&(this.id=this.recycleAsyncId(q,ie,null)),this.delay=null}}},2268:(Ke,me,P)=>{P.d(me,{v:()=>H});let u=(()=>{class N{constructor(ie,q=N.now){this.SchedulerAction=ie,this.now=q}schedule(ie,q=0,ge){return new this.SchedulerAction(this,ie).schedule(ge,q)}}return N.now=()=>Date.now(),N})();class H extends u{constructor(X,ie=u.now){super(X,()=>H.delegate&&H.delegate!==this?H.delegate.now():ie()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(X,ie=0,q){return H.delegate&&H.delegate!==this?H.delegate.schedule(X,ie,q):super.schedule(X,ie,q)}flush(X){const{actions:ie}=this;if(this.active)return void ie.push(X);let q;this.active=!0;do{if(q=X.execute(X.state,X.delay))break}while(X=ie.shift());if(this.active=!1,q){for(;X=ie.shift();)X.unsubscribe();throw q}}}},353:(Ke,me,P)=>{P.d(me,{P:()=>X,z:()=>N});var u=P(6686);const N=new(P(2268).v)(u.o),X=N},341:(Ke,me,P)=>{P.d(me,{c:()=>q,N:()=>ie});var u=P(6686),N=P(2268);const ie=new class X extends N.v{}(class H extends u.o{constructor(ee,te){super(ee,te),this.scheduler=ee,this.work=te}schedule(ee,te=0){return te>0?super.schedule(ee,te):(this.delay=te,this.state=ee,this.scheduler.flush(this),this)}execute(ee,te){return te>0||this.closed?super.execute(ee,te):this._execute(ee,te)}requestAsyncId(ee,te,O=0){return null!==O&&O>0||null===O&&this.delay>0?super.requestAsyncId(ee,te,O):ee.flush(this)}}),q=ie},5430:(Ke,me,P)=>{P.d(me,{hZ:()=>H});const H=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Ke,me,P)=>{P.d(me,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Ke,me,P)=>{P.d(me,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(Ke,me,P)=>{P.d(me,{N:()=>H});const H=(()=>{function N(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return N.prototype=Object.create(Error.prototype),N})()},2782:(Ke,me,P)=>{function u(H){setTimeout(()=>{throw H},0)}P.d(me,{z:()=>u})},5379:(Ke,me,P)=>{function u(H){return H}P.d(me,{y:()=>u})},6688:(Ke,me,P)=>{P.d(me,{k:()=>u});const u=Array.isArray||(H=>H&&"number"==typeof H.length)},8515:(Ke,me,P)=>{P.d(me,{z:()=>u});const u=H=>H&&"number"==typeof H.length&&"function"!=typeof H},7043:(Ke,me,P)=>{function u(H){return"function"==typeof H}P.d(me,{m:()=>u})},7830:(Ke,me,P)=>{function u(H){return null!==H&&"object"==typeof H}P.d(me,{K:()=>u})},8955:(Ke,me,P)=>{function u(H){return!!H&&"function"!=typeof H.subscribe&&"function"==typeof H.then}P.d(me,{t:()=>u})},2866:(Ke,me,P)=>{function u(H){return H&&"function"==typeof H.schedule}P.d(me,{K:()=>u})},4843:(Ke,me,P)=>{P.d(me,{U:()=>N,z:()=>H});var u=P(5379);function H(...X){return N(X)}function N(X){return 0===X.length?u.y:1===X.length?X[0]:function(q){return X.reduce((ge,ee)=>ee(ge),q)}}},9249:(Ke,me,P)=>{P.d(me,{s:()=>V});var u=P(3650),H=P(2782),X=P(5430),q=P(3821),ee=P(8515),te=P(8955),O=P(7830);const V=U=>{if(U&&"function"==typeof U[q.L])return(U=>ne=>{const fe=U[q.L]();if("function"!=typeof fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return fe.subscribe(ne)})(U);if((0,ee.z)(U))return(0,u.V)(U);if((0,te.t)(U))return(U=>ne=>(U.then(fe=>{ne.closed||(ne.next(fe),ne.complete())},fe=>ne.error(fe)).then(null,H.z),ne))(U);if(U&&"function"==typeof U[X.hZ])return(U=>ne=>{const fe=U[X.hZ]();for(;;){let He;try{He=fe.next()}catch(Ie){return ne.error(Ie),ne}if(He.done){ne.complete();break}if(ne.next(He.value),ne.closed)break}return"function"==typeof fe.return&&ne.add(()=>{fe.return&&fe.return()}),ne})(U);{const fe=`You provided ${(0,O.K)(U)?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(fe)}}},3650:(Ke,me,P)=>{P.d(me,{V:()=>u});const u=H=>N=>{for(let X=0,ie=H.length;X<ie&&!N.closed;X++)N.next(H[X]);N.complete()}},4650:(Ke,me,P)=>{P.d(me,{$8M:()=>Co,$WT:()=>An,$Z:()=>qy,AFp:()=>Wi,AaK:()=>ee,CHM:()=>Pu,CRH:()=>UE,CZH:()=>_u,CqO:()=>im,D6c:()=>rI,EJc:()=>nC,EpF:()=>Dv,F4k:()=>Tv,FYo:()=>Ey,FiY:()=>Q,G48:()=>Ja,GfV:()=>Kd,Gpc:()=>V,JOm:()=>wi,KtG:()=>aa,LFG:()=>Ae,LSH:()=>uf,Lbi:()=>h_,Lck:()=>a0,MMx:()=>bE,NdJ:()=>Uo,OlP:()=>jt,Oqu:()=>Qf,P3R:()=>dy,PXZ:()=>Pp,Q6J:()=>Uf,QGY:()=>Hf,Qsj:()=>Og,R0b:()=>hi,RDi:()=>ZC,Rgc:()=>Uc,SBq:()=>qd,Sil:()=>O0,Suo:()=>LE,TTD:()=>lo,TgZ:()=>rm,X6Q:()=>Kc,XFs:()=>Be,Xpm:()=>Ki,Xts:()=>fy,Y36:()=>Ba,YKP:()=>EE,YNc:()=>Cv,Yjl:()=>Yo,Yz7:()=>St,Z0I:()=>Wt,ZZ4:()=>C_,_Bn:()=>vE,_UZ:()=>jf,_Vd:()=>Zd,_c5:()=>EC,_uU:()=>zv,aQg:()=>Gp,c2e:()=>tC,cJS:()=>sr,cg1:()=>Mc,dDg:()=>kp,dqk:()=>ht,eFA:()=>Op,ekj:()=>fm,eoX:()=>oC,f3M:()=>Ve,g9A:()=>Mp,h0i:()=>xc,hGG:()=>nI,hij:()=>Jf,iGM:()=>Xm,ifc:()=>_e,ip1:()=>ps,jDz:()=>Vm,kL8:()=>rp,lG2:()=>si,lqb:()=>as,lri:()=>zc,n5z:()=>xl,oAB:()=>Yi,oxw:()=>om,q4F:()=>by,qLn:()=>cc,qOj:()=>gv,qZA:()=>Bf,rWj:()=>sC,s9C:()=>$f,sBO:()=>W0,sIi:()=>Ec,s_b:()=>Eh,soG:()=>Dh,tb:()=>eC,tp0:()=>Ee,uIk:()=>Cc,vHH:()=>ae,vpe:()=>di,wAp:()=>st,xp6:()=>mf,z2F:()=>Zc,zSh:()=>Fa,zs3:()=>tu});var u=P(8929),H=P(2654),N=P(6498),X=P(6787),ie=P(2474);function q(r){for(let s in r)if(r[s]===q)return s;throw Error("Could not find renamed property on target object.")}function ge(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function ee(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ee).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function te(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const O=q({__forward_ref__:q});function V(r){return r.__forward_ref__=V,r.toString=function(){return ee(this())},r}function U(r){return ne(r)?r():r}function ne(r){return"function"==typeof r&&r.hasOwnProperty(O)&&r.__forward_ref__===V}function fe(r){return r&&!!r.\u0275providers}const Ie="https://g.co/ng/security#xss";class ae extends Error{constructor(s,o){super(function Te(r,s){return`NG0${Math.abs(r)}${s?": "+s.trim():""}`}(s,o)),this.code=s}}function he(r){return"string"==typeof r?r:null==r?"":String(r)}function xt(r,s){throw new ae(-201,!1)}function Jt(r,s){null==r&&function lt(r,s,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,r,null,"!=")}function St(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function sr(r){return{providers:r.providers||[],imports:r.imports||[]}}function Vt(r){return ri(r,un)||ri(r,Bt)}function Wt(r){return null!==Vt(r)}function ri(r,s){return r.hasOwnProperty(s)?r[s]:null}function De(r){return r&&(r.hasOwnProperty(Tn)||r.hasOwnProperty(Xt))?r[Tn]:null}const un=q({\u0275prov:q}),Tn=q({\u0275inj:q}),Bt=q({ngInjectableDef:q}),Xt=q({ngInjectorDef:q});var Be=(()=>((Be=Be||{})[Be.Default=0]="Default",Be[Be.Host=1]="Host",Be[Be.Self=2]="Self",Be[Be.SkipSelf=4]="SkipSelf",Be[Be.Optional=8]="Optional",Be))();let or;function cn(r){const s=or;return or=r,s}function fn(r,s,o){const l=Vt(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Be.Optional?null:void 0!==s?s:void xt(ee(r))}const ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ln={},nn="__NG_DI_FLAG__",Ot="ngTempTokenPath",ii=/\n/gm,gr="__source";let ft;function Un(r){const s=ft;return ft=r,s}function pn(r,s=Be.Default){if(void 0===ft)throw new ae(-203,!1);return null===ft?fn(r,void 0,s):ft.get(r,s&Be.Optional?null:void 0,s)}function Ae(r,s=Be.Default){return(function zn(){return or}()||pn)(U(r),s)}function Ve(r,s=Be.Default){return Ae(r,ut(s))}function ut(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function _t(r){const s=[];for(let o=0;o<r.length;o++){const l=U(r[o]);if(Array.isArray(l)){if(0===l.length)throw new ae(900,!1);let c,f=Be.Default;for(let m=0;m<l.length;m++){const E=l[m],C=z(E);"number"==typeof C?-1===C?c=E.token:f|=C:c=E}s.push(Ae(c,f))}else s.push(Ae(l))}return s}function bt(r,s){return r[nn]=s,r.prototype[nn]=s,r}function z(r){return r[nn]}function j(r){return{toString:r}.toString()}var k=(()=>((k=k||{})[k.OnPush=0]="OnPush",k[k.Default=1]="Default",k))(),_e=(()=>{return(r=_e||(_e={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",_e;var r})();const We={},Re=[],pt=q({\u0275cmp:q}),Je=q({\u0275dir:q}),qt=q({\u0275pipe:q}),Rn=q({\u0275mod:q}),rt=q({\u0275fac:q}),Zn=q({__NG_ELEMENT_ID__:q});let ol=0;function Ki(r){return j(()=>{const o=!0===r.standalone,l={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===k.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||Re,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||_e.Emulated,id:"c"+ol++,styles:r.styles||Re,_:null,setInput:null,schemas:r.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},f=r.dependencies,m=r.features;return c.inputs=pi(r.inputs,l),c.outputs=pi(r.outputs),m&&m.forEach(E=>E(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(ll).filter(Tu):null,c.pipeDefs=f?()=>("function"==typeof f?f():f).map(En).filter(Tu):null,c})}function ll(r){return Rt(r)||dn(r)}function Tu(r){return null!==r}function Yi(r){return j(()=>({type:r.type,bootstrap:r.bootstrap||Re,declarations:r.declarations||Re,imports:r.imports||Re,exports:r.exports||Re,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function pi(r,s){if(null==r)return We;const o={};for(const l in r)if(r.hasOwnProperty(l)){let c=r[l],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),o[c]=l,s&&(s[c]=f)}return o}const si=Ki;function Yo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Rt(r){return r[pt]||null}function dn(r){return r[Je]||null}function En(r){return r[qt]||null}function An(r){const s=Rt(r)||dn(r)||En(r);return null!==s&&s.standalone}function mr(r,s){const o=r[Rn]||null;if(!o&&!0===s)throw new Error(`Type ${ee(r)} does not have '\u0275mod' property.`);return o}function qn(r){return Array.isArray(r)&&"object"==typeof r[1]}function Sr(r){return Array.isArray(r)&&!0===r[1]}function cl(r){return 0!=(4&r.flags)}function Ji(r){return r.componentOffset>-1}function dl(r){return 1==(1&r.flags)}function lr(r){return null!==r.template}function ad(r){return 0!=(256&r[2])}function Pi(r,s){return r.hasOwnProperty(rt)?r[rt]:null}class Ar{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function lo(){return uo}function uo(r){return r.type.prototype.ngOnChanges&&(r.setInput=hd),bs}function bs(){const r=Kr(this),s=r?.current;if(s){const o=r.previous;if(o===We)r.previous=s;else for(let l in s)o[l]=s[l];r.current=null,this.ngOnChanges(s)}}function hd(r,s,o,l){const c=this.declaredInputs[o],f=Kr(r)||function xi(r,s){return r[ws]=s}(r,{previous:We,current:null}),m=f.current||(f.current={}),E=f.previous,C=E[c];m[c]=new Ar(C&&C.currentValue,s,E===We),r[l]=s}lo.ngInherit=!0;const ws="__ngSimpleChanges__";function Kr(r){return r[ws]||null}function en(r){for(;Array.isArray(r);)r=r[0];return r}function _i(r,s){return en(s[r])}function vr(r,s){return en(s[r.index])}function Is(r,s){return r.data[s]}function Kn(r,s){const o=s[r];return qn(o)?o:o[0]}function co(r){return 64==(64&r[2])}function Yr(r,s){return null==s?null:r[s]}function sa(r){r[18]=0}function ho(r,s){r[5]+=s;let o=r,l=r[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const gt={lFrame:Uu(null),bindingsEnabled:!0};function oa(){return gt.bindingsEnabled}function ye(){return gt.lFrame.lView}function Mt(){return gt.lFrame.tView}function Pu(r){return gt.lFrame.contextLView=r,r[8]}function aa(r){return gt.lFrame.contextLView=null,r}function jn(){let r=Ss();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ss(){return gt.lFrame.currentTNode}function Lr(r,s){const o=gt.lFrame;o.currentTNode=r,o.isParent=s}function ua(){return gt.lFrame.isParent}function Qr(){return gt.lFrame.bindingIndex++}function da(r,s){const o=gt.lFrame;o.bindingIndex=o.bindingRootIndex=r,ha(s)}function ha(r){gt.lFrame.currentDirectiveIndex=r}function El(){return gt.lFrame.currentQueryIndex}function Cl(r){gt.lFrame.currentQueryIndex=r}function Lu(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function bl(r,s,o){if(o&Be.SkipSelf){let c=s,f=r;for(;!(c=c.parent,null!==c||o&Be.Host||(c=Lu(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,r=f}const l=gt.lFrame=pd();return l.currentTNode=s,l.lView=r,!0}function fa(r){const s=pd(),o=r[1];gt.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function pd(){const r=gt.lFrame,s=null===r?null:r.child;return null===s?Uu(r):s}function Uu(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Lh(){const r=gt.lFrame;return gt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Rs=Lh;function gd(){const r=Lh();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Yn(){return gt.lFrame.selectedIndex}function ks(r){gt.lFrame.selectedIndex=r}function tn(){const r=gt.lFrame;return Is(r.tView,r.selectedIndex)}function Xi(r,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const f=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:D,ngOnDestroy:R}=f;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),E&&((r.contentHooks||(r.contentHooks=[])).push(o,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,E)),C&&(r.viewHooks||(r.viewHooks=[])).push(-o,C),D&&((r.viewHooks||(r.viewHooks=[])).push(o,D),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,D)),null!=R&&(r.destroyHooks||(r.destroyHooks=[])).push(o,R)}}function Vr(r,s,o){Dl(r,s,3,o)}function ga(r,s,o,l){(3&r[2])===o&&Dl(r,s,o,l)}function Mr(r,s){let o=r[2];(3&o)===s&&(o&=2047,o+=1,r[2]=o)}function Dl(r,s,o,l){const f=l??-1,m=s.length-1;let E=0;for(let C=void 0!==l?65535&r[18]:0;C<m;C++)if("number"==typeof s[C+1]){if(E=s[C],null!=l&&E>=l)break}else s[C]<0&&(r[18]+=65536),(E<f||-1==f)&&(Bu(r,o,s,C),r[18]=(4294901760&r[18])+C+2),C++}function Bu(r,s,o,l){const c=o[l]<0,f=o[l+1],E=r[c?-o[l]:o[l]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{f.call(E)}finally{}}}else try{f.call(E)}finally{}}class fo{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function ma(r,s,o){let l=0;for(;l<o.length;){const c=o[l];if("number"==typeof c){if(0!==c)break;l++;const f=o[l++],m=o[l++],E=o[l++];r.setAttribute(s,m,E,f)}else{const f=c,m=o[++l];Ps(f)?r.setProperty(s,f,m):r.setAttribute(s,f,m),l++}}return l}function go(r){return 3===r||4===r||6===r}function Ps(r){return 64===r.charCodeAt(0)}function Er(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?o=c:0===o||_a(r,o,c,null,-1===o||2===o?s[++l]:null)}}return r}function _a(r,s,o,l,c){let f=0,m=r.length;if(-1===s)m=-1;else for(;f<r.length;){const E=r[f++];if("number"==typeof E){if(E===s){m=-1;break}if(E>s){m=f-1;break}}}for(;f<r.length;){const E=r[f];if("number"==typeof E)break;if(E===o){if(null===l)return void(null!==c&&(r[f+1]=c));if(l===r[f+1])return void(r[f+2]=c)}f++,null!==l&&f++,null!==c&&f++}-1!==m&&(r.splice(m,0,s),f=m+1),r.splice(f++,0,o),null!==l&&r.splice(f++,0,l),null!==c&&r.splice(f++,0,c)}function Hu(r){return-1!==r}function ya(r){return 32767&r}function xs(r,s){let o=function Ml(r){return r>>16}(r),l=s;for(;o>0;)l=l[15],o--;return l}let Fi=!0;function Li(r){const s=Fi;return Fi=r,s}let $u=0;const Br={};function _o(r,s){const o=Gu(r,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(r.injectorIndex=s.length,es(l.data,r),es(s,null),es(l.blueprint,null));const c=Fs(r,s),f=r.injectorIndex;if(Hu(c)){const m=ya(c),E=xs(c,s),C=E[1].data;for(let D=0;D<8;D++)s[f+D]=E[m+D]|C[m+D]}return s[f+8]=c,f}function es(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Gu(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Fs(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,c=s;for(;null!==c;){if(l=vd(c),null===l)return-1;if(o++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Rl(r,s,o){!function yd(r,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Zn)&&(l=o[Zn]),null==l&&(l=o[Zn]=$u++);const c=255&l;s.data[r+(c>>5)]|=1<<c}(r,s,o)}function vo(r,s,o){if(o&Be.Optional||void 0!==r)return r;xt()}function kl(r,s,o,l){if(o&Be.Optional&&void 0===l&&(l=null),!(o&(Be.Self|Be.Host))){const c=r[9],f=cn(void 0);try{return c?c.get(s,l,o&Be.Optional):fn(s,l,o&Be.Optional)}finally{cn(f)}}return vo(l,0,o)}function _n(r,s,o,l=Be.Default,c){if(null!==r){if(1024&s[2]){const m=function Ol(r,s,o,l,c){let f=r,m=s;for(;null!==f&&null!==m&&1024&m[2]&&!(256&m[2]);){const E=vi(f,m,o,l|Be.Self,Br);if(E!==Br)return E;let C=f.parent;if(!C){const D=m[21];if(D){const R=D.get(o,Br,l);if(R!==Br)return R}C=vd(m),m=m[15]}f=C}return c}(r,s,o,l,Br);if(m!==Br)return m}const f=vi(r,s,o,l,Br);if(f!==Br)return f}return kl(s,o,l,c)}function vi(r,s,o,l,c){const f=function Nl(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Zn)?r[Zn]:void 0;return"number"==typeof s?s>=0?255&s:Ca:s}(o);if("function"==typeof f){if(!bl(s,r,l))return l&Be.Host?vo(c,0,l):kl(s,o,l,c);try{const m=f(l);if(null!=m||l&Be.Optional)return m;xt()}finally{Rs()}}else if("number"==typeof f){let m=null,E=Gu(r,s),C=-1,D=l&Be.Host?s[16][6]:null;for((-1===E||l&Be.SkipSelf)&&(C=-1===E?Fs(r,s):s[E+8],-1!==C&&Hr(l,!1)?(m=s[1],E=ya(C),s=xs(C,s)):E=-1);-1!==E;){const R=s[1];if(Pl(f,E,R.data)){const L=Ea(E,s,o,m,l,D);if(L!==Br)return L}C=s[E+8],-1!==C&&Hr(l,s[1].data[E+8]===D)&&Pl(f,E,s)?(m=R,E=ya(C),s=xs(C,s)):E=-1}}return c}function Ea(r,s,o,l,c,f){const m=s[1],E=m.data[r+8],R=Eo(E,m,o,null==l?Ji(E)&&Fi:l!=m&&0!=(3&E.type),c&Be.Host&&f===E);return null!==R?jr(s,m,R,E):Br}function Eo(r,s,o,l,c){const f=r.providerIndexes,m=s.data,E=1048575&f,C=r.directiveStart,R=f>>20,K=c?E+R:r.directiveEnd;for(let re=l?E:E+R;re<K;re++){const de=m[re];if(re<C&&o===de||re>=C&&de.type===o)return re}if(c){const re=m[C];if(re&&lr(re)&&re.type===o)return C}return null}function jr(r,s,o,l){let c=r[o];const f=s.data;if(function Rr(r){return r instanceof fo}(c)){const m=c;m.resolving&&function Ue(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new ae(-200,`Circular dependency in DI detected for ${r}${o}`)}(function ce(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():he(r)}(f[o]));const E=Li(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?cn(m.injectImpl):null;bl(r,l,Be.Default);try{c=r[o]=m.factory(void 0,f,r,l),s.firstCreatePass&&o>=l.directiveStart&&function md(r,s,o){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(l){const m=uo(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,f))}(o,f[o],s)}finally{null!==C&&cn(C),Li(E),m.resolving=!1,Rs()}}return c}function Pl(r,s,o){return!!(o[s+(r>>5)]&1<<r)}function Hr(r,s){return!(r&Be.Self||r&Be.Host&&s)}class Ei{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return _n(this._tNode,this._lView,s,ut(l),o)}}function Ca(){return new Ei(jn(),ye())}function xl(r){return j(()=>{const s=r.prototype.constructor,o=s[rt]||Ls(s),l=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==l;){const f=c[rt]||Ls(c);if(f&&f!==o)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Ls(r){return ne(r)?()=>{const s=Ls(U(r));return s&&s()}:Pi(r)}function vd(r){const s=r[1],o=s.type;return 2===o?s.declTNode:1===o?r[6]:null}function Co(r){return function yo(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const l=o.length;let c=0;for(;c<l;){const f=o[c];if(go(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<l&&"string"==typeof o[c];)c++;else{if(f===s)return o[c+1];c+=2}}}return null}(jn(),r)}const ts="__parameters__";function Us(r,s,o){return j(()=>{const l=function zu(r){return function(...o){if(r){const l=r(...o);for(const c in l)this[c]=l[c]}}}(s);function c(...f){if(this instanceof c)return l.apply(this,f),this;const m=new c(...f);return E.annotation=m,E;function E(C,D,R){const L=C.hasOwnProperty(ts)?C[ts]:Object.defineProperty(C,ts,{value:[]})[ts];for(;L.length<=R;)L.push(null);return(L[R]=L[R]||[]).push(m),C}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class jt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=St({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Io(r,s){r.forEach(o=>Array.isArray(o)?Io(o,s):s(o))}function Hh(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function qu(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function xe(r,s,o){let l=Ci(r,s);return l>=0?r[1|l]=o:(l=~l,function Id(r,s,o,l){let c=r.length;if(c==s)r.push(o,l);else if(1===c)r.push(l,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>s;)r[c]=r[c-2],c--;r[s]=o,r[s+1]=l}}(r,l,s,o)),l}function Jn(r,s){const o=Ci(r,s);if(o>=0)return r[1|o]}function Ci(r,s){return function Ll(r,s,o){let l=0,c=r.length>>o;for(;c!==l;){const f=l+(c-l>>1),m=r[f<<o];if(s===m)return f<<o;m>s?c=f:l=f+1}return~(c<<o)}(r,s,1)}const Q=bt(Us("Optional"),8),Ee=bt(Us("SkipSelf"),4);var wi=(()=>((wi=wi||{})[wi.Important=1]="Important",wi[wi.DashCase=2]="DashCase",wi))();const Hl=new Map;let ug=0;const Xu="__ngContext__";function tt(r,s){qn(s)?(r[Xu]=s[20],function Kh(r){Hl.set(r[20],r)}(s)):r[Xu]=s}function Sa(r,s){return undefined(r,s)}function Aa(r){const s=r[3];return Sr(s)?s[3]:s}function $l(r){return Gl(r[13])}function Od(r){return Gl(r[4])}function Gl(r){for(;null!==r&&!Sr(r);)r=r[4];return r}function Ao(r,s,o,l,c){if(null!=l){let f,m=!1;Sr(l)?f=l:qn(l)&&(m=!0,l=l[0]);const E=en(l);0===r&&null!==o?null==c?Se(s,o,E):ke(s,o,E,c||null,!0):1===r&&null!==o?ke(s,o,E,c||null,!0):2===r?function Vd(r,s,o){const l=nr(r,s);l&&function Ut(r,s,o,l){r.removeChild(s,o,l)}(r,l,s,o)}(s,E,m):3===r&&s.destroyNode(E),null!=f&&function ic(r,s,o,l,c){const f=o[7];f!==en(o)&&Ao(s,r,l,f,c);for(let E=10;E<o.length;E++){const C=o[E];ql(C[1],C,r,s,l,f)}}(s,r,f,o,c)}}function Ro(r,s,o){return r.createElement(s,o)}function _(r,s){const o=r[9],l=o.indexOf(s),c=s[3];512&s[2]&&(s[2]&=-513,ho(c,-1)),o.splice(l,1)}function h(r,s){if(r.length<=10)return;const o=10+s,l=r[o];if(l){const c=l[17];null!==c&&c!==r&&_(c,l),s>0&&(r[o-1][4]=l[4]);const f=qu(r,10+s);!function fg(r,s){ql(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const m=f[19];null!==m&&m.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function g(r,s){if(!(128&s[2])){const o=s[11];o.destroyNode&&ql(r,s,o,3,null,null),function Ma(r){let s=r[13];if(!s)return y(r[1],r);for(;s;){let o=null;if(qn(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==r;)qn(s)&&y(s[1],s),s=s[3];null===s&&(s=r),qn(s)&&y(s[1],s),o=s&&s[4]}s=o}}(s)}}function y(r,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function A(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const c=s[o[l]];if(!(c instanceof fo)){const f=o[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const E=c[f[m]],C=f[m+1];try{C.call(E)}finally{}}else try{f.call(c)}finally{}}}}(r,s),function T(r,s){const o=r.cleanup,l=s[7];let c=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const m=o[f+3];m>=0?l[c=m]():l[c=-m].unsubscribe(),f+=2}else{const m=l[c=o[f+1]];o[f].call(m)}if(null!==l){for(let f=c+1;f<l.length;f++)(0,l[f])();s[7]=null}}(r,s),1===s[1].type&&s[11].destroy();const o=s[17];if(null!==o&&Sr(s[3])){o!==s[3]&&_(o,s);const l=s[19];null!==l&&l.detachView(r)}!function Ju(r){Hl.delete(r[20])}(s)}}function Z(r,s,o){return function le(r,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:f}=r.data[l.directiveStart+c];if(f===_e.None||f===_e.Emulated)return null}return vr(l,o)}}(r,s.parent,o)}function ke(r,s,o,l,c){r.insertBefore(s,o,l,c)}function Se(r,s,o){r.appendChild(s,o)}function et(r,s,o,l,c){null!==l?ke(r,s,o,l,c):Se(r,s,o)}function nr(r,s){return r.parentNode(s)}let jd,Hd,Ld=function nc(r,s,o){return 40&r.type?vr(r,o):null};function zl(r,s,o,l){const c=Z(r,l,s),f=s[11],E=function Wl(r,s,o){return Ld(r,s,o)}(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(o))for(let C=0;C<o.length;C++)et(f,c,o[C],E,!1);else et(f,c,o,E,!1)}function Ii(r,s){if(null!==s){const o=s.type;if(3&o)return vr(s,r);if(4&o)return Ud(-1,r[s.index]);if(8&o){const l=s.child;if(null!==l)return Ii(r,l);{const c=r[s.index];return Sr(c)?Ud(-1,c):en(c)}}if(32&o)return Sa(s,r)()||en(r[s.index]);{const l=ka(r,s);return null!==l?Array.isArray(l)?l[0]:Ii(Aa(r[16]),l):Ii(r,s.next)}}return null}function ka(r,s){return null!==s?r[16][6].projection[s.projection]:null}function Ud(r,s){const o=10+r+1;if(o<s.length){const l=s[o],c=l[1].firstChild;if(null!==c)return Ii(l,c)}return s[7]}function Zl(r,s,o,l,c,f,m){for(;null!=o;){const E=l[o.index],C=o.type;if(m&&0===s&&(E&&tt(en(E),l),o.flags|=2),32!=(32&o.flags))if(8&C)Zl(r,s,o.child,l,c,f,!1),Ao(s,r,c,E,f);else if(32&C){const D=Sa(o,l);let R;for(;R=D();)Ao(s,r,c,R,f);Ao(s,r,c,E,f)}else 16&C?rc(r,s,l,o,c,f):Ao(s,r,c,E,f);o=m?o.projectionNext:o.next}}function ql(r,s,o,l,c,f){Zl(o,l,r.firstChild,s,c,f,!1)}function rc(r,s,o,l,c,f){const m=o[16],C=m[6].projection[l.projection];if(Array.isArray(C))for(let D=0;D<C.length;D++)Ao(s,r,c,C[D],f);else Zl(r,s,C,m[3],c,f,!0)}function mg(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function Kl(r,s,o){const{mergedAttrs:l,classes:c,styles:f}=o;null!==l&&ma(r,s,l),null!==c&&mg(r,s,c),null!==f&&function ry(r,s,o){r.setAttribute(s,"style",o)}(r,s,f)}function ZC(r){jd=r}function Pa(r){return function Yl(){if(void 0===Hd&&(Hd=null,ht.trustedTypes))try{Hd=ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Hd}()?.createScriptURL(r)||r}class $d{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ie})`}}function xa(r){return r instanceof $d?r.changingThisBreaksApplicationSecurity:r}function Gd(r,s){const o=function QC(r){return r instanceof $d&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${Ie})`)}return o===s}const tD=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Hn=(()=>((Hn=Hn||{})[Hn.NONE=0]="NONE",Hn[Hn.HTML=1]="HTML",Hn[Hn.STYLE=2]="STYLE",Hn[Hn.SCRIPT=3]="SCRIPT",Hn[Hn.URL=4]="URL",Hn[Hn.RESOURCE_URL=5]="RESOURCE_URL",Hn))();function uf(r){const s=df();return s?s.sanitize(Hn.URL,r)||"":Gd(r,"URL")?xa(r):function Cg(r){return(r=String(r)).match(tD)?r:"unsafe:"+r}(he(r))}function cy(r){const s=df();if(s)return Pa(s.sanitize(Hn.RESOURCE_URL,r)||"");if(Gd(r,"ResourceURL"))return Pa(xa(r));throw new ae(904,!1)}function dy(r,s,o){return function rb(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?cy:uf}(s,o)(r)}function df(){const r=ye();return r&&r[12]}const fy=new jt("ENVIRONMENT_INITIALIZER"),sb=new jt("INJECTOR",-1),ob=new jt("INJECTOR_DEF_TYPES");class hf{get(s,o=Ln){if(o===Ln){const l=new Error(`NullInjectorError: No provider for ${ee(s)}!`);throw l.name="NullInjectorError",l}return o}}function ab(...r){return{\u0275providers:py(0,r),\u0275fromNgModule:!0}}function py(r,...s){const o=[],l=new Set;let c;return Io(s,f=>{const m=f;ui(m,o,[],l)&&(c||(c=[]),c.push(m))}),void 0!==c&&ff(c,o),o}function ff(r,s){for(let o=0;o<r.length;o++){const{providers:c}=r[o];Xl(c,f=>{s.push(f)})}}function ui(r,s,o,l){if(!(r=U(r)))return!1;let c=null,f=De(r);const m=!f&&Rt(r);if(f||m){if(m&&!m.standalone)return!1;c=r}else{const C=r.ngModule;if(f=De(C),!f)return!1;c=C}const E=l.has(c);if(m){if(E)return!1;if(l.add(c),m.dependencies){const C="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const D of C)ui(D,s,o,l)}}else{if(!f)return!1;{if(null!=f.imports&&!E){let D;l.add(c);try{Io(f.imports,R=>{ui(R,s,o,l)&&(D||(D=[]),D.push(R))})}finally{}void 0!==D&&ff(D,s)}if(!E){const D=Pi(c)||(()=>new c);s.push({provide:c,useFactory:D,deps:Re},{provide:ob,useValue:c,multi:!0},{provide:fy,useValue:()=>Ae(c),multi:!0})}const C=f.providers;null==C||E||Xl(C,R=>{s.push(R)})}}return c!==r&&void 0!==r.providers}function Xl(r,s){for(let o of r)fe(o)&&(o=o.\u0275providers),Array.isArray(o)?Xl(o,s):s(o)}const ub=q({provide:String,useValue:q});function Rg(r){return null!==r&&"object"==typeof r&&ub in r}function eu(r){return"function"==typeof r}const Fa=new jt("Set Injector scope."),La={},db={};let Ng;function Ua(){return void 0===Ng&&(Ng=new hf),Ng}class as{}class gy extends as{get destroyed(){return this._destroyed}constructor(s,o,l,c){super(),this.parent=o,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oc(s,m=>this.processProvider(m)),this.records.set(sb,sc(void 0,this)),c.has("environment")&&this.records.set(as,sc(void 0,this));const f=this.records.get(Fa);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(ob.multi,Re,Be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=Un(this),l=cn(void 0);try{return s()}finally{Un(o),cn(l)}}get(s,o=Ln,l=Be.Default){this.assertNotDestroyed(),l=ut(l);const c=Un(this),f=cn(void 0);try{if(!(l&Be.SkipSelf)){let E=this.records.get(s);if(void 0===E){const C=function xg(r){return"function"==typeof r||"object"==typeof r&&r instanceof jt}(s)&&Vt(s);E=C&&this.injectableDefInScope(C)?sc(Pg(s),La):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(l&Be.Self?Ua():this.parent).get(s,o=l&Be.Optional&&o===Ln?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Ot]=m[Ot]||[]).unshift(ee(s)),c)throw m;return function G(r,s,o,l){const c=r[Ot];throw s[gr]&&c.unshift(s[gr]),r.message=function Y(r,s,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let c=ee(s);if(Array.isArray(s))c=s.map(ee).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let E=s[m];f.push(m+":"+("string"==typeof E?JSON.stringify(E):ee(E)))}c=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${c}]: ${r.replace(ii,"\n  ")}`}("\n"+r.message,c,o,l),r.ngTokenPath=c,r[Ot]=null,r}(m,s,"R3InjectorError",this.source)}throw m}finally{cn(f),Un(c)}}resolveInjectorInitializers(){const s=Un(this),o=cn(void 0);try{const l=this.get(fy.multi,Re,Be.Self);for(const c of l)c()}finally{Un(s),cn(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(ee(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(s){let o=eu(s=U(s))?s:U(s&&s.provide);const l=function fb(r){return Rg(r)?sc(void 0,r.useValue):sc(my(r),La)}(s);if(eu(s)||!0!==s.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=sc(void 0,La,!0),c.factory=()=>_t(c.multi),this.records.set(o,c)),o=s,c.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===La&&(o.value=db,o.value=o.factory()),"object"==typeof o.value&&o.value&&function pb(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=U(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Pg(r){const s=Vt(r),o=null!==s?s.factory:Pi(r);if(null!==o)return o;if(r instanceof jt)throw new ae(204,!1);if(r instanceof Function)return function hb(r){const s=r.length;if(s>0)throw function Da(r,s){const o=[];for(let l=0;l<r;l++)o.push(s);return o}(s,"?"),new ae(204,!1);const o=function Dr(r){const s=r&&(r[un]||r[Bt]);if(s){const o=function Tr(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new ae(204,!1)}function my(r,s,o){let l;if(eu(r)){const c=U(r);return Pi(c)||Pg(c)}if(Rg(r))l=()=>U(r.useValue);else if(function zd(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(..._t(r.deps||[]));else if(function kg(r){return!(!r||!r.useExisting)}(r))l=()=>Ae(U(r.useExisting));else{const c=U(r&&(r.useClass||r.provide));if(!function sD(r){return!!r.deps}(r))return Pi(c)||Pg(c);l=()=>new c(..._t(r.deps))}return l}function sc(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function oc(r,s){for(const o of r)Array.isArray(o)?oc(o,s):o&&fe(o)?oc(o.\u0275providers,s):s(o)}class ac{}class _y{}class mb{resolveComponentFactory(s){throw function gb(r){const s=Error(`No component factory found for ${ee(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let Zd=(()=>{class r{}return r.NULL=new mb,r})();function _b(){return lc(jn(),ye())}function lc(r,s){return new qd(vr(r,s))}let qd=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=_b,r})();function vy(r){return r instanceof qd?r.nativeElement:r}class Ey{}let Og=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function Cy(){const r=ye(),o=Kn(jn().index,r);return(qn(o)?o:r)[11]}(),r})(),Fg=(()=>{class r{}return r.\u0275prov=St({token:r,providedIn:"root",factory:()=>null}),r})();class Kd{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const by=new Kd("15.1.0"),Lg={};function uc(r){return r.ngOriginalError}class cc{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&uc(s);for(;o&&uc(o);)o=uc(o);return o||null}}function Po(r){return r instanceof Function?r():r}function Sy(r,s,o){let l=r.length;for(;;){const c=r.indexOf(s,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const f=s.length;if(c+f===l||r.charCodeAt(c+f)<=32)return c}o=c+1}}const Ay="ng-template";function wb(r,s,o){let l=0;for(;l<r.length;){let c=r[l++];if(o&&"class"===c){if(c=r[l],-1!==Sy(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<r.length&&"string"==typeof(c=r[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function My(r){return 4===r.type&&r.value!==Ay}function Ry(r,s,o){return s===(4!==r.type||o?r.value:Ay)}function Ib(r,s,o){let l=4;const c=r.attrs||[],f=function Py(r){for(let s=0;s<r.length;s++)if(go(r[s]))return s;return r.length}(c);let m=!1;for(let E=0;E<s.length;E++){const C=s[E];if("number"!=typeof C){if(!m)if(4&l){if(l=2|1&l,""!==C&&!Ry(r,C,o)||""===C&&1===s.length){if(Hi(l))return!1;m=!0}}else{const D=8&l?C:s[++E];if(8&l&&null!==r.attrs){if(!wb(r.attrs,D,o)){if(Hi(l))return!1;m=!0}continue}const L=ky(8&l?"class":C,c,My(r),o);if(-1===L){if(Hi(l))return!1;m=!0;continue}if(""!==D){let K;K=L>f?"":c[L+1].toLowerCase();const re=8&l?K:null;if(re&&-1!==Sy(re,D,0)||2&l&&D!==K){if(Hi(l))return!1;m=!0}}}}else{if(!m&&!Hi(l)&&!Hi(C))return!1;if(m&&Hi(C))continue;m=!1,l=C|1&l}}return Hi(l)||m}function Hi(r){return 0==(1&r)}function ky(r,s,o,l){if(null===s)return-1;let c=0;if(l||!o){let f=!1;for(;c<s.length;){const m=s[c];if(m===r)return c;if(3===m||6===m)f=!0;else{if(1===m||2===m){let E=s[++c];for(;"string"==typeof E;)E=s[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=f?1:2}return-1}return function Tb(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,r)}function Db(r,s,o=!1){for(let l=0;l<s.length;l++)if(Ib(r,s[l],o))return!0;return!1}function xy(r,s){return r?":not("+s.trim()+")":s}function Ab(r){let s=r[0],o=1,l=2,c="",f=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&l){const E=r[++o];c+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?c+="."+m:4&l&&(c+=" "+m);else""!==c&&!Hi(m)&&(s+=xy(f,c),c=""),l=m,f=f||!Hi(l);o++}return""!==c&&(s+=xy(f,c)),s}const Ct={};function mf(r){Oy(Mt(),ye(),Yn()+r,!1)}function Oy(r,s,o,l){if(!l)if(3==(3&s[2])){const f=r.preOrderCheckHooks;null!==f&&Vr(s,f,o)}else{const f=r.preOrderHooks;null!==f&&ga(s,f,0,o)}ks(o)}function Vy(r,s=null,o=null,l){const c=By(r,s,o,l);return c.resolveInjectorInitializers(),c}function By(r,s=null,o=null,l,c=new Set){const f=[o||Re,ab(r)];return l=l||("object"==typeof r?void 0:ee(r)),new gy(f,s||Ua(),l||null,c)}let tu=(()=>{class r{static create(o,l){if(Array.isArray(o))return Vy({name:""},l,o,"");{const c=o.name??"";return Vy({name:c},o.parent,o.providers,c)}}}return r.THROW_IF_NOT_FOUND=Ln,r.NULL=new hf,r.\u0275prov=St({token:r,providedIn:"any",factory:()=>Ae(sb)}),r.__NG_ELEMENT_ID__=-1,r})();function Ba(r,s=Be.Default){const o=ye();return null===o?Ae(r,s):_n(jn(),o,U(r),s)}function qy(){throw new Error("invalid")}function Ky(r,s){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const f=o[l+1];if(-1!==f){const m=r.data[f];Cl(o[l]),m.contentQueries(2,s[f],f)}}}function Gg(r,s,o,l,c,f,m,E,C,D,R){const L=s.blueprint.slice();return L[0]=c,L[2]=76|l,(null!==R||r&&1024&r[2])&&(L[2]|=1024),sa(L),L[3]=L[15]=r,L[8]=o,L[10]=m||r&&r[10],L[11]=E||r&&r[11],L[12]=C||r&&r[12]||null,L[9]=D||r&&r[9]||null,L[6]=f,L[20]=function cg(){return ug++}(),L[21]=R,L[16]=2==s.type?r[16]:L,L}function Jd(r,s,o,l,c){let f=r.data[s];if(null===f)f=function nu(r,s,o,l,c){const f=Ss(),m=ua(),C=r.data[s]=function fD(r,s,o,l,c,f){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,o,s,l,c);return null===r.firstChild&&(r.firstChild=C),null!==f&&(m?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C)),C}(r,s,o,l,c),function Ou(){return gt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=l,f.attrs=c;const m=function la(){const r=gt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Lr(f,!0),f}function Cf(r,s,o,l){if(0===o)return-1;const c=s.length;for(let f=0;f<o;f++)s.push(l),r.blueprint.push(l),r.data.push(null);return c}function bf(r,s,o){fa(s);try{const l=r.viewQuery;null!==l&&th(1,l,o);const c=r.template;null!==c&&Qy(r,s,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Ky(r,s),r.staticViewQueries&&th(2,r.viewQuery,o);const f=r.components;null!==f&&function jb(r,s){for(let o=0;o<s.length;o++)fv(r,s[o])}(s,f)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[2]&=-5,gd()}}function wf(r,s,o,l){const c=s[2];if(128!=(128&c)){fa(s);try{sa(s),function fd(r){return gt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Qy(r,s,o,2,l);const m=3==(3&c);if(m){const D=r.preOrderCheckHooks;null!==D&&Vr(s,D,null)}else{const D=r.preOrderHooks;null!==D&&ga(s,D,0,null),Mr(s,0)}if(function dv(r){for(let s=$l(r);null!==s;s=Od(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const c=o[l];512&c[2]||ho(c[3],1),c[2]|=512}}}(s),function Tf(r){for(let s=$l(r);null!==s;s=Od(s))for(let o=10;o<s.length;o++){const l=s[o],c=l[1];co(l)&&wf(c,l,c.template,l[8])}}(s),null!==r.contentQueries&&Ky(r,s),m){const D=r.contentCheckHooks;null!==D&&Vr(s,D)}else{const D=r.contentHooks;null!==D&&ga(s,D,1),Mr(s,1)}!function Bb(r,s){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const c=o[l];if(c<0)ks(~c);else{const f=c,m=o[++l],E=o[++l];da(m,f),E(2,s[f])}}}finally{ks(-1)}}(r,s);const E=r.components;null!==E&&function Yy(r,s){for(let o=0;o<s.length;o++)hv(r,s[o])}(s,E);const C=r.viewQuery;if(null!==C&&th(2,C,l),m){const D=r.viewCheckHooks;null!==D&&Vr(s,D)}else{const D=r.viewHooks;null!==D&&ga(s,D,2),Mr(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,ho(s[3],-1))}finally{gd()}}}function Qy(r,s,o,l,c){const f=Yn(),m=2&l;try{ks(-1),m&&s.length>22&&Oy(r,s,22,!1),o(l,c)}finally{ks(f)}}function Xd(r,s,o){if(cl(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const m=r.data[f];m.contentQueries&&m.contentQueries(1,o[f],f)}}}function Wg(r,s,o){oa()&&(function zb(r,s,o,l){const c=o.directiveStart,f=o.directiveEnd;Ji(o)&&function lv(r,s,o){const l=vr(s,r),c=Jy(o),f=r[10],m=eh(r,Gg(r,c,null,o.onPush?32:16,l,s,f,f.createRenderer(l,o),null,null,null));r[s.index]=m}(s,o,r.data[c+o.componentOffset]),r.firstCreatePass||_o(o,s),tt(l,s);const m=o.initialInputs;for(let E=c;E<f;E++){const C=r.data[E],D=jr(s,r,E,o);tt(D,s),null!==m&&uv(0,E-c,D,C,0,m),lr(C)&&(Kn(o.index,s)[8]=jr(s,r,E,o))}}(r,s,o,vr(o,s)),64==(64&o.flags)&&xo(r,s,o))}function zg(r,s,o=vr){const l=s.localNames;if(null!==l){let c=s.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],E=-1===m?o(s,r):r[m];r[c++]=E}}}function Jy(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Zg(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Zg(r,s,o,l,c,f,m,E,C,D){const R=22+l,L=R+c,K=function Hb(r,s){const o=[];for(let l=0;l<s;l++)o.push(l<r?null:Ct);return o}(R,L),re="function"==typeof D?D():D;return K[1]={type:r,blueprint:K,template:o,queries:null,viewQuery:E,declTNode:s,data:K.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:re,incompleteFirstPass:!1}}function ev(r,s,o,l){const c=Yg(s);null===o?c.push(l):(c.push(o),r.firstCreatePass&&Qg(r).push(l,c.length-1))}function tv(r,s,o,l){for(let c in r)if(r.hasOwnProperty(c)){o=null===o?{}:o;const f=r[c];null===l?nv(o,s,c,f):l.hasOwnProperty(c)&&nv(o,s,l[c],f)}return o}function nv(r,s,o,l){r.hasOwnProperty(o)?r[o].push(s,l):r[o]=[s,l]}function hr(r,s,o,l,c,f,m,E){const C=vr(s,o);let R,D=s.inputs;!E&&null!=D&&(R=D[l])?(Rf(r,o,R,l,c),Ji(s)&&ls(o,s.index)):3&s.type&&(l=function rv(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),c=null!=m?m(c,s.value||"",l):c,f.setProperty(C,l,c))}function ls(r,s){const o=Kn(s,r);16&o[2]||(o[2]|=32)}function qg(r,s,o,l){let c=!1;if(oa()){const f=null===l?null:{"":-1},m=function Gr(r,s){const o=r.directiveRegistry;let l=null,c=null;if(o)for(let f=0;f<o.length;f++){const m=o[f];if(Db(s,m.selectors,!1))if(l||(l=[]),lr(m))if(null!==m.findHostDirectiveDefs){const E=[];c=c||new Map,m.findHostDirectiveDefs(m,E,c),l.unshift(...E,m),qs(r,s,E.length)}else l.unshift(m),qs(r,s,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,l,c),l.push(m)}return null===l?null:[l,c]}(r,o);let E,C;null===m?E=C=null:[E,C]=m,null!==E&&(c=!0,iv(r,s,o,E,f,C)),f&&function Zb(r,s,o){if(s){const l=r.localNames=[];for(let c=0;c<s.length;c+=2){const f=o[s[c+1]];if(null==f)throw new ae(-301,!1);l.push(s[c],f)}}}(o,l,f)}return o.mergedAttrs=Er(o.mergedAttrs,o.attrs),c}function iv(r,s,o,l,c,f){for(let D=0;D<l.length;D++)Rl(_o(o,s),r,l[D].type);!function ov(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}(o,r.data.length,l.length);for(let D=0;D<l.length;D++){const R=l[D];R.providersResolver&&R.providersResolver(R)}let m=!1,E=!1,C=Cf(r,s,l.length,null);for(let D=0;D<l.length;D++){const R=l[D];o.mergedAttrs=Er(o.mergedAttrs,R.hostAttrs),av(r,o,s,C,R),pD(C,R,c),null!==R.contentQueries&&(o.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=64);const L=R.type.prototype;!m&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),m=!0),!E&&(L.ngOnChanges||L.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),C++}!function If(r,s,o){const c=s.directiveEnd,f=r.data,m=s.attrs,E=[];let C=null,D=null;for(let R=s.directiveStart;R<c;R++){const L=f[R],K=o?o.get(L):null,de=K?K.outputs:null;C=tv(L.inputs,R,C,K?K.inputs:null),D=tv(L.outputs,R,D,de);const Me=null===C||null===m||My(s)?null:cv(C,R,m);E.push(Me)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=8),C.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=C,s.outputs=D}(r,o,f)}function xo(r,s,o){const l=o.directiveStart,c=o.directiveEnd,f=o.index,m=function vl(){return gt.lFrame.currentDirectiveIndex}();try{ks(f);for(let E=l;E<c;E++){const C=r.data[E],D=s[E];ha(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&sv(C,D)}}finally{ks(-1),ha(m)}}function sv(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function qs(r,s,o){s.componentOffset=o,(r.components||(r.components=[])).push(s.index)}function pD(r,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=r;lr(s)&&(o[""]=r)}}function av(r,s,o,l,c){r.data[l]=c;const f=c.factory||(c.factory=Pi(c.type)),m=new fo(f,lr(c),Ba);r.blueprint[l]=m,o[l]=m,function Wb(r,s,o,l,c){const f=c.hostBindings;if(f){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const E=~s.index;(function ja(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(m)!=E&&m.push(E),m.push(o,l,f)}}(r,s,l,Cf(r,o,c.hostVars,Ct),c)}function us(r,s,o,l,c,f){const m=vr(r,s);!function Df(r,s,o,l,c,f,m){if(null==f)r.removeAttribute(s,c,o);else{const E=null==m?he(f):m(f,l||"",c);r.setAttribute(s,c,E,o)}}(s[11],m,f,r.value,o,l,c)}function uv(r,s,o,l,c,f){const m=f[s];if(null!==m){const E=l.setInput;for(let C=0;C<m.length;){const D=m[C++],R=m[C++],L=m[C++];null!==E?l.setInput(o,L,D,R):o[R]=L}}}function cv(r,s,o){let l=null,c=0;for(;c<o.length;){const f=o[c];if(0!==f)if(5!==f){if("number"==typeof f)break;if(r.hasOwnProperty(f)){null===l&&(l=[]);const m=r[f];for(let E=0;E<m.length;E+=2)if(m[E]===s){l.push(f,m[E+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function Kg(r,s,o,l){return[r,!0,!1,s,null,0,l,o,null,null]}function hv(r,s){const o=Kn(s,r);if(co(o)){const l=o[1];48&o[2]?wf(l,o,l.template,o[8]):o[5]>0&&Sf(o)}}function Sf(r){for(let l=$l(r);null!==l;l=Od(l))for(let c=10;c<l.length;c++){const f=l[c];if(co(f))if(512&f[2]){const m=f[1];wf(m,f,m.template,f[8])}else f[5]>0&&Sf(f)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const c=Kn(o[l],r);co(c)&&c[5]>0&&Sf(c)}}function fv(r,s){const o=Kn(s,r),l=o[1];(function qb(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])})(l,o),bf(l,o,o[8])}function eh(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function Af(r){for(;r;){r[2]|=32;const s=Aa(r);if(ad(r)&&!s)return r;r=s}return null}function mc(r,s,o,l=!0){const c=s[10];c.begin&&c.begin();try{wf(r,s,r.template,o)}catch(m){throw l&&nh(s,m),m}finally{c.end&&c.end()}}function th(r,s,o){Cl(0),s(r,o)}function Yg(r){return r[7]||(r[7]=[])}function Qg(r){return r.cleanup||(r.cleanup=[])}function nh(r,s){const o=r[9],l=o?o.get(cc,null):null;l&&l.handleError(s)}function Rf(r,s,o,l,c){for(let f=0;f<o.length;){const m=o[f++],E=o[f++],C=s[m],D=r.data[m];null!==D.setInput?D.setInput(C,c,l,E):C[E]=c}}function rh(r,s,o){let l=o?r.styles:null,c=o?r.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const E=s[m];"number"==typeof E?f=E:1==f?c=te(c,E):2==f&&(l=te(l,E+": "+s[++m]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=c:r.classesWithoutHost=c}function Cr(r,s,o,l,c=!1){for(;null!==o;){const f=s[o.index];if(null!==f&&l.push(en(f)),Sr(f))for(let E=10;E<f.length;E++){const C=f[E],D=C[1].firstChild;null!==D&&Cr(C[1],C,D,l)}const m=o.type;if(8&m)Cr(r,s,o.child,l);else if(32&m){const E=Sa(o,s);let C;for(;C=E();)l.push(C)}else if(16&m){const E=ka(s,o);if(Array.isArray(E))l.push(...E);else{const C=Aa(s[16]);Cr(C[1],C,E,l,!0)}}o=c?o.projectionNext:o.next}return l}class $i{get rootNodes(){const s=this._lView,o=s[1];return Cr(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Sr(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(h(s,l),qu(o,l))}this._attachedToViewContainer=!1}g(this._lView[1],this._lView)}onDestroy(s){ev(this._lView[1],this._lView,null,s)}markForCheck(){Af(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){mc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pg(r,s){ql(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=s}}class pv extends $i{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;mc(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class Qb extends Zd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Rt(s);return new ru(o,this.ngModule)}}function Jb(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class Xb{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=ut(l);const c=this.injector.get(s,Lg,l);return c!==Lg||o===Lg?c:this.parentInjector.get(s,o,l)}}class ru extends _y{get inputs(){return Jb(this.componentDef.inputs)}get outputs(){return Jb(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Mb(r){return r.map(Ab).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,c){let f=(c=c||this.ngModule)instanceof as?c:c?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new Xb(s,f):s,E=m.get(Ey,null);if(null===E)throw new ae(407,!1);const C=m.get(Fg,null),D=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",L=l?function Xy(r,s,o){return r.selectRootElement(s,o===_e.ShadowDom)}(D,l,this.componentDef.encapsulation):Ro(D,R,function _c(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(R)),K=this.componentDef.onPush?288:272,re=Zg(0,null,null,1,0,null,null,null,null,null),de=Gg(null,re,null,K,null,null,E,D,C,m,null);let Me,Oe;fa(de);try{const ze=this.componentDef;let dt,be=null;ze.findHostDirectiveDefs?(dt=[],be=new Map,ze.findHostDirectiveDefs(ze,dt,be),dt.push(ze)):dt=[ze];const yt=function Jg(r,s){const o=r[1];return r[22]=s,Jd(o,22,2,"#host",null)}(de,L),Dn=function ew(r,s,o,l,c,f,m,E){const C=c[1];!function mD(r,s,o,l){for(const c of r)s.mergedAttrs=Er(s.mergedAttrs,c.hostAttrs);null!==s.mergedAttrs&&(rh(s,s.mergedAttrs,!0),null!==o&&Kl(l,o,s))}(l,r,s,m);const D=f.createRenderer(s,o),R=Gg(c,Jy(o),null,o.onPush?32:16,c[r.index],r,f,D,E||null,null,null);return C.firstCreatePass&&qs(C,r,l.length-1),eh(c,R),c[r.index]=R}(yt,L,ze,dt,de,E,D);Oe=Is(re,22),L&&function yD(r,s,o,l){if(l)ma(r,o,["ng-version",by.full]);else{const{attrs:c,classes:f}=function Rb(r){const s=[],o=[];let l=1,c=2;for(;l<r.length;){let f=r[l];if("string"==typeof f)2===c?""!==f&&s.push(f,r[++l]):8===c&&o.push(f);else{if(!Hi(c))break;c=f}l++}return{attrs:s,classes:o}}(s.selectors[0]);c&&ma(r,o,c),f&&f.length>0&&mg(r,o,f.join(" "))}}(D,ze,L,l),void 0!==o&&function vD(r,s,o){const l=r.projection=[];for(let c=0;c<s.length;c++){const f=o[c];l.push(null!=f?Array.from(f):null)}}(Oe,this.ngContentSelectors,o),Me=function _D(r,s,o,l,c,f){const m=jn(),E=c[1],C=vr(m,c);iv(E,c,m,o,null,l);for(let R=0;R<o.length;R++)tt(jr(c,E,m.directiveStart+R,m),c);xo(E,c,m),C&&tt(C,c);const D=jr(c,E,m.directiveStart+m.componentOffset,m);if(r[8]=c[8]=D,null!==f)for(const R of f)R(D,s);return Xd(E,m,r),D}(Dn,ze,dt,be,de,[ED]),bf(re,de,null)}finally{gd()}return new kf(this.componentType,Me,lc(Oe,de),de,Oe)}}class kf extends ac{constructor(s,o,l,c,f){super(),this.location=l,this._rootLView=c,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new pv(c),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[s])){const f=this._rootLView;Rf(f[1],f,c,s,o),ls(f,this._tNode.index)}}get injector(){return new Ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function ED(){const r=jn();Xi(ye()[1],r)}function gv(r){let s=function tw(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;s;){let c;if(lr(r))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ae(903,!1);c=s.\u0275dir}if(c){if(o){l.push(c);const m=r;m.inputs=Nf(r.inputs),m.declaredInputs=Nf(r.declaredInputs),m.outputs=Nf(r.outputs);const E=c.hostBindings;E&&sw(r,E);const C=c.viewQuery,D=c.contentQueries;if(C&&rw(r,C),D&&iw(r,D),ge(r.inputs,c.inputs),ge(r.declaredInputs,c.declaredInputs),ge(r.outputs,c.outputs),lr(c)&&c.data.animation){const R=r.data;R.animation=(R.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let m=0;m<f.length;m++){const E=f[m];E&&E.ngInherit&&E(r),E===gv&&(o=!1)}}s=Object.getPrototypeOf(s)}!function nw(r){let s=0,o=null;for(let l=r.length-1;l>=0;l--){const c=r[l];c.hostVars=s+=c.hostVars,c.hostAttrs=Er(c.hostAttrs,o=Er(o,c.hostAttrs))}}(l)}function Nf(r){return r===We?{}:r===Re?[]:r}function rw(r,s){const o=r.viewQuery;r.viewQuery=o?(l,c)=>{s(l,c),o(l,c)}:s}function iw(r,s){const o=r.contentQueries;r.contentQueries=o?(l,c,f)=>{s(l,c,f),o(l,c,f)}:s}function sw(r,s){const o=r.hostBindings;r.hostBindings=o?(l,c)=>{s(l,c),o(l,c)}:s}let iu=null;function Ha(){if(!iu){const r=ht.Symbol;if(r&&r.iterator)iu=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(iu=l)}}}return iu}function Ec(r){return!!yv(r)&&(Array.isArray(r)||!(r instanceof Map)&&Ha()in r)}function yv(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function br(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function Cc(r,s,o,l){const c=ye();return br(c,Qr(),s)&&(Mt(),us(tn(),c,r,s,o,l)),Cc}function Ga(r,s,o,l){return br(r,Qr(),o)?s+he(o)+l:Ct}function Cv(r,s,o,l,c,f,m,E){const C=ye(),D=Mt(),R=r+22,L=D.firstCreatePass?function bD(r,s,o,l,c,f,m,E,C){const D=s.consts,R=Jd(s,r,4,m||null,Yr(D,E));qg(s,o,R,Yr(D,C)),Xi(s,R);const L=R.tViews=Zg(2,R,l,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,R),L.queries=s.queries.embeddedTView(R)),R}(R,D,C,s,o,l,c,f,m):D.data[R];Lr(L,!1);const K=C[11].createComment("");zl(D,C,K,L),tt(K,C),eh(C,C[R]=Kg(K,C,K,L)),dl(L)&&Wg(D,C,L),null!=m&&zg(C,L,E)}function Uf(r,s,o){const l=ye();return br(l,Qr(),s)&&hr(Mt(),tn(),l,r,s,l[11],o,!1),Uf}function Vf(r,s,o,l,c){const m=c?"class":"style";Rf(r,o,s.inputs[m],m,l)}function rm(r,s,o,l){const c=ye(),f=Mt(),m=22+r,E=c[11],C=c[m]=Ro(E,s,function Vh(){return gt.lFrame.currentNamespace}()),D=f.firstCreatePass?function bv(r,s,o,l,c,f,m){const E=s.consts,D=Jd(s,r,2,c,Yr(E,f));return qg(s,o,D,Yr(E,m)),null!==D.attrs&&rh(D,D.attrs,!1),null!==D.mergedAttrs&&rh(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(m,f,c,0,s,o,l):f.data[m];return Lr(D,!0),Kl(E,C,D),32!=(32&D.flags)&&zl(f,c,C,D),0===function Ts(){return gt.lFrame.elementDepthCount}()&&tt(C,c),function _l(){gt.lFrame.elementDepthCount++}(),dl(D)&&(Wg(f,c,D),Xd(f,D,c)),null!==l&&zg(c,D),rm}function Bf(){let r=jn();ua()?function As(){gt.lFrame.isParent=!1}():(r=r.parent,Lr(r,!1));const s=r;!function yl(){gt.lFrame.elementDepthCount--}();const o=Mt();return o.firstCreatePass&&(Xi(o,r),cl(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Sl(r){return 0!=(8&r.flags)}(s)&&Vf(o,s,ye(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function _d(r){return 0!=(16&r.flags)}(s)&&Vf(o,s,ye(),s.stylesWithoutHost,!1),Bf}function jf(r,s,o,l){return rm(r,s,o,l),Bf(),jf}function Dv(){return ye()}function Hf(r){return!!r&&"function"==typeof r.then}function Tv(r){return!!r&&"function"==typeof r.subscribe}const im=Tv;function Uo(r,s,o,l){const c=ye(),f=Mt(),m=jn();return function sm(r,s,o,l,c,f,m){const E=dl(l),D=r.firstCreatePass&&Qg(r),R=s[8],L=Yg(s);let K=!0;if(3&l.type||m){const Me=vr(l,s),Oe=m?m(Me):Me,ze=L.length,dt=m?yt=>m(en(yt[l.index])):l.index;let be=null;if(!m&&E&&(be=function pw(r,s,o,l){const c=r.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const m=c[f];if(m===o&&c[f+1]===l){const E=s[7],C=c[f+2];return E.length>C?E[C]:null}"string"==typeof m&&(f+=2)}return null}(r,s,c,l.index)),null!==be)(be.__ngLastListenerFn__||be).__ngNextListenerFn__=f,be.__ngLastListenerFn__=f,K=!1;else{f=gw(l,s,R,f,!1);const yt=o.listen(Oe,c,f);L.push(f,yt),D&&D.push(c,dt,ze,ze+1)}}else f=gw(l,s,R,f,!1);const re=l.outputs;let de;if(K&&null!==re&&(de=re[c])){const Me=de.length;if(Me)for(let Oe=0;Oe<Me;Oe+=2){const Dn=s[de[Oe]][de[Oe+1]].subscribe(f),$n=L.length;L.push(f,Dn),D&&D.push(c,l.index,$n,-($n+1))}}}(f,c,c[11],m,r,s,l),Uo}function Av(r,s,o,l){try{return!1!==o(l)}catch(c){return nh(r,c),!1}}function gw(r,s,o,l,c){return function f(m){if(m===Function)return l;Af(r.componentOffset>-1?Kn(r.index,s):s);let C=Av(s,0,l,m),D=f.__ngNextListenerFn__;for(;D;)C=Av(s,0,D,m)&&C,D=D.__ngNextListenerFn__;return c&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function om(r=1){return function Vu(r){return(gt.lFrame.contextLView=function pa(r,s){for(;r>0;)s=s[15],r--;return s}(r,gt.lFrame.contextLView))[8]}(r)}function $f(r,s,o){return Gf(r,"",s,"",o),$f}function Gf(r,s,o,l,c){const f=ye(),m=Ga(f,s,o,l);return m!==Ct&&hr(Mt(),tn(),f,r,m,f[11],c,!1),Gf}function oh(r,s){return r<<17|s<<2}function Wa(r){return r>>17&32767}function qf(r){return 2|r}function au(r){return(131068&r)>>2}function ah(r,s){return-131069&r|s<<2}function lm(r){return 1|r}function Ov(r,s,o,l,c){const f=r[o+1],m=null===s;let E=l?Wa(f):au(f),C=!1;for(;0!==E&&(!1===C||m);){const R=r[E+1];Fv(r[E],s)&&(C=!0,r[E+1]=l?lm(R):qf(R)),E=l?Wa(R):au(R)}C&&(r[o+1]=l?qf(f):lm(f))}function Fv(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Ci(r,s)>=0}function fm(r,s){return function ds(r,s,o,l){const c=ye(),f=Mt(),m=function ai(r){const s=gt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}(2);f.firstUpdatePass&&function Dw(r,s,o,l){const c=r.data;if(null===c[o+1]){const f=c[Yn()],m=function Iw(r,s){return s>=r.expandoStartIndex}(r,o);(function Wv(r,s){return 0!=(r.flags&(s?8:16))})(f,l)&&null===s&&!m&&(s=!1),s=function MD(r,s,o,l){const c=function Fu(r){const s=gt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let f=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(o=lh(o=$v(null,r,s,o,l),s.attrs,l),f=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==c)if(o=$v(c,r,s,o,l),null===f){let C=function RD(r,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==au(l))return r[Wa(l)]}(r,s,l);void 0!==C&&Array.isArray(C)&&(C=$v(null,r,s,C[1],l),C=lh(C,s.attrs,l),function kD(r,s,o,l){r[Wa(o?s.classBindings:s.styleBindings)]=l}(r,s,l,C))}else f=function ND(r,s,o){let l;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)l=lh(l,r[f].hostAttrs,o);return lh(l,s.attrs,o)}(r,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),o}(c,f,s,l),function DD(r,s,o,l,c,f){let m=f?s.classBindings:s.styleBindings,E=Wa(m),C=au(m);r[l]=o;let R,D=!1;if(Array.isArray(o)?(R=o[1],(null===R||Ci(o,R)>0)&&(D=!0)):R=o,c)if(0!==C){const K=Wa(r[E+1]);r[l+1]=oh(K,E),0!==K&&(r[K+1]=ah(r[K+1],l)),r[E+1]=function yw(r,s){return 131071&r|s<<17}(r[E+1],l)}else r[l+1]=oh(E,0),0!==E&&(r[E+1]=ah(r[E+1],l)),E=l;else r[l+1]=oh(C,0),0===E?E=l:r[C+1]=ah(r[C+1],l),C=l;D&&(r[l+1]=qf(r[l+1])),Ov(r,R,l,!0),Ov(r,R,l,!1),function um(r,s,o,l,c){const f=c?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof s&&Ci(f,s)>=0&&(o[l+1]=lm(o[l+1]))}(s,R,r,l,f),m=oh(E,C),f?s.classBindings=m:s.styleBindings=m}(c,f,s,o,m,l)}}(f,r,m,l),s!==Ct&&br(c,m,s)&&function Kf(r,s,o,l,c,f,m,E){if(!(3&s.type))return;const C=r.data,D=C[E+1],R=function vw(r){return 1==(1&r)}(D)?Sc(C,s,o,c,au(D),m):void 0;Yf(R)||(Yf(f)||function xv(r){return 2==(2&r)}(D)&&(f=Sc(C,null,o,c,E,m)),function ny(r,s,o,l,c){if(s)c?r.addClass(o,l):r.removeClass(o,l);else{let f=-1===l.indexOf("-")?void 0:wi.DashCase;null==c?r.removeStyle(o,l,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=wi.Important),r.setStyle(o,l,c,f))}}(l,m,_i(Yn(),o),c,f))}(f,f.data[Yn()],c,c[11],r,c[m+1]=function Tw(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ee(xa(r)))),r}(s,o),l,m)}(r,s,null,!0),fm}function $v(r,s,o,l,c){let f=null;const m=o.directiveEnd;let E=o.directiveStylingLast;for(-1===E?E=o.directiveStart:E++;E<m&&(f=s[E],l=lh(l,f.hostAttrs,c),f!==r);)E++;return null!==r&&(o.directiveStylingLast=E),l}function lh(r,s,o){const l=o?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?c=m:c===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),xe(r,m,!!o||s[++f]))}return void 0===r?null:r}function Sc(r,s,o,l,c,f){const m=null===s;let E;for(;c>0;){const C=r[c],D=Array.isArray(C),R=D?C[1]:C,L=null===R;let K=o[c+1];K===Ct&&(K=L?Re:void 0);let re=L?Jn(K,l):R===l?K:void 0;if(D&&!Yf(re)&&(re=Jn(C,l)),Yf(re)&&(E=re,m))return E;const de=r[c+1];c=m?Wa(de):au(de)}if(null!==s){let C=f?s.residualClasses:s.residualStyles;null!=C&&(E=Jn(C,l))}return E}function Yf(r){return void 0!==r}function zv(r,s=""){const o=ye(),l=Mt(),c=r+22,f=l.firstCreatePass?Jd(l,c,1,s,null):l.data[c],m=o[c]=function Mo(r,s){return r.createText(s)}(o[11],s);zl(l,o,m,f),Lr(f,!1)}function Qf(r){return Jf("",r,""),Qf}function Jf(r,s,o){const l=ye(),c=Ga(l,r,s,o);return c!==Ct&&function Ks(r,s,o){const l=_i(s,r);!function ss(r,s,o){r.setValue(s,o)}(r[11],l,o)}(l,Yn(),c),Jf}const lu=void 0;var kw=["en",[["a","p"],["AM","PM"],lu],[["AM","PM"],lu,lu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lu,"{1} 'at' {0}",lu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Rw(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Ac={};function Mc(r){const s=function Pw(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=dh(s);if(o)return o;const l=s.split("-")[0];if(o=dh(l),o)return o;if("en"===l)return kw;throw new ae(701,!1)}function rp(r){return Mc(r)[st.PluralCase]}function dh(r){return r in Ac||(Ac[r]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[r]),Ac[r]}var st=(()=>((st=st||{})[st.LocaleId=0]="LocaleId",st[st.DayPeriodsFormat=1]="DayPeriodsFormat",st[st.DayPeriodsStandalone=2]="DayPeriodsStandalone",st[st.DaysFormat=3]="DaysFormat",st[st.DaysStandalone=4]="DaysStandalone",st[st.MonthsFormat=5]="MonthsFormat",st[st.MonthsStandalone=6]="MonthsStandalone",st[st.Eras=7]="Eras",st[st.FirstDayOfWeek=8]="FirstDayOfWeek",st[st.WeekendRange=9]="WeekendRange",st[st.DateFormat=10]="DateFormat",st[st.TimeFormat=11]="TimeFormat",st[st.DateTimeFormat=12]="DateTimeFormat",st[st.NumberSymbols=13]="NumberSymbols",st[st.NumberFormats=14]="NumberFormats",st[st.CurrencyCode=15]="CurrencyCode",st[st.CurrencySymbol=16]="CurrencySymbol",st[st.CurrencyName=17]="CurrencyName",st[st.Currencies=18]="Currencies",st[st.Directionality=19]="Directionality",st[st.PluralCase=20]="PluralCase",st[st.ExtraData=21]="ExtraData",st))();const Rc="en-US";let tE=Rc;function hp(r,s,o,l,c){if(r=U(r),Array.isArray(r))for(let f=0;f<r.length;f++)hp(r[f],s,o,l,c);else{const f=Mt(),m=ye();let E=eu(r)?r:U(r.provide),C=my(r);const D=jn(),R=1048575&D.providerIndexes,L=D.directiveStart,K=D.providerIndexes>>20;if(eu(r)||!r.multi){const re=new fo(C,c,Ba),de=jo(E,s,c?R:R+K,L);-1===de?(Rl(_o(D,m),f,E),fp(f,r,s.length),s.push(E),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),o.push(re),m.push(re)):(o[de]=re,m[de]=re)}else{const re=jo(E,s,R+K,L),de=jo(E,s,R,R+K),Oe=de>=0&&o[de];if(c&&!Oe||!c&&!(re>=0&&o[re])){Rl(_o(D,m),f,E);const ze=function o0(r,s,o,l,c){const f=new fo(r,o,Ba);return f.multi=[],f.index=s,f.componentProviders=0,Fm(f,c,l&&!o),f}(c?yE:s0,o.length,c,l,C);!c&&Oe&&(o[de].providerFactory=ze),fp(f,r,s.length,0),s.push(E),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),o.push(ze),m.push(ze)}else fp(f,r,re>-1?re:de,Fm(o[c?de:re],C,!c&&l));!c&&l&&Oe&&o[de].componentProviders++}}}function fp(r,s,o,l){const c=eu(s),f=function cb(r){return!!r.useClass}(s);if(c||f){const C=(f?U(s.useClass):s).prototype.ngOnDestroy;if(C){const D=r.destroyHooks||(r.destroyHooks=[]);if(!c&&s.multi){const R=D.indexOf(o);-1===R?D.push(o,[l,C]):D[R+1].push(l,C)}else D.push(o,C)}}}function Fm(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function jo(r,s,o,l){for(let c=o;c<l;c++)if(s[c]===r)return c;return-1}function s0(r,s,o,l){return Lm(this.multi,[])}function yE(r,s,o,l){const c=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=jr(o,o[1],this.providerFactory.index,l);f=E.slice(0,m),Lm(c,f);for(let C=m;C<E.length;C++)f.push(E[C])}else f=[],Lm(c,f);return f}function Lm(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function vE(r,s=[]){return o=>{o.providersResolver=(l,c)=>function _E(r,s,o){const l=Mt();if(l.firstCreatePass){const c=lr(r);hp(o,l.data,l.blueprint,c,!0),hp(s,l.data,l.blueprint,c,!1)}}(l,c?c(r):r,s)}}class xc{}class EE{}function a0(r,s){return new CE(r,s??null)}class CE extends xc{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qb(this);const l=mr(s);this._bootstrapComponents=Po(l.bootstrap),this._r3Injector=By(s,o,[{provide:xc,useValue:this},{provide:Zd,useValue:this.componentFactoryResolver}],ee(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Um extends EE{constructor(s){super(),this.moduleType=s}create(s){return new CE(this.moduleType,s)}}class l0 extends xc{constructor(s,o,l){super(),this.componentFactoryResolver=new Qb(this),this.instance=null;const c=new gy([...s,{provide:xc,useValue:this},{provide:Zd,useValue:this.componentFactoryResolver}],o||Ua(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function bE(r,s,o=null){return new l0(r,s,o).injector}let wE=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=py(0,o.type),c=l.length>0?bE([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=St({token:r,providedIn:"environment",factory:()=>new r(Ae(as))}),r})();function Vm(r){r.getStandaloneInjector=s=>s.get(wE).getOrCreateStandaloneInjector(r)}function zm(r){return s=>{setTimeout(r,void 0,s)}}const di=class v0 extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let c=s,f=o||(()=>null),m=l;if(s&&"object"==typeof s){const C=s;c=C.next?.bind(C),f=C.error?.bind(C),m=C.complete?.bind(C)}this.__isAsync&&(f=zm(f),c&&(c=zm(c)),m&&(m=zm(m)));const E=super.subscribe({next:c,error:f,complete:m});return s instanceof H.w&&s.add(E),E}};function yp(){return this._results[Ha()]()}class vp{get changes(){return this._changes||(this._changes=new di)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ha(),l=vp.prototype;l[o]||(l[o]=yp)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const c=function kr(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ia(r,s,o){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let c=r[l],f=s[l];if(o&&(c=o(c),f=o(f)),f!==c)return!1}return!0}(l._results,c,o))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Uc=(()=>{class r{}return r.__NG_ELEMENT_ID__=NE,r})();const RE=Uc,kE=class extends RE{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s,o){const l=this._declarationTContainer.tViews,c=Gg(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,o||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(l)),bf(l,c,s),new $i(c)}};function NE(){return vh(jn(),ye())}function vh(r,s){return 4&r.type?new kE(s,r,lc(r,s)):null}let Eh=(()=>{class r{}return r.__NG_ELEMENT_ID__=Zm,r})();function Zm(){return Ym(jn(),ye())}const PE=Eh,qm=class extends PE{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new Ei(this._hostTNode,this._hostLView)}get parentInjector(){const s=Fs(this._hostTNode,this._hostLView);if(Hu(s)){const o=xs(s,this._hostLView),l=ya(s);return new Ei(o[1].data[l+8],o)}return new Ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Ep(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){let c,f;"number"==typeof l?c=l:null!=l&&(c=l.index,f=l.injector);const m=s.createEmbeddedView(o||{},f);return this.insert(m,c),m}createComponent(s,o,l,c,f){const m=s&&!function Vs(r){return"function"==typeof r}(s);let E;if(m)E=o;else{const L=o||{};E=L.index,l=L.injector,c=L.projectableNodes,f=L.environmentInjector||L.ngModuleRef}const C=m?s:new ru(Rt(s)),D=l||this.parentInjector;if(!f&&null==C.ngModule){const K=(m?D:this.parentInjector).get(as,null);K&&(f=K)}const R=C.create(D,c,void 0,f);return this.insert(R.hostView,E),R}insert(s,o){const l=s._lView,c=l[1];if(function ia(r){return Sr(r[3])}(l)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const L=l[3],K=new qm(L,L[6],L[3]);K.detach(K.indexOf(s))}}const f=this._adjustIndex(o),m=this._lContainer;!function Fd(r,s,o,l){const c=10+l,f=o.length;l>0&&(o[c-1][4]=s),l<f-10?(s[4]=o[c],Hh(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function gg(r,s){const o=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===o?r[9]=[s]:o.push(s)}(m,s);const E=s[19];null!==E&&E.insertView(r),s[2]|=64}(c,l,m,f);const E=Ud(f,m),C=l[11],D=nr(C,m[7]);return null!==D&&function ko(r,s,o,l,c,f){l[0]=c,l[6]=s,ql(r,l,o,1,c,f)}(c,m[6],C,l,D,E),s.attachToViewContainerRef(),Hh(Km(m),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Ep(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=h(this._lContainer,o);l&&(qu(Km(this._lContainer),o),g(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=h(this._lContainer,o);return l&&null!=qu(Km(this._lContainer),o)?new $i(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function Ep(r){return r[8]}function Km(r){return r[8]||(r[8]=[])}function Ym(r,s){let o;const l=s[r.index];if(Sr(l))o=l;else{let c;if(8&r.type)c=en(l);else{const f=s[11];c=f.createComment("");const m=vr(r,s);ke(f,nr(f,m),c,function Gs(r,s){return r.nextSibling(s)}(f,m),!1)}s[r.index]=o=Kg(l,s,c,r),eh(s,o)}return new qm(o,r,s)}class Qm{constructor(s){this.queryList=s,this.matches=null}clone(){return new Qm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ch{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let f=0;f<l;f++){const m=o.getByIndex(f);c.push(this.queries[m.indexInDeclarationView].clone())}return new Ch(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==e_(s,o).matches&&this.queries[o].setDirty()}}class Cp{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class bh{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const c=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(s,c);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new bh(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Jm{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Jm(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const f=l[c];this.matchTNodeWithReadOption(s,o,E0(o,f)),this.matchTNodeWithReadOption(s,o,Eo(o,s,f,!1,!1))}else l===Uc?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Eo(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===qd||c===Eh||c===Uc&&4&o.type)this.addMatch(o.index,-2);else{const f=Eo(o,s,c,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function E0(r,s){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function C0(r,s,o,l){return-1===o?function xE(r,s){return 11&r.type?lc(r,s):4&r.type?vh(r,s):null}(s,r):-2===o?function b0(r,s,o){return o===qd?lc(s,r):o===Uc?vh(s,r):o===Eh?Ym(s,r):void 0}(r,s,l):jr(r,r[1],o,s)}function OE(r,s,o,l){const c=s[19].queries[l];if(null===c.matches){const f=r.data,m=o.matches,E=[];for(let C=0;C<m.length;C+=2){const D=m[C];E.push(D<0?null:C0(s,f[D],m[C+1],o.metadata.read))}c.matches=E}return c.matches}function bp(r,s,o,l){const c=r.queries.getByIndex(o),f=c.matches;if(null!==f){const m=OE(r,s,c,o);for(let E=0;E<f.length;E+=2){const C=f[E];if(C>0)l.push(m[E/2]);else{const D=f[E+1],R=s[-C];for(let L=10;L<R.length;L++){const K=R[L];K[17]===K[3]&&bp(K[1],K,D,l)}if(null!==R[9]){const L=R[9];for(let K=0;K<L.length;K++){const re=L[K];bp(re[1],re,D,l)}}}}}return l}function Xm(r){const s=ye(),o=Mt(),l=El();Cl(l+1);const c=e_(o,l);if(r.dirty&&function ku(r){return 4==(4&r[2])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const f=c.crossesNgTemplate?bp(o,s,l,[]):OE(o,s,c,l);r.reset(f,vy),r.notifyOnChanges()}return!0}return!1}function LE(r,s,o,l){const c=Mt();if(c.firstCreatePass){const f=jn();(function BE(r,s,o){null===r.queries&&(r.queries=new bh),r.queries.track(new Jm(s,o))})(c,new Cp(s,o,l),f.index),function jE(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function VE(r,s,o){const l=new vp(4==(4&o));ev(r,s,l,l.destroy),null===s[19]&&(s[19]=new Ch),s[19].queries.push(new Qm(l))}(c,ye(),o)}function UE(){return function w0(r,s){return r[19].queries[s].queryList}(ye(),El())}function e_(r,s){return r.queries.getByIndex(s)}function mu(...r){}const ps=new jt("Application Initializer");let _u=(()=>{class r{constructor(o){this.appInits=o,this.resolve=mu,this.reject=mu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(Hf(f))o.push(f);else if(im(f)){const m=new Promise((E,C)=>{f.subscribe({complete:E,error:C})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(c=>{this.reject(c)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Ae(ps,8))},r.\u0275prov=St({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Wi=new jt("AppId",{providedIn:"root",factory:function XE(){return`${d_()}${d_()}${d_()}`}});function d_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mp=new jt("Platform Initializer"),h_=new jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eC=new jt("appBootstrapListener");let tC=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=St({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Dh=new jt("LocaleId",{providedIn:"root",factory:()=>Ve(Dh,Be.Optional|Be.SkipSelf)||function $c(){return typeof $localize<"u"&&$localize.locale||Rc}()}),nC=new jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hn{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let O0=(()=>{class r{compileModuleSync(o){return new Um(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),f=Po(mr(o).declarations).reduce((m,E)=>{const C=Rt(E);return C&&m.push(new ru(C)),m},[]);return new hn(l,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=St({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const L0=(()=>Promise.resolve(0))();function vu(r){typeof Zone>"u"?L0.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class hi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new di(!1),this.onMicrotaskEmpty=new di(!1),this.onStable=new di(!1),this.onError=new di(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&o,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function U0(){let r=ht.requestAnimationFrame,s=ht.cancelAnimationFrame;if(typeof Zone<"u"&&r&&s){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Gc(r){const s=()=>{!function rC(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ht,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Eu(r),r.isCheckStableRunning=!0,Th(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Eu(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,c,f,m,E)=>{try{return Wc(r),o.invokeTask(c,f,m,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&s(),iC(r)}},onInvoke:(o,l,c,f,m,E,C)=>{try{return Wc(r),o.invoke(c,f,m,E,C)}finally{r.shouldCoalesceRunChangeDetection&&s(),iC(r)}},onHasTask:(o,l,c,f)=>{o.hasTask(c,f),l===c&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,Eu(r),Th(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,c,f)=>(o.handleError(c,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hi.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(hi.isInAngularZone())throw new ae(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,c){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+c,s,V0,mu,mu);try{return f.runTask(m,o,l)}finally{f.cancelTask(m)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const V0={};function Th(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Eu(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Wc(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function iC(r){r._nesting--,Th(r)}class g_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new di,this.onMicrotaskEmpty=new di,this.onStable=new di,this.onError=new di}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,c){return s.apply(o,l)}}const zc=new jt(""),sC=new jt("");let m_,kp=(()=>{class r{constructor(o,l,c){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,m_||(function B0(r){m_=r}(c),c.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hi.assertNotInAngularZone(),vu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vu(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,c){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:c})}whenStable(o,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(Ae(hi),Ae(oC),Ae(sC))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})(),oC=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return m_?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=St({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),Xs=null;const aC=new jt("AllowMultipleToken"),Sh=new jt("PlatformDestroyListeners");class Pp{constructor(s,o){this.name=s,this.token=o}}function Op(r,s,o=[]){const l=`Platform: ${s}`,c=new jt(l);return(f=[])=>{let m=__();if(!m||m.injector.get(aC,!1)){const E=[...o,...f,{provide:c,useValue:!0}];r?r(E):function H0(r){if(Xs&&!Xs.get(aC,!1))throw new ae(400,!1);Xs=r;const s=r.get(dC);(function Cu(r){const s=r.get(Mp,null);s&&s.forEach(o=>o())})(r)}(function cC(r=[],s){return tu.create({name:s,providers:[{provide:Fa,useValue:"platform"},{provide:Sh,useValue:new Set([()=>Xs=null])},...r]})}(E,l))}return function $0(r){const s=__();if(!s)throw new ae(401,!1);return s}()}}function __(){return Xs?.get(dC)??null}let dC=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const c=function Si(r,s){let o;return o="noop"===r?new g_:("zone.js"===r?void 0:r)||new hi(s),o}(l?.ngZone,function hC(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),f=[{provide:hi,useValue:c}];return c.run(()=>{const m=tu.create({providers:f,parent:this.injector,name:o.moduleType.name}),E=o.create(m),C=E.injector.get(cc,null);if(!C)throw new ae(402,!1);return c.runOutsideAngular(()=>{const D=c.onError.subscribe({next:R=>{C.handleError(R)}});E.onDestroy(()=>{bu(this._modules,E),D.unsubscribe()})}),function Fp(r,s,o){try{const l=o();return Hf(l)?l.catch(c=>{throw s.runOutsideAngular(()=>r.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(C,c,()=>{const D=E.injector.get(_u);return D.runInitializers(),D.donePromise.then(()=>(function nE(r){Jt(r,"Expected localeId to be defined"),"string"==typeof r&&(tE=r.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Dh,Rc)||Rc),this._moduleDoBootstrap(E),E))})})}bootstrapModule(o,l=[]){const c=Lp({},l);return function Np(r,s,o){const l=new Um(o);return Promise.resolve(l)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(o){const l=o.injector.get(Zc);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new ae(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(Sh,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Ae(tu))},r.\u0275prov=St({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function Lp(r,s){return Array.isArray(s)?s.reduce(Lp,r):{...r,...s}}let Zc=(()=>{class r{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,l,c){this._zone=o,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),m=new N.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{hi.assertNotInAngularZone(),vu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{hi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),D.unsubscribe()}});this.isStable=(0,X.T)(f,m.pipe((0,ie.B)()))}bootstrap(o,l){const c=o instanceof _y;if(!this._injector.get(_u).done)throw!c&&An(o),new ae(405,false);let m;m=c?o:this._injector.get(Zd).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const E=function lC(r){return r.isBoundToModule}(m)?void 0:this._injector.get(xc),D=m.create(tu.NULL,[],l||m.selector,E),R=D.location.nativeElement,L=D.injector.get(zc,null);return L?.registerApplication(R),D.onDestroy(()=>{this.detachView(D.hostView),bu(this.components,D),L?.unregisterApplication(R)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;bu(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(eC,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>bu(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ae(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(Ae(hi),Ae(as),Ae(cc))},r.\u0275prov=St({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function bu(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}function Kc(){return!1}function Ja(){}let W0=(()=>{class r{}return r.__NG_ELEMENT_ID__=z0,r})();function z0(r){return function Up(r,s,o){if(Ji(r)&&!o){const l=Kn(r.index,s);return new $i(l,l)}return 47&r.type?new $i(s[16],s):null}(jn(),ye(),16==(16&r))}class pC{constructor(){}supports(s){return Ec(s)}create(s){return new Y0(s)}}const K0=(r,s)=>s;class Y0{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||K0}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,c=0,f=null;for(;o||l;){const m=!l||o&&o.currentIndex<mC(l,c,f)?o:l,E=mC(m,c,f),C=m.currentIndex;if(m===l)c--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{f||(f=[]);const D=E-c,R=C-c;if(D!=R){for(let K=0;K<D;K++){const re=K<f.length?f[K]:f[K]=0,de=re+K;R<=de&&de<D&&(f[K]=re+1)}f[m.previousIndex]=R-D}}E!==C&&s(m,E,C)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Ec(s))throw new ae(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,m,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)f=s[E],m=this._trackByFn(E,f),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,f,m,E)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,m,E),l=!0),o=o._next}else c=0,function CD(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[Ha()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,E=>{m=this._trackByFn(c,E),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,E,m,c)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,m,c),l=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,c)):s=this._addAfter(new Q0(o,l),f,c),s}_verifyReinsertion(s,o,l,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new E_),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new E_),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Q0{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class E_{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new gC,this.map.set(o,l)),l.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mC(r,s,o){const l=r.previousIndex;if(null===l)return l;let c=0;return o&&l<o.length&&(c=o[l]),l+s+c}class _C{constructor(){}supports(s){return s instanceof Map||yv(s)}create(){return new J0}}class J0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||yv(s)))throw new ae(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(c,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const f=c._prev,m=c._next;return f&&(f._next=m),m&&(m._prev=f),c._next=null,c._prev=null,c}const l=new X0(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class X0{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yC(){return new C_([new pC])}let C_=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const c=l.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||yC()),deps:[[r,new Ee,new Q]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(null!=l)return l;throw new ae(901,!1)}}return r.\u0275prov=St({token:r,providedIn:"root",factory:yC}),r})();function $p(){return new Gp([new _C])}let Gp=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const c=l.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||$p()),deps:[[r,new Ee,new Q]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(l)return l;throw new ae(901,!1)}}return r.\u0275prov=St({token:r,providedIn:"root",factory:$p}),r})();const EC=Op(null,"core",[]);let nI=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Ae(Zc))},r.\u0275mod=Yi({type:r}),r.\u0275inj=sr({}),r})();function rI(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(Ke,me,P)=>{P.d(me,{Z:()=>He});var u=P(2090),H=P(4859),N=P(9681),X=P(1877);class ie{constructor(ae,Te){this._delegate=ae,this.firebase=Te,(0,N._addComponent)(ae,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ae,Te=N._DEFAULT_ENTRY_NAME){var he;this._delegate.checkDestroyed();const ce=this._delegate.container.getProvider(ae);return!ce.isInitialized()&&"EXPLICIT"===(null===(he=ce.getComponent())||void 0===he?void 0:he.instantiationMode)&&ce.initialize(),ce.getImmediate({identifier:Te})}_removeServiceInstance(ae,Te=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(Te)}_addComponent(ae){(0,N._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,N._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function te(){const Ie=function ee(Ie){const ae={},Te={__esModule:!0,initializeApp:function Ue(qe,ve={}){const we=N.initializeApp(qe,ve);if((0,u.r3)(ae,we.name))return ae[we.name];const Pe=new Ie(we,Te);return ae[we.name]=Pe,Pe},app:ce,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Nt(qe){const ve=qe.name,we=ve.replace("-compat","");if(N._registerComponent(qe)&&"PUBLIC"===qe.type){const Pe=(Ne=ce())=>{if("function"!=typeof Ne[we])throw ge.create("invalid-app-argument",{appName:ve});return Ne[we]()};void 0!==qe.serviceProps&&(0,u.ZB)(Pe,qe.serviceProps),Te[we]=Pe,Ie.prototype[we]=function(...Ne){return this._getService.bind(this,ve).apply(this,qe.multipleInstances?Ne:[])}}return"PUBLIC"===qe.type?Te[we]:null},removeApp:function he(qe){delete ae[qe]},useAsService:function xt(qe,ve){return"serverAuth"===ve?null:ve},modularAPIs:N}};function ce(qe){if(!(0,u.r3)(ae,qe=qe||N._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:qe});return ae[qe]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function at(){return Object.keys(ae).map(qe=>ae[qe])}}),ce.App=Ie,Te}(ie);return Ie.INTERNAL=Object.assign(Object.assign({},Ie.INTERNAL),{createFirebaseNamespace:te,extendNamespace:function ae(Te){(0,u.ZB)(Ie,Te)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ie}(),V=new X.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ie=self.firebase.SDK_VERSION;Ie&&Ie.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=O;!function fe(Ie){(0,N.registerVersion)("@firebase/app-compat","0.2.0",Ie)}()},9681:(Ke,me,P)=>{P.r(me),P.d(me,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>Dr,_DEFAULT_ENTRY_NAME:()=>On,_addComponent:()=>Wn,_addOrOverwriteComponent:()=>ni,_apps:()=>Jt,_clearComponents:()=>sr,_components:()=>lt,_getProvider:()=>St,_registerComponent:()=>Fn,_removeServiceInstance:()=>Zr,deleteApp:()=>Tn,getApp:()=>De,getApps:()=>un,initializeApp:()=>Tr,onLog:()=>Be,registerVersion:()=>Xt,setLogLevel:()=>or});var u=P(5861),H=P(4859),N=P(1877),X=P(2090),ie=P(8766);class q{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function ge(Ae){return"VERSION"===Ae.getComponent()?.type}(Ve)){const ut=Ve.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(Ve=>Ve).join(" ")}}const ee="@firebase/app",O=new N.Yd("@firebase/app"),On="[DEFAULT]",qi={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,lt=new Map;function Wn(Ae,pe){try{Ae.container.addComponent(pe)}catch(Ve){O.debug(`Component ${pe.name} failed to register with FirebaseApp ${Ae.name}`,Ve)}}function ni(Ae,pe){Ae.container.addOrOverwriteComponent(pe)}function Fn(Ae){const pe=Ae.name;if(lt.has(pe))return O.debug(`There were multiple attempts to register component ${pe}.`),!1;lt.set(pe,Ae);for(const Ve of Jt.values())Wn(Ve,Ae);return!0}function St(Ae,pe){const Ve=Ae.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),Ae.container.getProvider(pe)}function Zr(Ae,pe,Ve=On){St(Ae,pe).clearInstance(Ve)}function sr(){lt.clear()}const Wt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ri{constructor(pe,Ve,ut){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}const Dr="9.15.0";function Tr(Ae,pe={}){let Ve=Ae;"object"!=typeof pe&&(pe={name:pe});const ut=Object.assign({name:On,automaticDataCollectionEnabled:!1},pe),_t=ut.name;if("string"!=typeof _t||!_t)throw Wt.create("bad-app-name",{appName:String(_t)});if(Ve||(Ve=(0,X.aH)()),!Ve)throw Wt.create("no-options");const bt=Jt.get(_t);if(bt){if((0,X.vZ)(Ve,bt.options)&&(0,X.vZ)(ut,bt.config))return bt;throw Wt.create("duplicate-app",{appName:_t})}const z=new H.H0(_t);for(const Y of lt.values())z.addComponent(Y);const G=new ri(Ve,ut,z);return Jt.set(_t,G),G}function De(Ae=On){const pe=Jt.get(Ae);if(!pe&&Ae===On)return Tr();if(!pe)throw Wt.create("no-app",{appName:Ae});return pe}function un(){return Array.from(Jt.values())}function Tn(Ae){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(Ae){const pe=Ae.name;Jt.has(pe)&&(Jt.delete(pe),yield Promise.all(Ae.container.getProviders().map(Ve=>Ve.delete())),Ae.isDeleted=!0)})).apply(this,arguments)}function Xt(Ae,pe,Ve){var ut;let _t=null!==(ut=qi[Ae])&&void 0!==ut?ut:Ae;Ve&&(_t+=`-${Ve}`);const bt=_t.match(/\s|\//),z=pe.match(/\s|\//);if(bt||z){const G=[`Unable to register library "${_t}" with version "${pe}":`];return bt&&G.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),bt&&z&&G.push("and"),z&&G.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void O.warn(G.join(" "))}Fn(new H.wA(`${_t}-version`,()=>({library:_t,version:pe}),"VERSION"))}function Be(Ae,pe){if(null!==Ae&&"function"!=typeof Ae)throw Wt.create("invalid-log-argument");(0,N.Am)(Ae,pe)}function or(Ae){(0,N.Ub)(Ae)}const fn="firebase-heartbeat-store";let xr=null;function ht(){return xr||(xr=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(Ae,pe)=>{0===pe&&Ae.createObjectStore(fn)}}).catch(Ae=>{throw Wt.create("idb-open",{originalErrorMessage:Ae.message})})),xr}function nt(){return(nt=(0,u.Z)(function*(Ae){try{return(yield ht()).transaction(fn).objectStore(fn).get(nn(Ae))}catch(pe){if(pe instanceof X.ZR)O.warn(pe.message);else{const Ve=Wt.create("idb-get",{originalErrorMessage:pe?.message});O.warn(Ve.message)}}})).apply(this,arguments)}function Sn(Ae,pe){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(Ae,pe){try{const ut=(yield ht()).transaction(fn,"readwrite");return yield ut.objectStore(fn).put(pe,nn(Ae)),ut.done}catch(Ve){if(Ve instanceof X.ZR)O.warn(Ve.message);else{const ut=Wt.create("idb-set",{originalErrorMessage:Ve?.message});O.warn(ut.message)}}})).apply(this,arguments)}function nn(Ae){return`${Ae.name}!${Ae.options.appId}`}class ii{constructor(pe){this.container=pe,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new ft(Ve),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var pe=this;return(0,u.Z)(function*(){const ut=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=vt();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==_t&&!pe._heartbeatsCache.heartbeats.some(bt=>bt.date===_t))return pe._heartbeatsCache.heartbeats.push({date:_t,agent:ut}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(bt=>{const z=new Date(bt.date).valueOf();return Date.now()-z<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,u.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const Ve=vt(),{heartbeatsToSend:ut,unsentEntries:_t}=function gr(Ae,pe=1024){const Ve=[];let ut=Ae.slice();for(const _t of Ae){const bt=Ve.find(z=>z.agent===_t.agent);if(bt){if(bt.dates.push(_t.date),Un(Ve)>pe){bt.dates.pop();break}}else if(Ve.push({agent:_t.agent,dates:[_t.date]}),Un(Ve)>pe){Ve.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:ut}}(pe._heartbeatsCache.heartbeats),bt=(0,X.L)(JSON.stringify({version:2,heartbeats:ut}));return pe._heartbeatsCache.lastSentHeartbeatDate=Ve,_t.length>0?(pe._heartbeatsCache.heartbeats=_t,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),bt})()}}function vt(){return(new Date).toISOString().substring(0,10)}class ft{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,u.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function Ye(Ae){return nt.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var Ve=this;return(0,u.Z)(function*(){var ut;if(yield Ve._canUseIndexedDBPromise){const bt=yield Ve.read();return Sn(Ve.app,{lastSentHeartbeatDate:null!==(ut=pe.lastSentHeartbeatDate)&&void 0!==ut?ut:bt.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var Ve=this;return(0,u.Z)(function*(){var ut;if(yield Ve._canUseIndexedDBPromise){const bt=yield Ve.read();return Sn(Ve.app,{lastSentHeartbeatDate:null!==(ut=pe.lastSentHeartbeatDate)&&void 0!==ut?ut:bt.lastSentHeartbeatDate,heartbeats:[...bt.heartbeats,...pe.heartbeats]})}})()}}function Un(Ae){return(0,X.L)(JSON.stringify({version:2,heartbeats:Ae})).length}!function pn(Ae){Fn(new H.wA("platform-logger",pe=>new q(pe),"PRIVATE")),Fn(new H.wA("heartbeat",pe=>new ii(pe),"PRIVATE")),Xt(ee,"0.9.0",Ae),Xt(ee,"0.9.0","esm2017"),Xt("fire-js","")}("")},4859:(Ke,me,P)=>{P.d(me,{H0:()=>ee,wA:()=>N,zt:()=>ie});var u=P(5861),H=P(2090);class N{constructor(O,V,U){this.name=O,this.instanceFactory=V,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const X="[DEFAULT]";class ie{constructor(O,V){this.name=O,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const V=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(V)){const U=new H.BH;if(this.instancesDeferred.set(V,U),this.isInitialized(V)||this.shouldAutoInitialize())try{const ne=this.getOrInitializeService({instanceIdentifier:V});ne&&U.resolve(ne)}catch{}}return this.instancesDeferred.get(V).promise}getImmediate(O){var V;const U=this.normalizeInstanceIdentifier(O?.identifier),ne=null!==(V=O?.optional)&&void 0!==V&&V;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(fe){if(ne)return null;throw fe}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function ge(te){return"EAGER"===te.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[V,U]of this.instancesDeferred.entries()){const ne=this.normalizeInstanceIdentifier(V);try{const fe=this.getOrInitializeService({instanceIdentifier:ne});U.resolve(fe)}catch{}}}}clearInstance(O=X){this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}delete(){var O=this;return(0,u.Z)(function*(){const V=Array.from(O.instances.values());yield Promise.all([...V.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...V.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(O=X){return this.instances.has(O)}getOptions(O=X){return this.instancesOptions.get(O)||{}}initialize(O={}){const{options:V={}}=O,U=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ne=this.getOrInitializeService({instanceIdentifier:U,options:V});for(const[fe,He]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(fe)&&He.resolve(ne);return ne}onInit(O,V){var U;const ne=this.normalizeInstanceIdentifier(V),fe=null!==(U=this.onInitCallbacks.get(ne))&&void 0!==U?U:new Set;fe.add(O),this.onInitCallbacks.set(ne,fe);const He=this.instances.get(ne);return He&&O(He,ne),()=>{fe.delete(O)}}invokeOnInitCallbacks(O,V){const U=this.onInitCallbacks.get(V);if(U)for(const ne of U)try{ne(O,V)}catch{}}getOrInitializeService({instanceIdentifier:O,options:V={}}){let U=this.instances.get(O);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(te=O,te===X?void 0:te),options:V}),this.instances.set(O,U),this.instancesOptions.set(O,V),this.invokeOnInitCallbacks(U,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,U)}catch{}var te;return U||null}normalizeInstanceIdentifier(O=X){return this.component?this.component.multipleInstances?O:X:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(O){this.name=O,this.providers=new Map}addComponent(O){const V=this.getProvider(O.name);if(V.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);V.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const V=new ie(O,this);return this.providers.set(O,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:(Ke,me,P)=>{P.d(me,{Am:()=>te,Ub:()=>ee,Yd:()=>ge,in:()=>H});const u=[];var H=(()=>{return(O=H||(H={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",H;var O})();const N={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},X=H.INFO,ie={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},q=(O,V,...U)=>{if(V<O.logLevel)return;const ne=(new Date).toISOString(),fe=ie[V];if(!fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[fe](`[${ne}]  ${O.name}:`,...U)};class ge{constructor(V){this.name=V,this._logLevel=X,this._logHandler=q,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in H))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?N[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...V),this._logHandler(this,H.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...V),this._logHandler(this,H.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,H.INFO,...V),this._logHandler(this,H.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,H.WARN,...V),this._logHandler(this,H.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...V),this._logHandler(this,H.ERROR,...V)}}function ee(O){u.forEach(V=>{V.setLogLevel(O)})}function te(O,V){for(const U of u){let ne=null;V&&V.level&&(ne=N[V.level]),U.userLogHandler=null===O?null:(fe,He,...Ie)=>{const ae=Ie.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch{return null}}).filter(Te=>Te).join(" ");He>=(ne??fe.logLevel)&&O({level:H[He].toLowerCase(),message:ae,args:Ie,type:fe.name})}}}},259:(Ke,me,P)=>{P.d(me,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=P(9681);(0,u.registerVersion)("firebase","9.15.0","app")},9260:(Ke,me,P)=>{P.d(me,{Z:()=>u.Z});var u=P(3942);u.Z.registerVersion("firebase","9.15.0","app-compat")},9568:(Ke,me,P)=>{P.r(me);var u=P(5861),H=P(3942),N=P(661),X=P(2090),ge=(P(9681),P(1877),P(4859));function ee(){return window}function V(){return(V=(0,u.Z)(function*(j,k,B){var oe;const{BuildInfo:_e}=ee();(0,N.ap)(k.sessionId,"AuthEvent did not contain a session ID");const We=yield Te(k.sessionId),Re={};return(0,N.aq)()?Re.ibi=_e.packageName:(0,N.ar)()?Re.apn=_e.packageName:(0,N.as)(j,"operation-not-supported-in-this-environment"),_e.displayName&&(Re.appDisplayName=_e.displayName),Re.sessionId=We,(0,N.at)(j,B,k.type,void 0,null!==(oe=k.eventId)&&void 0!==oe?oe:void 0,Re)})).apply(this,arguments)}function ne(){return(ne=(0,u.Z)(function*(j){const{BuildInfo:k}=ee(),B={};(0,N.aq)()?B.iosBundleId=k.packageName:(0,N.ar)()?B.androidPackageName=k.packageName:(0,N.as)(j,"operation-not-supported-in-this-environment"),yield(0,N.au)(j,B)})).apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(j,k,B){const{cordova:oe}=ee();let _e=()=>{};try{yield new Promise((We,Re)=>{let pt=null;function Je(){var rt;We();const Zn=null===(rt=oe.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Zn&&Zn(),"function"==typeof B?.close&&B.close()}function qt(){pt||(pt=window.setTimeout(()=>{Re((0,N.aw)(j,"redirect-cancelled-by-user"))},2e3))}function Rn(){"visible"===document?.visibilityState&&qt()}k.addPassiveListener(Je),document.addEventListener("resume",qt,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",Rn,!1),_e=()=>{k.removePassiveListener(Je),document.removeEventListener("resume",qt,!1),document.removeEventListener("visibilitychange",Rn,!1),pt&&window.clearTimeout(pt)}})}finally{_e()}})).apply(this,arguments)}function Te(j){return he.apply(this,arguments)}function he(){return(he=(0,u.Z)(function*(j){const k=ce(j),B=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(B)).map(_e=>_e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ce(j){if((0,N.ap)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const k=new ArrayBuffer(j.length),B=new Uint8Array(k);for(let oe=0;oe<j.length;oe++)B[oe]=j.charCodeAt(oe);return B}class at extends N.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(k)),super.onEvent(k)}initialized(){var k=this;return(0,u.Z)(function*(){yield k.initPromise})()}}function qe(j){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(j){const k=yield Ne()._get(ct(j));return k&&(yield Ne()._remove(ct(j))),k})).apply(this,arguments)}function Pe(){const j=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const oe=Math.floor(Math.random()*k.length);j.push(k.charAt(oe))}return j.join("")}function Ne(){return(0,N.az)(N.b)}function ct(j){return(0,N.aA)("authEvent",j.config.apiKey,j.name)}function pr(j){if(!j?.includes("?"))return{};const[k,...B]=j.split("?");return(0,X.zd)(B.join("?"))}const On=class Ri{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(k){var B=this;return(0,u.Z)(function*(){const oe=k._key();let _e=B.eventManagers.get(oe);return _e||(_e=new at(k),B.eventManagers.set(oe,_e),B.attachCallbackListeners(k,_e)),_e})()}_openPopup(k){(0,N.as)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,B,oe,_e){var We=this;return(0,u.Z)(function*(){!function ae(j){var k,B,oe,_e,We,Re,pt,Je,qt,Rn;const rt=ee();(0,N.ax)("function"==typeof(null===(k=rt?.universalLinks)||void 0===k?void 0:k.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(B=rt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(We=null===(_e=null===(oe=rt?.cordova)||void 0===oe?void 0:oe.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===We?void 0:We.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Je=null===(pt=null===(Re=rt?.cordova)||void 0===Re?void 0:Re.plugins)||void 0===pt?void 0:pt.browsertab)||void 0===Je?void 0:Je.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Rn=null===(qt=rt?.cordova)||void 0===qt?void 0:qt.InAppBrowser)||void 0===Rn?void 0:Rn.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const Re=yield We._initialize(k);yield Re.initialized(),Re.resetRedirect(),(0,N.aD)(),yield We._originValidation(k);const pt=function Nt(j,k,B=null){return{type:k,eventId:B,urlResponse:null,sessionId:Pe(),postBody:null,tenantId:j.tenantId,error:(0,N.aw)(j,"no-auth-event")}}(k,oe,_e);yield function xt(j,k){return Ne()._set(ct(j),k)}(k,pt);const Je=yield function O(j,k,B){return V.apply(this,arguments)}(k,pt,B),qt=yield function fe(j){const{cordova:k}=ee();return new Promise(B=>{k.plugins.browsertab.isAvailable(oe=>{let _e=null;oe?k.plugins.browsertab.openUrl(j):_e=k.InAppBrowser.open(j,(0,N.av)()?"_blank":"_system","location=yes"),B(_e)})})}(Je);return function He(j,k,B){return Ie.apply(this,arguments)}(k,Re,qt)})()}_isIframeWebStorageSupported(k,B){throw new Error("Method not implemented.")}_originValidation(k){const B=k._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function U(j){return ne.apply(this,arguments)}(k)),this.originValidationPromises[B]}attachCallbackListeners(k,B){const{universalLinks:oe,handleOpenURL:_e,BuildInfo:We}=ee(),Re=setTimeout((0,u.Z)(function*(){yield qe(k),B.onEvent(qi())}),500),pt=function(){var Rn=(0,u.Z)(function*(rt){clearTimeout(Re);const Zn=yield qe(k);let ol=null;Zn&&rt?.url&&(ol=function we(j,k){var B,oe;const _e=function Zt(j){const k=pr(j),B=k.link?decodeURIComponent(k.link):void 0,oe=pr(B).link,_e=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return pr(_e).link||_e||oe||B||j}(k);if(_e.includes("/__/auth/callback")){const We=pr(_e),Re=We.firebaseError?function Fe(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(We.firebaseError)):null,pt=null===(oe=null===(B=Re?.code)||void 0===B?void 0:B.split("auth/"))||void 0===oe?void 0:oe[1],Je=pt?(0,N.aw)(pt):null;return Je?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:Je,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:_e,postBody:null}}return null}(Zn,rt.url)),B.onEvent(ol||qi())});return function(Zn){return Rn.apply(this,arguments)}}();typeof oe<"u"&&"function"==typeof oe.subscribe&&oe.subscribe(null,pt);const Je=_e,qt=`${We.packageName.toLowerCase()}://`;ee().handleOpenURL=function(){var Rn=(0,u.Z)(function*(rt){if(rt.toLowerCase().startsWith(qt)&&pt({url:rt}),"function"==typeof Je)try{Je(rt)}catch(Zn){console.error(Zn)}});return function(rt){return Rn.apply(this,arguments)}}()}};function qi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function Fn(){var j;return(null===(j=self?.location)||void 0===j?void 0:j.protocol)||null}function Zr(j=(0,X.z$)()){return!("file:"!==Fn()&&"ionic:"!==Fn()&&"capacitor:"!==Fn()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dr(){try{const j=self.localStorage,k=N.aI();if(j)return j.setItem(k,"1"),j.removeItem(k),!function ri(j=(0,X.z$)()){return function Vt(){return(0,X.w1)()&&11===document?.documentMode}()||function Wt(j=(0,X.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,X.hl)()}catch{return Tr()&&(0,X.hl)()}return!1}function Tr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function De(){return(function St(){return"http:"===Fn()||"https:"===Fn()}()||(0,X.ru)()||Zr())&&!function sr(){return(0,X.b$)()||(0,X.UG)()}()&&Dr()&&!Tr()}function un(){return Zr()&&typeof document<"u"}function Bt(){return(Bt=(0,u.Z)(function*(){return!!un()&&new Promise(j=>{const k=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),j(!0)})})})).apply(this,arguments)}const Be={LOCAL:"local",NONE:"none",SESSION:"session"},or=N.ax,zn="persistence";function fn(j){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(j){yield j._initializationPromise;const k=Ye(),B=N.aA(zn,j.config.apiKey,j.name);k&&k.setItem(B,j._getPersistence())})).apply(this,arguments)}function Ye(){var j;try{return(null===(j=function Xt(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const nt=N.ax;class Sn{constructor(){this.browserResolver=N.az(N.k),this.cordovaResolver=N.az(On),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(k){var B=this;return(0,u.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,B,oe,_e){var We=this;return(0,u.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openPopup(k,B,oe,_e)})()}_openRedirect(k,B,oe,_e){var We=this;return(0,u.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openRedirect(k,B,oe,_e)})()}_isIframeWebStorageSupported(k,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,B)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return un()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,u.Z)(function*(){if(k.underlyingResolver)return;const B=yield function Tn(){return Bt.apply(this,arguments)}();k.underlyingResolver=B?k.cordovaResolver:k.browserResolver})()}}function Ln(j){return j.unwrap()}function Ot(j){return ii(j)}function ii(j){const{_tokenResponse:k}=j instanceof X.ZR?j.customData:j;if(!k)return null;if(!(j instanceof X.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return N.P.credentialFromResult(j);const B=k.providerId;if(!B||B===N.o.PASSWORD)return null;let oe;switch(B){case N.o.GOOGLE:oe=N.Q;break;case N.o.FACEBOOK:oe=N.N;break;case N.o.GITHUB:oe=N.T;break;case N.o.TWITTER:oe=N.W;break;default:const{oauthIdToken:_e,oauthAccessToken:We,oauthTokenSecret:Re,pendingToken:pt,nonce:Je}=k;return We||Re||_e||pt?pt?B.startsWith("saml.")?N.aL._create(B,pt):N.J._fromParams({providerId:B,signInMethod:B,pendingToken:pt,idToken:_e,accessToken:We}):new N.U(B).credential({idToken:_e,accessToken:We,rawNonce:Je}):null}return j instanceof X.ZR?oe.credentialFromError(j):oe.credentialFromResult(j)}function vt(j,k){return k.catch(B=>{throw B instanceof X.ZR&&function At(j,k){var B;const oe=null===(B=k.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new Un(j,N.an(j,k));else if(oe){const _e=ii(k),We=k;_e&&(We.credential=_e,We.tenantId=oe.tenantId||void 0,We.email=oe.email||void 0,We.phoneNumber=oe.phoneNumber||void 0)}}(j,B),B}).then(B=>{const _e=B.user;return{operationType:B.operationType,credential:Ot(B),additionalUserInfo:N.al(B),user:pn.getOrCreate(_e)}})}function gr(j,k){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*(j,k){const B=yield k;return{verificationId:B.verificationId,confirm:oe=>vt(j,B.confirm(oe))}})).apply(this,arguments)}class Un{constructor(k,B){this.resolver=B,this.auth=function nn(j){return j.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return vt(Ln(this.auth),this.resolver.resolveSignIn(k))}}class pn{constructor(k){this._delegate=k,this.multiFactor=N.ao(k)}static getOrCreate(k){return pn.USER_MAP.has(k)||pn.USER_MAP.set(k,new pn(k)),pn.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var B=this;return(0,u.Z)(function*(){return vt(B.auth,N.Z(B._delegate,k))})()}linkWithPhoneNumber(k,B){var oe=this;return(0,u.Z)(function*(){return gr(oe.auth,N.l(oe._delegate,k,B))})()}linkWithPopup(k){var B=this;return(0,u.Z)(function*(){return vt(B.auth,N.d(B._delegate,k,Sn))})()}linkWithRedirect(k){var B=this;return(0,u.Z)(function*(){return yield fn(N.aE(B.auth)),N.g(B._delegate,k,Sn)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var B=this;return(0,u.Z)(function*(){return vt(B.auth,N._(B._delegate,k))})()}reauthenticateWithPhoneNumber(k,B){return gr(this.auth,N.r(this._delegate,k,B))}reauthenticateWithPopup(k){return vt(this.auth,N.e(this._delegate,k,Sn))}reauthenticateWithRedirect(k){var B=this;return(0,u.Z)(function*(){return yield fn(N.aE(B.auth)),N.h(B._delegate,k,Sn)})()}sendEmailVerification(k){return N.ab(this._delegate,k)}unlink(k){var B=this;return(0,u.Z)(function*(){return yield N.ak(B._delegate,k),B})()}updateEmail(k){return N.ag(this._delegate,k)}updatePassword(k){return N.ah(this._delegate,k)}updatePhoneNumber(k){return N.u(this._delegate,k)}updateProfile(k){return N.af(this._delegate,k)}verifyBeforeUpdateEmail(k,B){return N.ac(this._delegate,k,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pn.USER_MAP=new WeakMap;const Ae=N.ax;let pe=(()=>{class j{constructor(B,oe){if(this.app=B,oe.isInitialized())return this._delegate=oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_e}=B.options;Ae(_e,"invalid-api-key",{appName:B.name}),Ae(_e,"invalid-api-key",{appName:B.name});const We=typeof window<"u"?Sn:void 0;this._delegate=oe.initialize({options:{persistence:ut(_e,B.name),popupRedirectResolver:We}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,oe){N.G(this._delegate,B,oe)}applyActionCode(B){return N.a2(this._delegate,B)}checkActionCode(B){return N.a3(this._delegate,B)}confirmPasswordReset(B,oe){return N.a1(this._delegate,B,oe)}createUserWithEmailAndPassword(B,oe){var _e=this;return(0,u.Z)(function*(){return vt(_e._delegate,N.a5(_e._delegate,B,oe))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return N.aa(this._delegate,B)}isSignInWithEmailLink(B){return N.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,u.Z)(function*(){Ae(De(),B._delegate,"operation-not-supported-in-this-environment");const oe=yield N.j(B._delegate,Sn);return oe?vt(B._delegate,Promise.resolve(oe)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function Jt(j,k){(0,N.aE)(j)._logFramework(k)}(this._delegate,B)}onAuthStateChanged(B,oe,_e){const{next:We,error:Re,complete:pt}=Ve(B,oe,_e);return this._delegate.onAuthStateChanged(We,Re,pt)}onIdTokenChanged(B,oe,_e){const{next:We,error:Re,complete:pt}=Ve(B,oe,_e);return this._delegate.onIdTokenChanged(We,Re,pt)}sendSignInLinkToEmail(B,oe){return N.a7(this._delegate,B,oe)}sendPasswordResetEmail(B,oe){return N.a0(this._delegate,B,oe||void 0)}setPersistence(B){var oe=this;return(0,u.Z)(function*(){let _e;switch(function cn(j,k){or(Object.values(Be).includes(k),j,"invalid-persistence-type"),(0,X.b$)()?or(k!==Be.SESSION,j,"unsupported-persistence-type"):(0,X.UG)()?or(k===Be.NONE,j,"unsupported-persistence-type"):Tr()?or(k===Be.NONE||k===Be.LOCAL&&(0,X.hl)(),j,"unsupported-persistence-type"):or(k===Be.NONE||Dr(),j,"unsupported-persistence-type")}(oe._delegate,B),B){case Be.SESSION:_e=N.a;break;case Be.LOCAL:_e=(yield N.az(N.i)._isAvailable())?N.i:N.b;break;case Be.NONE:_e=N.L;break;default:return N.as("argument-error",{appName:oe._delegate.name})}return oe._delegate.setPersistence(_e)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return vt(this._delegate,N.X(this._delegate))}signInWithCredential(B){return vt(this._delegate,N.Y(this._delegate,B))}signInWithCustomToken(B){return vt(this._delegate,N.$(this._delegate,B))}signInWithEmailAndPassword(B,oe){return vt(this._delegate,N.a6(this._delegate,B,oe))}signInWithEmailLink(B,oe){return vt(this._delegate,N.a9(this._delegate,B,oe))}signInWithPhoneNumber(B,oe){return gr(this._delegate,N.s(this._delegate,B,oe))}signInWithPopup(B){var oe=this;return(0,u.Z)(function*(){return Ae(De(),oe._delegate,"operation-not-supported-in-this-environment"),vt(oe._delegate,N.c(oe._delegate,B,Sn))})()}signInWithRedirect(B){var oe=this;return(0,u.Z)(function*(){return Ae(De(),oe._delegate,"operation-not-supported-in-this-environment"),yield fn(oe._delegate),N.f(oe._delegate,B,Sn)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return N.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=Be,j})();function Ve(j,k,B){let oe=j;"function"!=typeof j&&({next:oe,error:k,complete:B}=j);const _e=oe;return{next:Re=>_e(Re&&pn.getOrCreate(Re)),error:k,complete:B}}function ut(j,k){const B=function ht(j,k){const B=Ye();if(!B)return[];const oe=N.aA(zn,j,k);switch(B.getItem(oe)){case Be.NONE:return[N.L];case Be.LOCAL:return[N.i,N.a];case Be.SESSION:return[N.a];default:return[]}}(j,k);if(typeof self<"u"&&!B.includes(N.i)&&B.push(N.i),typeof window<"u")for(const oe of[N.b,N.a])B.includes(oe)||B.push(oe);return B.includes(N.L)||B.push(N.L),B}class _t{constructor(){this.providerId="phone",this._delegate=new N.P(Ln(H.Z.auth()))}static credential(k,B){return N.P.credential(k,B)}verifyPhoneNumber(k,B){return this._delegate.verifyPhoneNumber(k,B)}unwrap(){return this._delegate}}_t.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,_t.PROVIDER_ID=N.P.PROVIDER_ID;const bt=N.ax;class z{constructor(k,B,oe=H.Z.app()){var _e;bt(null===(_e=oe.options)||void 0===_e?void 0:_e.apiKey,"invalid-api-key",{appName:oe.name}),this._delegate=new N.R(k,B,oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y(j){j.INTERNAL.registerComponent(new ge.wA("auth-compat",k=>{const B=k.getProvider("app-compat").getImmediate(),oe=k.getProvider("auth");return new pe(B,oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:_t,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:z,TwitterAuthProvider:N.W,Auth:pe,AuthCredential:N.H,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.3.0")}(H.Z)},8766:(Ke,me,P)=>{P.d(me,{Lj:()=>Ue,X3:()=>ce});var u=P(5861);let N,X;const ge=new WeakMap,ee=new WeakMap,te=new WeakMap,O=new WeakMap,V=new WeakMap;let fe={get(ve,we,Pe){if(ve instanceof IDBTransaction){if("done"===we)return ee.get(ve);if("objectStoreNames"===we)return ve.objectStoreNames||te.get(ve);if("store"===we)return Pe.objectStoreNames[1]?void 0:Pe.objectStore(Pe.objectStoreNames[0])}return Te(ve[we])},set:(ve,we,Pe)=>(ve[we]=Pe,!0),has:(ve,we)=>ve instanceof IDBTransaction&&("done"===we||"store"===we)||we in ve};function ae(ve){return"function"==typeof ve?function Ie(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...we){return ve.apply(he(this),we),Te(ge.get(this))}:function(...we){return Te(ve.apply(he(this),we))}:function(we,...Pe){const Ne=ve.call(he(this),we,...Pe);return te.set(Ne,we.sort?we.sort():[we]),Te(Ne)}}(ve):(ve instanceof IDBTransaction&&function ne(ve){if(ee.has(ve))return;const we=new Promise((Pe,Ne)=>{const ct=()=>{ve.removeEventListener("complete",Fe),ve.removeEventListener("error",Zt),ve.removeEventListener("abort",Zt)},Fe=()=>{Pe(),ct()},Zt=()=>{Ne(ve.error||new DOMException("AbortError","AbortError")),ct()};ve.addEventListener("complete",Fe),ve.addEventListener("error",Zt),ve.addEventListener("abort",Zt)});ee.set(ve,we)}(ve),((ve,we)=>we.some(Pe=>ve instanceof Pe))(ve,function ie(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,fe):ve)}function Te(ve){if(ve instanceof IDBRequest)return function U(ve){const we=new Promise((Pe,Ne)=>{const ct=()=>{ve.removeEventListener("success",Fe),ve.removeEventListener("error",Zt)},Fe=()=>{Pe(Te(ve.result)),ct()},Zt=()=>{Ne(ve.error),ct()};ve.addEventListener("success",Fe),ve.addEventListener("error",Zt)});return we.then(Pe=>{Pe instanceof IDBCursor&&ge.set(Pe,ve)}).catch(()=>{}),V.set(we,ve),we}(ve);if(O.has(ve))return O.get(ve);const we=ae(ve);return we!==ve&&(O.set(ve,we),V.set(we,ve)),we}const he=ve=>V.get(ve);function ce(ve,we,{blocked:Pe,upgrade:Ne,blocking:ct,terminated:Fe}={}){const Zt=indexedDB.open(ve,we),pr=Te(Zt);return Ne&&Zt.addEventListener("upgradeneeded",xn=>{Ne(Te(Zt.result),xn.oldVersion,xn.newVersion,Te(Zt.transaction))}),Pe&&Zt.addEventListener("blocked",()=>Pe()),pr.then(xn=>{Fe&&xn.addEventListener("close",()=>Fe()),ct&&xn.addEventListener("versionchange",()=>ct())}).catch(()=>{}),pr}function Ue(ve,{blocked:we}={}){const Pe=indexedDB.deleteDatabase(ve);return we&&Pe.addEventListener("blocked",()=>we()),Te(Pe).then(()=>{})}const at=["get","getKey","getAll","getAllKeys","count"],Nt=["put","add","delete","clear"],xt=new Map;function qe(ve,we){if(!(ve instanceof IDBDatabase)||we in ve||"string"!=typeof we)return;if(xt.get(we))return xt.get(we);const Pe=we.replace(/FromIndex$/,""),Ne=we!==Pe,ct=Nt.includes(Pe);if(!(Pe in(Ne?IDBIndex:IDBObjectStore).prototype)||!ct&&!at.includes(Pe))return;const Fe=function(){var Zt=(0,u.Z)(function*(pr,...xn){const Ri=this.transaction(pr,ct?"readwrite":"readonly");let On=Ri.store;return Ne&&(On=On.index(xn.shift())),(yield Promise.all([On[Pe](...xn),ct&&Ri.done]))[0]});return function(xn){return Zt.apply(this,arguments)}}();return xt.set(we,Fe),Fe}!function He(ve){fe=ve(fe)}(ve=>({...ve,get:(we,Pe,Ne)=>qe(we,Pe)||ve.get(we,Pe,Ne),has:(we,Pe)=>!!qe(we,Pe)||ve.has(we,Pe)}))},5861:(Ke,me,P)=>{function u(N,X,ie,q,ge,ee,te){try{var O=N[ee](te),V=O.value}catch(U){return void ie(U)}O.done?X(V):Promise.resolve(V).then(q,ge)}function H(N){return function(){var X=this,ie=arguments;return new Promise(function(q,ge){var ee=N.apply(X,ie);function te(V){u(ee,q,ge,te,O,"next",V)}function O(V){u(ee,q,ge,te,O,"throw",V)}te(void 0)})}}P.d(me,{Z:()=>H})}},Ke=>{Ke(Ke.s=9767)}]);